function Hammer(e,t,n){function T(e){return e.touches?e.touches.length:1}function N(e){e=e||window.event;if(!S){var t=document,n=t.body;return[{x:e.pageX||e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t&&t.clientLeft||n&&t.clientLeft||0),y:e.pageY||e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t&&t.clientTop||n&&t.clientTop||0)}]}var r=[],i;for(var s=0,o=e.touches.length;s<o;s++)i=e.touches[s],r.push({x:i.pageX,y:i.pageY});return r}function C(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function k(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function L(e,t){if(e.length==2&&t.length==2){var n=k(e[0],e[1]),r=k(t[0],t[1]);return r/n}return 0}function A(e,t){if(e.length==2&&t.length==2){var n=C(e[1],e[0]),r=C(t[1],t[0]);return r-n}return 0}function O(e,t){t.touches=N(t.originalEvent),t.type=e,F(r["on"+e])&&r["on"+e].call(r,t)}function M(e){e=e||window.event,e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0)}function _(){a={},l=!1,f=0,s=0,o=0,c=null}function P(n){function m(){a.start=N(n),p=(new Date).getTime(),f=T(n),l=!0,b=n;var t=e.getBoundingClientRect(),r=e.clientTop||document.body.clientTop||0,i=e.clientLeft||document.body.clientLeft||0,s=window.pageYOffset||e.scrollTop||document.body.scrollTop,o=window.pageXOffset||e.scrollLeft||document.body.scrollLeft;g={top:t.top+s-r,left:t.left+o-i},y=!0,D.hold(n)}var r;switch(n.type){case"mousedown":case"touchstart":r=T(n),x=r===1,r===2&&c==="drag"&&O("dragend",{originalEvent:n,direction:u,distance:s,angle:o}),m(),t.prevent_default&&M(n);break;case"mousemove":case"touchmove":r=T(n);if(!y&&r===1)return!1;!y&&r===2&&(x=!1,_(),m()),w=n,a.move=N(n),D.transform(n)||D.drag(n);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":var i=!0;y=!1,E=n,D.swipe(n);if(c=="drag")O("dragend",{originalEvent:n,direction:u,distance:s,angle:o});else if(c=="transform"){var d=a.center.x-a.startCenter.x,v=a.center.y-a.startCenter.y;O("transformend",{originalEvent:n,position:a.center,scale:L(a.start,a.move),rotation:A(a.start,a.move),distance:s,distanceX:d,distanceY:v}),T(n)===1&&(_(),m(),i=!1)}else x&&D.tap(b);h=c,O("release",{originalEvent:n,gesture:c,position:a.move||a.start}),i&&_()}}function H(t){B(e,t.relatedTarget)||P(t)}function B(e,t){!t&&window.event&&window.event.toElement&&(t=window.event.toElement);if(e===t)return!0;if(t){var n=t.parentNode;while(n!==null){if(n===e)return!0;n=n.parentNode}}return!1}function j(e,t){var n={};if(!t)return e;for(var r in e)r in t?n[r]=t[r]:n[r]=e[r];return n}function F(e){return Object.prototype.toString.call(e)=="[object Function]"}function I(e,t,n){t=t.split(" ");for(var r=0,i=t.length;r<i;r++)e.addEventListener?e.addEventListener(t[r],n,!1):document.attachEvent&&e.attachEvent("on"+t[r],n)}function q(e,t,n){t=t.split(" ");for(var r=0,i=t.length;r<i;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):document.detachEvent&&e.detachEvent("on"+t[r],n)}var r=this,i={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};t=j(i,t),function(){if(!t.css_hacks)return!1;var n=["webkit","moz","ms","o",""],r={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},i="";for(var s=0;s<n.length;s++)for(var o in r)i=o,n[s]&&(i=n[s]+i.substring(0,1).toUpperCase()+i.substring(1)),e.style[i]=r[o]}();var s=0,o=0,u=0,a={},f=0,l=!1,c=null,h=null,p=null,d={x:0,y:0},v=null,m=null,g={},y=!1,b,w,E,S="ontouchstart"in window,x=!1;this.option=function(e,r){return r!==n&&(t[e]=r),t[e]},this.getDirectionFromAngle=function(e){var t={down:e>=45&&e<135,left:e>=135||e<=-135,up:e<-45&&e>-135,right:e>=-45&&e<=45},n,r;for(r in t)if(t[r]){n=r;break}return n},this.destroy=function(){S?q(e,"touchstart touchmove touchend touchcancel",P):(q(e,"mouseup mousedown mousemove",P),q(e,"mouseout",H))};var D={hold:function(e){t.hold&&(c="hold",clearTimeout(m),m=setTimeout(function(){c=="hold"&&O("hold",{originalEvent:e,position:a.start})},t.hold_timeout))},swipe:function(e){if(!a.move||c==="transform")return;var n=a.move[0].x-a.start[0].x,i=a.move[0].y-a.start[0].y;s=Math.sqrt(n*n+i*i);var f=(new Date).getTime(),l=f-p;if(t.swipe&&t.swipe_time>l&&s>t.swipe_min_distance){o=C(a.start[0],a.move[0]),u=r.getDirectionFromAngle(o),c="swipe";var h={x:a.move[0].x-g.left,y:a.move[0].y-g.top},d={originalEvent:e,position:h,direction:u,distance:s,distanceX:n,distanceY:i,angle:o};O("swipe",d)}},drag:function(e){var n=a.move[0].x-a.start[0].x,i=a.move[0].y-a.start[0].y;s=Math.sqrt(n*n+i*i);if(t.drag&&s>t.drag_min_distance||c=="drag"){o=C(a.start[0],a.move[0]),u=r.getDirectionFromAngle(o);var f=u=="up"||u=="down";if((f&&!t.drag_vertical||!f&&!t.drag_horizontal)&&s>t.drag_min_distance)return;c="drag";var h={x:a.move[0].x-g.left,y:a.move[0].y-g.top},p={originalEvent:e,position:h,direction:u,distance:s,distanceX:n,distanceY:i,angle:o};l&&(O("dragstart",p),l=!1),O("drag",p),M(e)}},transform:function(e){if(t.transform){var n=T(e);if(n!==2)return!1;var r=A(a.start,a.move),i=L(a.start,a.move);if(c==="transform"||Math.abs(1-i)>t.scale_treshold||Math.abs(r)>t.rotation_treshold){c="transform",a.center={x:(a.move[0].x+a.move[1].x)/2-g.left,y:(a.move[0].y+a.move[1].y)/2-g.top},l&&(a.startCenter=a.center);var o=a.center.x-a.startCenter.x,u=a.center.y-a.startCenter.y;s=Math.sqrt(o*o+u*u);var f={originalEvent:e,position:a.center,scale:i,rotation:r,distance:s,distanceX:o,distanceY:u};return l&&(O("transformstart",f),l=!1),O("transform",f),M(e),!0}}return!1},tap:function(e){var n=(new Date).getTime(),r=n-p;if(t.hold&&!(t.hold&&t.hold_timeout>r))return;var i=function(){if(d&&t.tap_double&&h=="tap"&&a.start&&p-v<t.tap_max_interval){var e=Math.abs(d[0].x-a.start[0].x),n=Math.abs(d[0].y-a.start[0].y);return d&&a.start&&Math.max(e,n)<t.tap_double_distance}return!1}();if(i)c="double_tap",v=null,O("doubletap",{originalEvent:e,position:a.start}),M(e);else{var o=a.move?Math.abs(a.move[0].x-a.start[0].x):0,u=a.move?Math.abs(a.move[0].y-a.start[0].y):0;s=Math.max(o,u),s<t.tap_max_distance&&(c="tap",v=n,d=a.start,t.tap&&(O("tap",{originalEvent:e,position:a.start}),M(e)))}}};S?I(e,"touchstart touchmove touchend touchcancel",P):(I(e,"mouseup mousedown mousemove",P),I(e,"mouseout",H))}function Vector(){}function Line(){}function Matrix(){}(function(){"use strict";var e=typeof window!="undefined"?window:global;if(typeof e.require=="function")return;var t={},n={},r=function(e,t){return{}.hasOwnProperty.call(e,t)},i=function(e,t){var n=[],r,i;/^\.\.?(\/|$)/.test(t)?r=[e,t].join("/").split("/"):r=t.split("/");for(var s=0,o=r.length;s<o;s++)i=r[s],i===".."?n.pop():i!=="."&&i!==""&&n.push(i);return n.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},o=function(t){return function(n){var r=s(t),o=i(r,n);return e.require(o,t)}},u=function(e,t){var r={id:e,exports:{}};t(r.exports,o(e),r);var i=n[e]=r.exports;return i},a=function(e,s){var o=i(e,".");s==null&&(s="/");if(r(n,o))return n[o];if(r(t,o))return u(o,t[o]);var a=i(o,"./index");if(r(n,a))return n[a];if(r(t,a))return u(a,t[a]);throw new Error('Cannot find module "'+e+'" from '+'"'+s+'"')},f=function(e,n){if(typeof e=="object")for(var i in e)r(e,i)&&(t[i]=e[i]);else t[e]=n},l=function(){var e=[];for(var n in t)r(t,n)&&e.push(n);return e};e.require=a,e.require.define=f,e.require.register=f,e.require.list=l,e.require.brunch=!0})(),window.Modernizr=function(e,t,n){function A(e){f.cssText=e}function O(e,t){return A(p.join(e+";")+(t||""))}function M(e,t){return typeof e===t}function _(e,t){return!!~(""+e).indexOf(t)}function D(e,t){for(var r in e){var i=e[r];if(!_(i,"-")&&f[i]!==n)return t=="pfx"?i:!0}return!1}function P(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:M(s,"function")?s.bind(r||t):s}return!1}function H(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+v.join(r+" ")+r).split(" ");return M(t,"string")||M(t,"undefined")?D(i,t):(i=(e+" "+m.join(r+" ")+r).split(" "),P(i,t,n))}function B(){i.input=function(n){for(var r=0,i=n.length;r<i;r++)w[n[r]]=n[r]in l;return w.list&&(w.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),i.inputtypes=function(e){for(var r=0,i,s,u,a=e.length;r<a;r++)l.setAttribute("type",s=e[r]),i=l.type!=="text",i&&(l.value=c,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&l.style.WebkitAppearance!==n?(o.appendChild(l),u=t.defaultView,i=u.getComputedStyle&&u.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,o.removeChild(l)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=l.checkValidity&&l.checkValidity()===!1:i=l.value!=c)),b[e[r]]=!!i;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.6.2",i={},s=!0,o=t.documentElement,u="modernizr",a=t.createElement(u),f=a.style,l=t.createElement("input"),c=":)",h={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms",v=d.split(" "),m=d.toLowerCase().split(" "),g={svg:"http://www.w3.org/2000/svg"},y={},b={},w={},E=[],S=E.slice,x,T=function(e,n,r,i){var s,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:u+(r+1),c.appendChild(f);return s=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),c.id=u,(h?c:p).innerHTML+=s,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=o.style.overflow,o.style.overflow="hidden",o.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),o.style.overflow=l),!!a},N=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return T("@media "+t+" { #"+u+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},C=function(){function r(r,i){i=i||t.createElement(e[r]||"div"),r="on"+r;var s=r in i;return s||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),s=M(i[r],"function"),M(i[r],"undefined")||(i[r]=n),i.removeAttribute(r))),i=null,s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),k={}.hasOwnProperty,L;!M(k,"undefined")&&!M(k.call,"undefined")?L=function(e,t){return k.call(e,t)}:L=function(e,t){return t in e&&M(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=S.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(S.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(S.call(arguments)))};return i}),y.flexbox=function(){return H("flexWrap")},y.flexboxlegacy=function(){return H("boxDirection")},y.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},y.canvastext=function(){return!!i.canvas&&!!M(t.createElement("canvas").getContext("2d").fillText,"function")},y.webgl=function(){return!!e.WebGLRenderingContext},y.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",p.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},y.geolocation=function(){return"geolocation"in navigator},y.postmessage=function(){return!!e.postMessage},y.websqldatabase=function(){return!!e.openDatabase},y.indexedDB=function(){return!!H("indexedDB",e)},y.hashchange=function(){return C("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},y.history=function(){return!!e.history&&!!history.pushState},y.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},y.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},y.rgba=function(){return A("background-color:rgba(150,255,150,.5)"),_(f.backgroundColor,"rgba")},y.hsla=function(){return A("background-color:hsla(120,40%,100%,.5)"),_(f.backgroundColor,"rgba")||_(f.backgroundColor,"hsla")},y.multiplebgs=function(){return A("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(f.background)},y.backgroundsize=function(){return H("backgroundSize")},y.borderimage=function(){return H("borderImage")},y.borderradius=function(){return H("borderRadius")},y.boxshadow=function(){return H("boxShadow")},y.textshadow=function(){return t.createElement("div").style.textShadow===""},y.opacity=function(){return O("opacity:.55"),/^0.55$/.test(f.opacity)},y.cssanimations=function(){return H("animationName")},y.csscolumns=function(){return H("columnCount")},y.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return A((e+"-webkit- ".split(" ").join(t+e)+p.join(n+e)).slice(0,-e.length)),_(f.backgroundImage,"gradient")},y.cssreflections=function(){return H("boxReflect")},y.csstransforms=function(){return!!H("transform")},y.csstransforms3d=function(){var e=!!H("perspective");return e&&"webkitPerspective"in o.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e},y.csstransitions=function(){return H("transition")},y.fontface=function(){var e;return T('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),s=i.sheet||i.styleSheet,o=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0}),e},y.generatedcontent=function(){var e;return T(["#",u,"{font:0/0 a}#",u,':after{content:"',c,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},y.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},y.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},y.localstorage=function(){try{return localStorage.setItem(u,u),localStorage.removeItem(u),!0}catch(e){return!1}},y.sessionstorage=function(){try{return sessionStorage.setItem(u,u),sessionStorage.removeItem(u),!0}catch(e){return!1}},y.webworkers=function(){return!!e.Worker},y.applicationcache=function(){return!!e.applicationCache},y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(g.svg,"svg").createSVGRect},y.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==g.svg},y.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(g.svg,"animate")))},y.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(g.svg,"clipPath")))};for(var j in y)L(y,j)&&(x=j.toLowerCase(),i[x]=y[j](),E.push((i[x]?"":"no-")+x));return i.input||B(),i.addTest=function(e,t){if(typeof e=="object")for(var r in e)L(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,typeof s!="undefined"&&s&&(o.className+=" "+(t?"":"no-")+e),i[e]=t}return i},A(""),a=l=null,function(e,t){function l(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function c(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function h(e){var t=a[e[o]];return t||(t={},u++,e[o]=u,a[u]=t),t}function p(e,n,s){n||(n=t);if(f)return n.createElement(e);s||(s=h(n));var o;return s.cache[e]?o=s.cache[e].cloneNode():i.test(e)?o=(s.cache[e]=s.createElem(e)).cloneNode():o=s.createElem(e),o.canHaveChildren&&!r.test(e)?s.frag.appendChild(o):o}function d(e,n){e||(e=t);if(f)return e.createDocumentFragment();n=n||h(e);var r=n.frag.cloneNode(),i=0,s=c(),o=s.length;for(;i<o;i++)r.createElement(s[i]);return r}function v(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?p(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function m(e){e||(e=t);var n=h(e);return g.shivCSS&&!s&&!n.hasCSS&&(n.hasCSS=!!l(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),f||v(e,n),e}var n=e.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,i=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s,o="_html5shiv",u=0,a={},f;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",s="hidden"in e,f=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){s=!0,f=!0}})();var g={elements:n.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:n.shivCSS!==!1,supportsUnknownElements:f,shivMethods:n.shivMethods!==!1,type:"default",shivDocument:m,createElement:p,createDocumentFragment:d};e.html5=g,m(t)}(this,t),i._version=r,i._prefixes=p,i._domPrefixes=m,i._cssomPrefixes=v,i.mq=N,i.hasEvent=C,i.testProp=function(e){return D([e])},i.testAllProps=H,i.testStyles=T,i.prefixed=function(e,t,n){return t?H(e,t,n):H(e,"pfx")},o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(s?" js "+E.join(" "):""),i}(this,this.document),function(e){var t,n=function(){},r="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");while(t=r.pop())e[t]=e[t]||n}(window.console=window.console||{});var TraceKit={};TraceKit._has=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},TraceKit.report=function(){function i(e){t.push(e)}function s(e){for(var n=t.length-1;n>=0;--n)t[n]===e&&t.splice(n,1)}function o(e,n){var r=null;if(n&&!TraceKit.collectWindowErrors)return;for(var i in t)if(TraceKit._has(t,i))try{t[i].apply(null,[e].concat(Array.prototype.slice.call(arguments,2)))}catch(s){r=s}if(r)throw r}function a(e){var t=Array.prototype.slice.call(arguments,1);if(r){if(n===e)return;var i=r;r=null,n=null,o.apply(null,[i,null].concat(t))}var s=TraceKit.computeStackTrace(e);throw r=s,n=e,window.setTimeout(function(){n===e&&(r=null,n=null,o.apply(null,[s,null].concat(t)))},s.incomplete?2e3:0),e}var t=[],n=null,r=null,u=window.onerror;return window.onerror=function(t,i,s){var a=null;if(r)TraceKit.computeStackTrace.augmentStackTraceWithInitialElement(r,i,s,t),a=r,r=null,n=null;else{var f={url:i,line:s};f.func=TraceKit.computeStackTrace.guessFunctionName(f.url,f.line),f.context=TraceKit.computeStackTrace.gatherContext(f.url,f.line),a={mode:"onerror",message:t,url:document.location.href,stack:[f],useragent:navigator.userAgent}}return o(a,"from window.onerror"),u?u.apply(this,arguments):!1},a.subscribe=i,a.unsubscribe=s,a}(),TraceKit.computeStackTrace=function(){function r(e){if(!TraceKit.remoteFetching)return"";try{var t;typeof XMLHttpRequest=="undefined"?t=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}throw new Error("No XHR.")}:t=XMLHttpRequest;var n=new t;return n.open("GET",e,!1),n.send(""),n.responseText}catch(r){return""}}function i(e){if(!TraceKit._has(n,e)){var t;e.indexOf(document.domain)!==-1?t=r(e):t=[],n[e]=t.length?t.split("\n"):[]}return n[e]}function s(e,t){var n=/function ([^(]*)\(([^)]*)\)/,r=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,s="",o=10,u=i(e),a;if(!u.length)return"?";for(var f=0;f<o;++f){s=u[t-f]+s;if(s!==undefined){if(a=r.exec(s))return a[1];if(a=n.exec(s))return a[1]}}return"?"}function o(e,t){var n=i(e);if(!n.length)return null;var r=[],s=Math.floor(TraceKit.linesOfContext/2),o=s+TraceKit.linesOfContext%2,u=Math.max(0,t-s-1),a=Math.min(n.length,t+o-1);t-=1;for(var f=u;f<a;++f)typeof n[f]!="undefined"&&r.push(n[f]);return r.length>0?r:null}function u(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function a(e){return u(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function f(e,t){var n,r;for(var s=0,o=t.length;s<o;++s)if((n=i(t[s])).length){n=n.join("\n");if(r=e.exec(n))return{url:t[s],line:n.substring(0,r.index).split("\n").length,column:r.index-n.lastIndexOf("\n",r.index)-1}}return null}function l(e,t,n){var r=i(t),s=new RegExp("\\b"+u(e)+"\\b"),o;return n-=1,r&&r.length>n&&(o=s.exec(r[n]))?o.index:null}function c(e){var t=[window.location.href],n=document.getElementsByTagName("script"),r,i=""+e,s=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,l,c,h;for(var p=0;p<n.length;++p){var d=n[p];d.src&&t.push(d.src)}if(!(c=s.exec(i)))l=new RegExp(u(i).replace(/\s+/g,"\\s+"));else{var v=c[1]?"\\s+"+c[1]:"",m=c[2].split(",").join("\\s*,\\s*");r=u(c[3]).replace(/;$/,";?"),l=new RegExp("function"+v+"\\s*\\(\\s*"+m+"\\s*\\)\\s*{\\s*"+r+"\\s*}")}if(h=f(l,t))return h;if(c=o.exec(i)){var g=c[1];r=a(c[2]),l=new RegExp("on"+g+"=[\\'\"]\\s*"+r+"\\s*[\\'\"]","i");if(h=f(l,t[0]))return h;l=new RegExp(r);if(h=f(l,t))return h}return null}function h(e){if(!e.stack)return null;var t=/^\s*at ((?:\[object object\])?\S+) \(((?:file|http|https):.*?):(\d+)(?::(\d+))?\)\s*$/i,n=/^\s*(\S*)(?:\((.*?)\))?@((?:file|http|https).*?):(\d+)(?::(\d+))?\s*$/i,r=e.stack.split("\n"),i=[],u,a,f=/^(.*) is undefined$/.exec(e.message);for(var c=0,h=r.length;c<h;++c){if(u=n.exec(r[c]))a={url:u[3],func:u[1],args:u[2]?u[2].split(","):"",line:+u[4],column:u[5]?+u[5]:null};else{if(!(u=t.exec(r[c])))continue;a={url:u[2],func:u[1],line:+u[3],column:u[4]?+u[4]:null}}!a.func&&a.line&&(a.func=s(a.url,a.line)),a.line&&(a.context=o(a.url,a.line)),i.push(a)}return i[0]&&i[0].line&&!i[0].column&&f&&(i[0].column=l(f[1],i[0].url,i[0].line)),i.length?{mode:"stack",name:e.name,message:e.message,url:document.location.href,stack:i,useragent:navigator.userAgent}:null}function p(e){var t=e.stacktrace,n=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,r=t.split("\n"),i=[],u;for(var a=0,f=r.length;a<f;a+=2)if(u=n.exec(r[a])){var l={line:+u[1],column:+u[2],func:u[3]||u[4],args:u[5]?u[5].split(","):[],url:u[6]};!l.func&&l.line&&(l.func=s(l.url,l.line));if(l.line)try{l.context=o(l.url,l.line)}catch(c){}l.context||(l.context=[r[a+1]]),i.push(l)}return i.length?{mode:"stacktrace",name:e.name,message:e.message,url:document.location.href,stack:i,useragent:navigator.userAgent}:null}function d(e){var t=e.message.split("\n");if(t.length<4)return null;var n=/^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,r=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,u=/^\s*Line (\d+) of function script\s*$/i,l=[],c=document.getElementsByTagName("script"),h=[],p,d,v,m;for(d in c)TraceKit._has(c,d)&&!c[d].src&&h.push(c[d]);for(d=2,v=t.length;d<v;d+=2){var g=null;if(p=n.exec(t[d]))g={url:p[2],func:p[3],line:+p[1]};else if(p=r.exec(t[d])){g={url:p[3],func:p[4]};var y=+p[1],b=h[p[2]-1];if(b){m=i(g.url);if(m){m=m.join("\n");var w=m.indexOf(b.innerText);w>=0&&(g.line=y+m.substring(0,w).split("\n").length)}}}else if(p=u.exec(t[d])){var E=window.location.href.replace(/#.*$/,""),S=p[1],x=new RegExp(a(t[d+1]));m=f(x,[E]),g={url:E,line:m?m.line:S,func:""}}if(g){g.func||(g.func=s(g.url,g.line));var T=o(g.url,g.line),N=T?T[Math.floor(T.length/2)]:null;T&&N.replace(/^\s*/,"")===t[d+1].replace(/^\s*/,"")?g.context=T:g.context=[t[d+1]],l.push(g)}}return l.length?{mode:"multiline",name:e.name,message:t[0],url:document.location.href,stack:l,useragent:navigator.userAgent}:null}function v(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){e.incomplete=!1,i.func||(i.func=s(i.url,i.line)),i.context||(i.context=o(i.url,i.line));var u=/ '([^']+)' /.exec(r);u&&(i.column=l(u[1],i.url,i.line));if(e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,e.stack[0].context=i.context,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function m(e,t){var n=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,r=[],i={},o=!1,u,a,f;for(var h=m.caller;h&&!o;h=h.caller){if(h===g||h===TraceKit.report)continue;a={url:null,func:"?",line:null,column:null};if(h.name)a.func=h.name;else if(u=n.exec(h.toString()))a.func=u[1];if(f=c(h)){a.url=f.url,a.line=f.line,a.func==="?"&&(a.func=s(a.url,a.line));var p=/ '([^']+)' /.exec(e.message||e.description);p&&(a.column=l(p[1],f.url,f.line))}i[""+h]?o=!0:i[""+h]=!0,r.push(a)}t&&r.splice(0,t);var d={mode:"callers",name:e.name,message:e.message,url:document.location.href,stack:r,useragent:navigator.userAgent};return v(d,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),d}function g(e,n){var r=null;n=n==null?0:+n;try{r=p(e);if(r)return r}catch(i){if(t)throw i}try{r=h(e);if(r)return r}catch(i){if(t)throw i}try{r=d(e);if(r)return r}catch(i){if(t)throw i}try{r=m(e,n+1);if(r)return r}catch(i){if(t)throw i}return{mode:"failed"}}function y(e){e=(e==null?0:+e)+1;try{throw new Error}catch(t){return g(t,e+1)}return null}var t=!1,n={};return g.augmentStackTraceWithInitialElement=v,g.guessFunctionName=s,g.gatherContext=o,g.ofCaller=y,g}(),function(t){var n=function(n){var r=t[n];t[n]=function(){var t=Array.prototype.slice.call(arguments,0),n=t[0];return typeof n=="function"&&(t[0]=function(){try{n.apply(this,arguments)}catch(t){throw TraceKit.report(t),t}}),r.apply?r.apply(this,t):r(t[0],t[1])}};n("setTimeout"),n("setInterval")}(window),function(t){if(!t)return;var n=t.event.add;t.event.add=function(r,i,s,o,u){var a;return s.handler?(a=s.handler,s.handler=function(){try{return a.apply(this,arguments)}catch(t){throw TraceKit.report(t),t}}):(a=s,s=function(){try{return a.apply(this,arguments)}catch(t){throw TraceKit.report(t),t}}),a.guid?s.guid=a.guid:s.guid=a.guid=t.guid++,n.call(this,r,i,s,o,u)};var r=t.fn.ready;t.fn.ready=function(t){var n=function(){try{return t.apply(this,arguments)}catch(e){throw TraceKit.report(e),e}};return r.call(this,n)};var i=t.ajax;t.fn.ajax=function(n){if(t.isFunction(n.complete)){var r=n.complete;n.complete=function(){try{return r.apply(this,arguments)}catch(t){throw TraceKit.report(t),t}}}if(t.isFunction(n.error)){var s=n.error;n.error=function(){try{return s.apply(this,arguments)}catch(t){throw TraceKit.report(t),t}}}if(t.isFunction(n.success)){var o=n.success;n.success=function(){try{return o.apply(this,arguments)}catch(t){throw TraceKit.report(t),t}}}try{return i.call(this,n)}catch(u){throw TraceKit.report(u),u}}}(window.jQuery),TraceKit.remoteFetching||(TraceKit.remoteFetching=!0),TraceKit.collectWindowErrors||(TraceKit.collectWindowErrors=!0);if(!TraceKit.linesOfContext||TraceKit.linesOfContext<1)TraceKit.linesOfContext=11;(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s<o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i<1&&o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&&Gt(e);n.queue||(l=v._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s==="toggle";if(s===(g?"hide":"show"))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),"hidden"in u&&(g=u.hidden),a&&(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in d)v.style(e,t,d[t])});for(r=0;r<o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("﻿ ")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(v.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,"optgroup"))){t=v(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j," ");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?T.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r<i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join("");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),G=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t==="!=":t?(s+="",t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);return r[d]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+" "];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=new RegExp(i.join("|")),vt=function(e,r,s,o,u){if(!o&&!u&&!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e),(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c),c="[id='"+c+"'] ",f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r,p=a.join(",")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",H)}catch(n){}}),s=new RegExp(s.join("|")),nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[":"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u.getPropertyValue(n)||u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a"),cn.href="",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||(a[1]==="http:"?80:443))==(ln[3]||(ln[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})})(window),function(e,t,n){function S(e){return e.match(/\D+$/)}function x(e,t,n,r){if(n=="d")return;if(!O(e))return;var i=u.exec(t),s=e.css(n)==="auto"?0:e.css(n),o=typeof s=="string"?A(s):s,a=typeof t=="string"?A(t):t,f=r===!0?0:o,l=e.is(":hidden"),c=e.translation();n=="left"&&(f=parseInt(o,10)+c.x),n=="right"&&(f=parseInt(o,10)+c.x),n=="top"&&(f=parseInt(o,10)+c.y),n=="bottom"&&(f=parseInt(o,10)+c.y),!i&&t=="show"?(f=1,l&&e.css({display:e.context.tagName=="LI"?"list-item":"block",opacity:0})):!i&&t=="hide"&&(f=0);if(i){var h=parseFloat(i[2]);return i[1]&&(h=(i[1]==="-="?-1:1)*h+parseInt(f,10)),h}return f}function T(e,t,n){return(n===!0||E===!0&&n!==!1)&&w?"translate3d("+e+"px, "+t+"px, 0)":"translate("+e+"px,"+t+"px)"}function N(t,n,r,s,o,u,a,l){var h=t.data(c),p=h&&!L(h)?h:e.extend(!0,{},f),d=o,v=e.inArray(n,i)>-1;if(v){var m=p.meta,g=A(t.css(n))||0,y=n+"_o";d=o-g,m[n]=d,m[y]=t.css(n)=="auto"?0+d:g+d||0,p.meta=m,a&&d===0&&(d=0-m[y],m[n]=d,m[y]=0)}return t.data(c,C(t,p,n,r,s,d,u,a,l))}function C(e,t,n,r,i,o,u,a,f){var l=!1,c=u===!0&&a===!0;t=t||{},t.original||(t.original={},l=!0),t.properties=t.properties||{},t.secondary=t.secondary||{};var h=t.meta,p=t.original,d=t.properties,v=t.secondary;for(var m=s.length-1;m>=0;m--){var g=s[m]+"transition-property",y=s[m]+"transition-duration",b=s[m]+"transition-timing-function";n=c?s[m]+"transform":n,l&&(p[g]=e.css(g)||"",p[y]=e.css(y)||"",p[b]=e.css(b)||""),v[n]=c?T(h.left,h.top,f):o,d[g]=(d[g]?d[g]+",":"")+n,d[y]=(d[y]?d[y]+",":"")+r+"ms",d[b]=(d[b]?d[b]+",":"")+i}return t}function k(e){for(var t in e)if((t=="width"||t=="height")&&(e[t]=="show"||e[t]=="hide"||e[t]=="toggle"))return!0;return!1}function L(e){for(var t in e)return!1;return!0}function A(e){return parseFloat(e.replace(S(e),""))}function O(e){var t=!0;return e.each(function(e,n){return t=t&&n.ownerDocument,t}),t}function M(t,n,i){if(!O(i))return!1;var s=e.inArray(t,r)>-1;return(t=="width"||t=="height"||t=="opacity")&&parseFloat(n)===parseFloat(i.css(t))&&(s=!1),s}var r=["top","right","bottom","left","opacity","height","width"],i=["top","right","bottom","left"],s=["-webkit-","-moz-","-o-",""],o=["avoidTransforms","useTranslate3d","leaveTransforms"],u=/^([+-]=)?([\d+-.]+)(.*)$/,a=/([A-Z])/g,f={secondary:{},meta:{top:0,right:0,bottom:0,left:0}},l="px",c="jQe",h="cubic-bezier(",p=")",d=null,v=!1,m=document.body||document.documentElement,g=m.style,y="webkitTransitionEnd oTransitionEnd transitionend",b=g.WebkitTransition!==undefined||g.MozTransition!==undefined||g.OTransition!==undefined||g.transition!==undefined,w="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,E=w;e.expr&&e.expr.filters&&(d=e.expr.filters.animated,e.expr.filters.animated=function(t){return e(t).data("events")&&e(t).data("events")[y]?!0:d.call(this,t)}),e.extend({toggle3DByDefault:function(){return E=!E},toggleDisabledByDefault:function(){return v=!v}}),e.fn.translation=function(){if(!this[0])return null;var e=this[0],t=window.getComputedStyle(e,null),n={x:0,y:0};if(t)for(var r=s.length-1;r>=0;r--){var i=t.getPropertyValue(s[r]+"transform");if(i&&/matrix/i.test(i)){var o=i.replace(/^matrix\(/i,"").split(/, |\)$/g);n={x:parseInt(o[4],10),y:parseInt(o[5],10)};break}}return n},e.fn.animate=function(n,r,u,a){n=n||{};var f=typeof n.bottom=="undefined"&&typeof n.right=="undefined",d=e.speed(r,u,a),m=this,g=0,w=function(){g--,g===0&&typeof d.complete=="function"&&d.complete.apply(m,arguments)},E=typeof n.avoidCSSTransitions!="undefined"?n.avoidCSSTransitions:v;return E===!0||!b||L(n)||k(n)||d.duration<=0||e.fn.animate.defaults.avoidTransforms===!0&&n.avoidTransforms!==!1?t.apply(this,arguments):this[d.queue===!0?"queue":"each"](function(){var r=e(this),u=e.extend({},d),a=function(t){var o=r.data(c)||{original:{}},u={};if(t.eventPhase!=2)return;if(n.leaveTransforms!==!0){for(var a=s.length-1;a>=0;a--)u[s[a]+"transform"]="";if(f&&typeof o.meta!="undefined")for(var h=0,p;p=i[h];++h)u[p]=o.meta[p+"_o"]+l,e(this).css(p,u[p])}r.unbind(y).css(o.original).css(u).data(c,null),n.opacity==="hide"&&r.css({display:"none",opacity:""}),w.call(this)},v={bounce:h+"0.0, 0.35, .5, 1.3"+p,linear:"linear",swing:"ease-in-out",easeInQuad:h+"0.550, 0.085, 0.680, 0.530"+p,easeInCubic:h+"0.550, 0.055, 0.675, 0.190"+p,easeInQuart:h+"0.895, 0.030, 0.685, 0.220"+p,easeInQuint:h+"0.755, 0.050, 0.855, 0.060"+p,easeInSine:h+"0.470, 0.000, 0.745, 0.715"+p,easeInExpo:h+"0.950, 0.050, 0.795, 0.035"+p,easeInCirc:h+"0.600, 0.040, 0.980, 0.335"+p,easeInBack:h+"0.600, -0.280, 0.735, 0.045"+p,easeOutQuad:h+"0.250, 0.460, 0.450, 0.940"+p,easeOutCubic:h+"0.215, 0.610, 0.355, 1.000"+p,easeOutQuart:h+"0.165, 0.840, 0.440, 1.000"+p,easeOutQuint:h+"0.230, 1.000, 0.320, 1.000"+p,easeOutSine:h+"0.390, 0.575, 0.565, 1.000"+p,easeOutExpo:h+"0.190, 1.000, 0.220, 1.000"+p,easeOutCirc:h+"0.075, 0.820, 0.165, 1.000"+p,easeOutBack:h+"0.175, 0.885, 0.320, 1.275"+p,easeInOutQuad:h+"0.455, 0.030, 0.515, 0.955"+p,easeInOutCubic:h+"0.645, 0.045, 0.355, 1.000"+p,easeInOutQuart:h+"0.770, 0.000, 0.175, 1.000"+p,easeInOutQuint:h+"0.860, 0.000, 0.070, 1.000"+p,easeInOutSine:h+"0.445, 0.050, 0.550, 0.950"+p,easeInOutExpo:h+"1.000, 0.000, 0.000, 1.000"+p,easeInOutCirc:h+"0.785, 0.135, 0.150, 0.860"+p,easeInOutBack:h+"0.680, -0.550, 0.265, 1.550"+p},m={},b=v[u.easing||"swing"]?v[u.easing||"swing"]:u.easing||"swing";for(var E in n)if(e.inArray(E,o)===-1){var S=e.inArray(E,i)>-1,T=x(r,n[E],E,S&&n.avoidTransforms!==!0);n.avoidTransforms!==!0&&M(E,T,r)?N(r,E,u.duration,b,S&&n.avoidTransforms===!0?T+l:T,S&&n.avoidTransforms!==!0,f,n.useTranslate3d===!0):m[E]=n[E]}r.unbind(y);var C=r.data(c);if(C&&!L(C)&&!L(C.secondary)){g++,r.css(C.properties);var k=C.secondary;setTimeout(function(){r.bind(y,a).css(k)})}else u.queue=!1;return L(m)||(g++,t.apply(r,[m,{duration:u.duration,easing:e.easing[u.easing]?u.easing:e.easing.swing?"swing":"linear",complete:w,queue:u.queue}])),!0})},e.fn.animate.defaults={},e.fn.stop=function(t,r,i){return b?(t&&this.queue([]),this.each(function(){var o=e(this),u=o.data(c);if(u&&!L(u)){var f,h={};if(r){h=u.secondary;if(!i&&typeof u.meta.left_o!==undefined||typeof u.meta.top_o!==undefined){h.left=typeof u.meta.left_o!==undefined?u.meta.left_o:"auto",h.top=typeof u.meta.top_o!==undefined?u.meta.top_o:"auto";for(f=s.length-1;f>=0;f--)h[s[f]+"transform"]=""}}else if(!L(u.secondary)){var p=window.getComputedStyle(o[0],null);if(p)for(var d in u.secondary)if(u.secondary.hasOwnProperty(d)){d=d.replace(a,"-$1").toLowerCase(),h[d]=p.getPropertyValue(d);if(!i&&/matrix/i.test(h[d])){var v=h[d].replace(/^matrix\(/i,"").split(/, |\)$/g);h.left=parseFloat(v[4])+parseFloat(o.css("left"))+l||"auto",h.top=parseFloat(v[5])+parseFloat(o.css("top"))+l||"auto";for(f=s.length-1;f>=0;f--)h[s[f]+"transform"]=""}}}o.unbind(y),o.css(u.original).css(h).data(c,null)}else n.apply(o,[t,r])}),this):n.apply(this,[t,r])}}(jQuery,jQuery.fn.animate,jQuery.fn.stop),function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.10.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(){n=!1}),e.widget("ui.mouse",{version:"1.10.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){function h(e,t,n){return[parseInt(e[0],10)*(l.test(e[0])?t/100:1),parseInt(e[1],10)*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}function d(t){var n=t[0];return n.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+%?/,f=/^\w+/,l=/%$/,c=e.fn.position;e.position={scrollbarWidth:function(){if(n!==t)return n;var r,i,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),r=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,r===i&&(i=s[0].clientWidth),s.remove(),n=r-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:i?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var n,l,v,m,g,y,b=e(t.of),w=e.position.getWithinInfo(t.within),E=e.position.getScrollInfo(w),S=(t.collision||"flip").split(" "),x={};return y=d(b),b[0].preventDefault&&(t.at="left top"),l=y.width,v=y.height,m=y.offset,g=e.extend({},m),e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;e.length===1&&(e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=o.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",n=a.exec(e[0]),r=a.exec(e[1]),x[this]=[n?n[0]:0,r?r[0]:0],t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]}),S.length===1&&(S[1]=S[0]),t.at[0]==="right"?g.left+=l:t.at[0]==="center"&&(g.left+=l/2),t.at[1]==="bottom"?g.top+=v:t.at[1]==="center"&&(g.top+=v/2),n=h(x.at,l,v),g.left+=n[0],g.top+=n[1],this.each(function(){var o,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),d=p(this,"marginLeft"),y=p(this,"marginTop"),T=f+d+p(this,"marginRight")+E.width,N=c+y+p(this,"marginBottom")+E.height,C=e.extend({},g),k=h(x.my,a.outerWidth(),a.outerHeight());t.my[0]==="right"?C.left-=f:t.my[0]==="center"&&(C.left-=f/2),t.my[1]==="bottom"?C.top-=c:t.my[1]==="center"&&(C.top-=c/2),C.left+=k[0],C.top+=k[1],e.support.offsetFractions||(C.left=s(C.left),C.top=s(C.top)),o={marginLeft:d,marginTop:y},e.each(["left","top"],function(r,i){e.ui.position[S[r]]&&e.ui.position[S[r]][i](C,{targetWidth:l,targetHeight:v,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:w,elem:a})}),t.using&&(u=function(e){var n=m.left-C.left,s=n+l-f,o=m.top-C.top,u=o+v-c,h={target:{element:b,left:m.left,top:m.top,width:l,height:v},element:{element:a,left:C.left,top:C.top,width:f,height:c},horizontal:s<0?"left":n>0?"right":"center",vertical:u<0?"top":o>0?"bottom":"middle"};l<f&&i(n+s)<l&&(h.horizontal="center"),v<c&&i(o+u)<v&&(h.vertical="middle"),r(i(n),i(s))>r(i(o),i(u))?h.important="horizontal":h.important="vertical",t.using.call(this,e,h)}),a.offset(e.extend(C,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;t.collisionWidth>s?u>0&&a<=0?(f=e.left+u+t.collisionWidth-s-i,e.left+=u-f):a>0&&u<=0?e.left=i:u>a?e.left=i+s-t.collisionWidth:e.left=i:u>0?e.left+=u:a>0?e.left-=a:e.left=r(e.left-o,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;t.collisionHeight>s?u>0&&a<=0?(f=e.top+u+t.collisionHeight-s-i,e.top+=u-f):a>0&&u<=0?e.top=i:u>a?e.top=i+s-t.collisionHeight:e.top=i:u>0?e.top+=u:a>0?e.top-=a:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-r;if(p<0||p<i(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||i(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;a<0?(v=e.top+c+h+p+t.collisionHeight-s-r,e.top+c+h+p>a&&(v<0||v<i(a))&&(e.top+=c+h+p)):f>0&&(d=e.top-t.collisionPosition.marginTop+c+h+p-o,e.top+c+h+p>f&&(d>0||i(d)<f)&&(e.top+=c+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u),n=o||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",i=e(u).offset().left,e.support.offsetFractions=i>10&&i<11,t.innerHTML="",n.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";return e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n,r=this,i=!1,s=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),n=this.element[0];while(n&&(n=n.parentNode))n===document&&(i=!0);return!i&&this.options.helper==="original"?!1:(this.options.revert==="invalid"&&!s||this.options.revert==="valid"&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1)},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length?!0:!1;return e(this.options.handle,this.element).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(n.appendTo==="parent"?this.element[0].parentNode:n.appendTo),r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);if(i.containment==="document"||i.containment==="window")this.containment=[i.containment==="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,i.containment==="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(i.containment==="document"?0:e(window).scrollLeft())+e(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(i.containment==="document"?0:e(window).scrollTop())+(e(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(i.containment)&&i.containment.constructor!==Array){n=e(i.containment),r=n[0];if(!r)return;t=e(r).css("overflow")!=="hidden",this.containment=[(parseInt(e(r).css("borderLeftWidth"),10)||0)+(parseInt(e(r).css("paddingLeft"),10)||0),(parseInt(e(r).css("borderTopWidth"),10)||0)+(parseInt(e(r).css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(e(r).css("borderLeftWidth"),10)||0)-(parseInt(e(r).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(e(r).css("borderTopWidth"),10)||0)-(parseInt(e(r).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}else i.containment.constructor===Array&&(this.containment=i.containment)},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i,s,o=this.options,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName),f=t.pageX,l=t.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(r=this.relative_container.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(f=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(f=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,f=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),t==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("ui-draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("ui-draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("ui-draggable"),i=this;e.each(r.sortables,function(){var s=!1,o=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(o.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&t.scrollParent[0].tagName!=="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),r=n.options,i=!1;if(n.scrollParent[0]!==document&&n.scrollParent[0].tagName!=="HTML"){if(!r.axis||r.axis!=="x")n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed);if(!r.axis||r.axis!=="y")n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed)}else{if(!r.axis||r.axis!=="x")t.pageY-e(document).scrollTop()<r.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed));if(!r.axis||r.axis!=="y")t.pageX-e(document).scrollLeft()<r.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))}i!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),r=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})})},drag:function(t,n){var r,i,s,o,u,a,f,l,c,h,p=e(this).data("ui-draggable"),d=p.options,v=d.snapTolerance,m=n.offset.left,g=m+p.helperProportions.width,y=n.offset.top,b=y+p.helperProportions.height;for(c=p.snapElements.length-1;c>=0;c--){u=p.snapElements[c].left,a=u+p.snapElements[c].width,f=p.snapElements[c].top,l=f+p.snapElements[c].height;if(!(u-v<m&&m<a+v&&f-v<y&&y<l+v||u-v<m&&m<a+v&&f-v<b&&b<l+v||u-v<g&&g<a+v&&f-v<y&&y<l+v||u-v<g&&g<a+v&&f-v<b&&b<l+v)){p.snapElements[c].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=!1;continue}d.snapMode!=="inner"&&(r=Math.abs(f-b)<=v,i=Math.abs(l-y)<=v,s=Math.abs(u-g)<=v,o=Math.abs(a-m)<=v,r&&(n.position.top=p._convertPositionTo("relative",{top:f-p.helperProportions.height,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u-p.helperProportions.width}).left-p.margins.left),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left)),h=r||i||s||o,d.snapMode!=="outer"&&(r=Math.abs(f-y)<=v,i=Math.abs(l-b)<=v,s=Math.abs(u-m)<=v,o=Math.abs(a-g)<=v,r&&(n.position.top=p._convertPositionTo("relative",{top:f,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u}).left-p.margins.left),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[c].snapping&&(r||i||s||o||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=r||i||s||o||h}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=e(this).data("ui-draggable").options,r=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!r.length)return;t=parseInt(r[0].style.zIndex,10)||0,e(r).each(function(e){this.style.zIndex=t+e}),this[0].style.zIndex=t+r.length}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),function(e,t){function n(e,t,n){return e>t&&e<t+n}e.widget("ui.droppable",{version:"1.10.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=0,n=e.ui.ddmanager.droppables[this.options.scope];for(;t<n.length;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){t==="accept"&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return!r||(r.currentItem||r.element)[0]===this.element[0]?!1:(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return i=!0,!1}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1)},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,t,r){if(!t.offset)return!1;var i,s,o=(e.positionAbs||e.position.absolute).left,u=o+e.helperProportions.width,a=(e.positionAbs||e.position.absolute).top,f=a+e.helperProportions.height,l=t.offset.left,c=l+t.proportions.width,h=t.offset.top,p=h+t.proportions.height;switch(r){case"fit":return l<=o&&u<=c&&h<=a&&f<=p;case"intersect":return l<o+e.helperProportions.width/2&&u-e.helperProportions.width/2<c&&h<a+e.helperProportions.height/2&&f-e.helperProportions.height/2<p;case"pointer":return i=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,n(s,h,t.proportions.height)&&n(i,l,t.proportions.width);case"touch":return(a>=h&&a<=p||f>=h&&f<=p||a<h&&f>p)&&(o>=l&&o<=c||u>=l&&u<=c||o<l&&u>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,u=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<s.length;r++){if(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))continue;for(i=0;i<u.length;i++)if(u[i]===s[r].element[0]){s[r].proportions.height=0;continue e}s[r].visible=s[r].element.css("display")!=="none";if(!s[r].visible)continue;o==="mousedown"&&s[r]._activate.call(s[r],n),s[r].offset=s[r].element.offset(),s[r].proportions={width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight}}},drop:function(t,n){var r=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options)return;!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var r,i,s,o=e.ui.intersect(t,this,this.options.tolerance),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;if(!u)return;this.options.greedy&&(i=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===i}),s.length&&(r=e.data(s[0],"ui-droppable"),r.greedyChild=u==="isover")),r&&u==="isover"&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[u]=!0,this[u==="isout"?"isover":"isout"]=!1,this[u==="isover"?"_over":"_out"].call(this,n),r&&u==="isout"&&(r.isout=!1,r.isover=!0,r._over.call(r,n))})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e,t){function n(e,t,n){return e>t&&e<t+n}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=null,i=!1,s=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type==="static")return!1;this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")===s)return r=e(this),!1}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target));if(!r)return!1;if(this.options.handle&&!n){e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)});if(!i)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i,s=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",s.cursor)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(u=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";for(n=this.items.length-1;n>=0;n--){r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r);if(!s)continue;if(r.instance!==this.currentContainer)continue;if(i!==this.currentItem[0]&&this.placeholder[s===1?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],i):!0)){this.direction=s===1?"down":"up";if(this.options.tolerance!=="pointer"&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=r+f>u&&r+f<a&&t+l>s&&t+l<o;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(e){var t=this.options.axis==="x"||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),r=this.options.axis==="y"||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o==="right"||s==="down"?2:1:s&&(s==="down"?2:1):!1},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s==="right"&&r||s==="left"&&!r:i&&(i==="down"&&t||i==="up"&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,s,o=[],u=[],a=this._connectWith();if(a&&t)for(n=a.length-1;n>=0;n--){i=e(a[n]);for(r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&u.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}u.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(n=u.length-1;n>=0;n--)u[n][0].each(function(){o.push(this)});return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--){i=e(h[n]);for(r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s))}for(n=c.length-1;n>=0;n--){o=c[n][1],u=c[n][0];for(r=0,f=u.length;r<f;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--){r=this.items[n];if(r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])continue;i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;if(!r.placeholder||r.placeholder.constructor===String)n=r.placeholder,r.placeholder={element:function(){var r=e(document.createElement(t.currentItem[0].nodeName)).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n||(r.style.visibility="hidden"),r},update:function(e,i){if(n&&!r.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}};t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n,r,i,s,o,u,a,f,l,c=null,h=null;for(n=this.containers.length-1;n>=0;n--){if(e.contains(this.currentItem[0],this.containers[n].element[0]))continue;if(this._intersectsWith(this.containers[n].containerCache)){if(c&&e.contains(this.containers[n].element[0],c.element[0]))continue;c=this.containers[n],h=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0)}if(!c)return;if(this.containers.length===1)this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1;else{i=1e4,s=null,o=this.containers[h].floating?"left":"top",u=this.containers[h].floating?"width":"height",a=this.positionAbs[o]+this.offset.click[o];for(r=this.items.length-1;r>=0;r--){if(!e.contains(this.containers[h].element[0],this.items[r].item[0]))continue;if(this.items[r].item[0]===this.currentItem[0])continue;f=this.items[r].item.offset()[o],l=!1,Math.abs(f-a)>Math.abs(f+this.items[r][u]-a)&&(l=!0,f+=this.items[r][u]),Math.abs(f-a)<i&&(i=Math.abs(f-a),s=this.items[r],this.direction=l?"up":"down")}if(!s&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[h],s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper==="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!=="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);if(i.containment==="document"||i.containment==="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r=e(t).css("overflow")!=="hidden",this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return this.cssPosition==="relative"&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(t,n){this.reverting=!1;var r,i=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)if(this._storedCSS[r]==="auto"||this._storedCSS[r]==="static")this._storedCSS[r]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!n&&i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(r=this.containers.length-1;r>=0;r--)n||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(r=0;r<i.length;r++)i[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!n){for(r=0;r<i.length;r++)i[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),jQuery.effects||function(e,t){var n="ui-effects-";e.effects={effect:{}},function(e,t){function h(e,t,n){var r=u[t.type]||{};return e==null?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function p(t){var n=s(),r=n._rgba=[];return t=t.toLowerCase(),c(i,function(e,i){var s,u=i.re.exec(t),a=u&&i.parse(u),f=i.space||"rgba";if(a)return s=n[f](a),n[o[f].cache]=s[o[f].cache],r=n._rgba=s._rgba,!1}),r.length?(r.join()==="0,0,0,0"&&e.extend(r,l.transparent),n):l[t]}function d(e,t,n){return n=(n+1)%1,n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}var n="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],s=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},o={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=s.support={},f=e("<p>")[0],l,c=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=f.style.backgroundColor.indexOf("rgba")>-1,c(o,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),s.fn=e.extend(s.prototype,{parse:function(n,r,i,u){if(n===t)return this._rgba=[null,null,null,null],this;if(n.jquery||n.nodeType)n=e(n).css(r),r=t;var a=this,f=e.type(n),d=this._rgba=[];r!==t&&(n=[n,r,i,u],f="array");if(f==="string")return this.parse(p(n)||l._default);if(f==="array")return c(o.rgba.props,function(e,t){d[t.idx]=h(n[t.idx],t)}),this;if(f==="object")return n instanceof s?c(o,function(e,t){n[t.cache]&&(a[t.cache]=n[t.cache].slice())}):c(o,function(t,r){var i=r.cache;c(r.props,function(e,t){if(!a[i]&&r.to){if(e==="alpha"||n[e]==null)return;a[i]=r.to(a._rgba)}a[i][t.idx]=h(n[e],t,!0)}),a[i]&&e.inArray(null,a[i].slice(0,3))<0&&(a[i][3]=1,r.from&&(a._rgba=r.from(a[i])))}),this},is:function(e){var t=s(e),n=!0,r=this;return c(o,function(e,i){var s,o=t[i.cache];return o&&(s=r[i.cache]||i.to&&i.to(r._rgba)||[],c(i.props,function(e,t){if(o[t.idx]!=null)return n=o[t.idx]===s[t.idx],n})),n}),n},_space:function(){var e=[],t=this;return c(o,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=s(e),r=n._space(),i=o[r],a=this.alpha()===0?s("transparent"):this,f=a[i.cache]||i.to(a._rgba),l=f.slice();return n=n[i.cache],c(i.props,function(e,r){var i=r.idx,s=f[i],o=n[i],a=u[r.type]||{};if(o===null)return;s===null?l[i]=o:(a.mod&&(o-s>a.mod/2?s+=a.mod:s-o>a.mod/2&&(s-=a.mod)),l[i]=h((o-s)*t+s,r))}),this[r](l)},blend:function(t){if(this._rgba[3]===1)return this;var n=this._rgba.slice(),r=n.pop(),i=s(t)._rgba;return s(e.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return e==null?t>2?1:0:e});return n[3]===1&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return e==null&&(e=t>2?1:0),t&&t<3&&(e=Math.round(e*100)+"%"),e});return n[3]===1&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(r*255)),"#"+e.map(n,function(e){return e=(e||0).toString(16),e.length===1?"0"+e:e}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),s.fn.parse.prototype=s.fn,o.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=e[3],s=Math.max(t,n,r),o=Math.min(t,n,r),u=s-o,a=s+o,f=a*.5,l,c;return o===s?l=0:t===s?l=60*(n-r)/u+360:n===s?l=60*(r-t)/u+120:l=60*(t-n)/u+240,u===0?c=0:f<=.5?c=u/a:c=u/(2-a),[Math.round(l)%360,c,f,i==null?1:i]},o.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;return[Math.round(d(o,s,t+1/3)*255),Math.round(d(o,s,t)*255),Math.round(d(o,s,t-1/3)*255),i]},c(o,function(n,i){var o=i.props,u=i.cache,a=i.to,f=i.from;s.fn[n]=function(n){a&&!this[u]&&(this[u]=a(this._rgba));if(n===t)return this[u].slice();var r,i=e.type(n),l=i==="array"||i==="object"?n:arguments,p=this[u].slice();return c(o,function(e,t){var n=l[i==="object"?e:t.idx];n==null&&(n=p[t.idx]),p[t.idx]=h(n,t)}),f?(r=s(f(p)),r[u]=p,r):s(p)},c(o,function(t,i){if(s.fn[t])return;s.fn[t]=function(s){var o=e.type(s),u=t==="alpha"?this._hsla?"hsla":"rgba":n,a=this[u](),f=a[i.idx],l;return o==="undefined"?f:(o==="function"&&(s=s.call(this,f),o=e.type(s)),s==null&&i.empty?this:(o==="string"&&(l=r.exec(s),l&&(s=f+parseFloat(l[2])*(l[1]==="+"?1:-1))),a[i.idx]=s,this[u](a)))}})}),s.hook=function(t){var n=t.split(" ");c(n,function(t,n){e.cssHooks[n]={set:function(t,r){var i,o,u="";if(r!=="transparent"&&(e.type(r)!=="string"||(i=p(r)))){r=s(i||r);if(!a.rgba&&r._rgba[3]!==1){o=n==="backgroundColor"?t.parentNode:t;while((u===""||u==="transparent")&&o&&o.style)try{u=e.css(o,"backgroundColor"),o=o.parentNode}catch(f){}r=r.blend(u&&u!=="transparent"?u:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(f){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=s(t.elem,n),t.end=s(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},s.hook(n),e.cssHooks.borderColor={expand:function(e){var t={};return c(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},l=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var n,r,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(i&&i.length&&i[0]&&i[i[0]]){r=i.length;while(r--)n=i[r],typeof i[n]=="string"&&(s[e.camelCase(n)]=i[n])}else for(n in i)typeof i[n]=="string"&&(s[n]=i[n]);return s}function s(t,n){var i={},s,o;for(s in n)o=n[s],t[s]!==o&&!r[s]&&(e.fx.step[s]||!isNaN(parseFloat(o)))&&(i[s]=o);return i}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){if(e.end!=="none"&&!e.setAttr||e.pos===1&&!e.setAttr)jQuery.style(e.elem,n,e.end),e.setAttr=!0}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,r,o,u){var a=e.speed(r,o,u);return this.queue(function(){var r=e(this),o=r.attr("class")||"",u,f=a.children?r.find("*").addBack():r;f=f.map(function(){var t=e(this);return{el:t,start:i(this)}}),u=function(){e.each(n,function(e,n){t[n]&&r[n+"Class"](t[n])})},u(),f=f.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),r.attr("class",o),f=f.map(function(){var t=this,n=e.Deferred(),r=e.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,f.get()).done(function(){u(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(r[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{add:t},n,r,i):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{remove:t},n,r,i):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,r,i,s,o){return typeof r=="boolean"||r===t?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,s,o):this._toggleClass(n,r):e.effects.animateClass.call(this,{toggle:n},r,i,s)},switchClass:function(t,n,r,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,s)}})}(),function(){function r(t,n,r,i){e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},n==null&&(n={}),e.isFunction(n)&&(i=n,r=null,n={});if(typeof n=="number"||e.fx.speeds[n])i=r,r=n,n={};return e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:typeof r=="number"?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function i(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.effects.effect[t]}e.extend(e.effects,{version:"1.10.0",save:function(e,t){for(var r=0;r<t.length;r++)t[r]!==null&&e.data(n+t[r],e[0].style[t[r]])},restore:function(e,r){var i,s;for(s=0;s<r.length;s++)r[s]!==null&&(i=e.data(n+r[s]),i===t&&(i=""),e.css(r[s],i))},setMode:function(e,t){return t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),t.css("position")==="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*r+s[1])}),i}}),e.fn.extend({effect:function(){function o(n){function u(){e.isFunction(i)&&i.call(r[0]),e.isFunction(n)&&n()}var r=e(this),i=t.complete,o=t.mode;(r.is(":hidden")?o==="hide":o==="show")?u():s.call(r[0],t,u)}var t=r.apply(this,arguments),n=t.mode,i=t.queue,s=e.effects.effect[t.effect];return e.fx.off||!s?n?this[n](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):i===!1?this.each(o):this.queue(i||"fx",o)},_show:e.fn.show,show:function(e){if(i(e))return this._show.apply(this,arguments);var t=r.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(i(e))return this._hide.apply(this,arguments);var t=r.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(i(t)||typeof t=="boolean"||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=r.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,n=4;while(e<((t=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((t*3-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(e*2)/2:1-n(e*-2+2)/2}})}()}(jQuery),function(e,t){e.effects.effect.highlight=function(t,n){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(r,t.mode||"show"),o={backgroundColor:r.css("backgroundColor")};s==="hide"&&(o.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),n()}})}}(jQuery),function(e){function i(e,t){if(e.originalEvent.touches.length>1)return;e.preventDefault();var n=e.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}e.support.touch="ontouchend"in document;if(!e.support.touch)return;var t=e.ui.mouse.prototype,n=t._mouseInit,r;t._touchStart=function(e){var t=this;if(r||!t._mouseCapture(e.originalEvent.changedTouches[0]))return;r=!0,t._touchMoved=!1,i(e,"mouseover"),i(e,"mousemove"),i(e,"mousedown")},t._touchMove=function(e){if(!r)return;this._touchMoved=!0,i(e,"mousemove")},t._touchEnd=function(e){if(!r)return;i(e,"mouseup"),i(e,"mouseout"),this._touchMoved||i(e,"click"),r=!1},t._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd")),n.call(t)}}(jQuery),"use strict";var Sprite3D=Sprite3D||{isSupported:function(){return this._isInit||this._init(),this._isSupported},stage:function(e){this._isInit||this._init();var t,n;return e?(t=e,n=e.style,n.position==="static"&&(n.position="relative")):(t=document.createElement("div"),n=t.style,n[this._browserPrefix+"PerspectiveOrigin"]="0 0",n[this._browserPrefix+"TransformOrigin"]="0 0",n.position="absolute",n.top="50%",n.left="50%",n.margin="0px",n.padding="0px",document.body.appendChild(t)),n[this._browserPrefix+"Perspective"]="800px",n[this._browserPrefix+"Transform"]="translateZ(0px)",t=this.create(t),n[this._browserPrefix+"TransformStyle"]="flat",t},create:function(e){this._isInit||this._init();if(arguments.length===0)e=document.createElement("div"),e.style.margin="0px",e.style.padding="0px",e.style.position="absolute";else if(typeof e=="string"){var t=e;e=document.createElement("div"),e.style.margin="0px",e.style.padding="0px",e.style.position="absolute",this._handleStringArgument(e,t)}else e.style.position=="static"&&(e.style.position="relative");e.style[this._browserPrefix+"TransformStyle"]="preserve-3d",e.style[this._transformProperty]="translateZ(0px)";for(var n in this._props)this._props.hasOwnProperty(n)&&(e[n]=this._props[n]);return e._string=["translate3d(",0,"px,",0,"px,",0,"px) ","rotateX(",0,"deg) ","rotateY(",0,"deg) ","rotateZ(",0,"deg) ","scale3d(",1,", ",1,", ",1,") "],e._positions=[1,3,5,8,11,14,17,19,21],e._ox=0,e._oy=0,e._oz=0,e},box:function(e,t,n,r){this._isInit||this._init();var i=this.create();arguments.length===1?(t=e,n=e):arguments.length===2&&typeof arguments[1]=="string"?(this._handleStringArgument(i,arguments[1]),t=e,n=e):r&&typeof r=="string"&&this._handleStringArgument(i,r);var s=e*.5,o=t*.5,u=n*.5;return i.appendChild(Sprite3D.create(".front").position(-s,-o,u).size(e,t).update()),i.appendChild(Sprite3D.create(".back").position(-s,-o,-u).size(e,t).rotationY(180).update()),i.appendChild(Sprite3D.create(".left").position(-s-u,-o,0).size(n,t).rotationY(-90).update()),i.appendChild(Sprite3D.create(".right").position(s-u,-o,0).size(n,t).rotationY(90).update()),i.appendChild(Sprite3D.create(".bottom").position(-s,o-u,0).size(e,n).rotationX(-90).update()),i.appendChild(Sprite3D.create(".top").position(-s,-o-u,0).size(e,n).rotationX(90).update()),i},prefix:function(e){return Sprite3D._browserPrefix+e},_isInit:!1,_isSupported:!1,_browserPrefix:"webkit",_transformProperty:"webkitTransform",_init:function(){var e=document.createElement("div"),t=["","webkit","Moz","O","ms"],n=t.length,r;Sprite3D._isInit=!0;for(r=0;r<n;r++)if(t[r]+"Perspective"in e.style)return Sprite3D._transformProperty=t[r]+"Transform",Sprite3D._isSupported=!0,Sprite3D._browserPrefix=t[r],r==2&&(Sprite3D._props.update=Sprite3D._props.updateJoin),!0;return alert("Sorry, but your browser does not support CSS 3D transfroms."),!1},_handleStringArgument:function(e,t){switch(t[0]){case".":e.className=t.substr(1);break;case"#":e.id=t.substr(1);break;default:e.id=t}},_props:{x:function(e){return arguments.length?(this._string[this._positions[0]]=e-this._ox,this):this._string[this._positions[0]]+this._ox},y:function(e){return arguments.length?(this._string[this._positions[1]]=e-this._oy,this):this._string[this._positions[1]]+this._oy},z:function(e){return arguments.length?(this._string[this._positions[2]]=e-this._oz,this):this._string[this._positions[2]]+this._oz},position:function(e,t,n){return this._string[this._positions[0]]=e-this._ox,this._string[this._positions[1]]=t-this._oy,arguments.length>=3&&(this._string[this._positions[2]]=n-this._oz),this},move:function(e,t,n){return this._string[this._positions[0]]+=e,this._string[this._positions[1]]+=t,arguments.length>=3&&(this._string[this._positions[2]]+=n),this},rotationX:function(e){return arguments.length?(this._string[this._positions[3]]=e,this):this._string[this._positions[3]]},rotationY:function(e){return arguments.length?(this._string[this._positions[4]]=e,this):this._string[this._positions[4]]},rotationZ:function(e){return arguments.length?(this._string[this._positions[5]]=e,this):this._string[this._positions[5]]},rotation:function(e,t,n){return this._string[this._positions[3]]=e,this._string[this._positions[4]]=t,this._string[this._positions[5]]=n,this},rotate:function(e,t,n){return this._string[this._positions[3]]+=e,this._string[this._positions[4]]+=t,this._string[this._positions[5]]+=n,this},scaleX:function(e){return arguments.length?(this._string[this._positions[6]]=e,this):this._string[this._positions[6]]},scaleY:function(e){return arguments.length?(this._string[this._positions[7]]=e,this):this._string[this._positions[7]]},scaleZ:function(e){return arguments.length?(this._string[this._positions[8]]=e,this):this._string[this._positions[8]]},scale:function(e,t,n){switch(arguments.length){case 0:return this._string[this._positions[6]];case 1:return this._string[this._positions[6]]=e,this._string[this._positions[7]]=e,this._string[this._positions[8]]=e,this;case 2:return this._string[this._positions[6]]=e,this._string[this._positions[7]]=t,this;case 3:return this._string[this._positions[6]]=e,this._string[this._positions[7]]=t,this._string[this._positions[8]]=n,this}return this},origin:function(e,t,n){if(typeof e=="string"){var r=window.getComputedStyle(this,null);console.log(r),console.log("w:"+r.getPropertyValue("width")+" || h: "+r.height)}else arguments.length<3&&(n=0),this._string[this._positions[0]]+=this._ox-e,this._string[this._positions[1]]+=this._oy-t,this._string[this._positions[2]]+=this._oz-n,this._ox=e,this._oy=t,this._oz=n;return this},transformOrigin:function(e,t){return this.style[Sprite3D._browserPrefix+"TransformOrigin"]=(Number(e)?e+"px":e)+" "+(Number(t)?t+"px":t),this},transformString:function(e){var t=e.toLowerCase().split(" "),n=t.length,r=0,i=[],s=[0,0,0,0,0,0,0,0,0],o=0;for(r;r<n;r++)switch(t[r]){case"p":case"position":case"translate":o=i.push("translate3d(",this._string[this._positions[0]],"px,",this._string[this._positions[1]],"px,",this._string[this._positions[2]],"px) "),s[0]=o-6,s[1]=o-4,s[2]=o-2;break;case"rx":case"rotatex":case"rotationx":o=i.push("rotateX(",this._string[this._positions[3]],"deg) "),s[3]=o-2;break;case"ry":case"rotatey":case"rotationy":o=i.push("rotateY(",this._string[this._positions[4]],"deg) "),s[4]=o-2;break;case"rz":case"rotatez":case"rotationz":o=i.push("rotateZ(",this._string[this._positions[5]],"deg) "),s[5]=o-2;break;case"s":case"scale":o=i.push("scale3d(",this._string[this._positions[6]],",",this._string[this._positions[7]],",",this._string[this._positions[8]],") "),s[6]=o-6,s[7]=o-4,s[8]=o-2}return this._string=i,this._positions=s,this},updateJoin:function(){return this.style[Sprite3D._transformProperty]=this._string.join(""),this},update:function(){var e="";return this._string.every(function(t){return e+=t,!0}),this.style[Sprite3D._transformProperty]=e,this},perspective:function(e){switch(arguments.length){case 0:return this.style[Sprite3D._browserPrefix+"Perspective"];case 1:return this.style[Sprite3D._browserPrefix+"Perspective"]=typeof e=="string"?e:e+"px",this}},css:function(e,t){switch(arguments.length){case 0:return this.style;case 1:return this.style[e];case 2:return this.style[e]=t,this;case 3:return this.style[Sprite3D._browserPrefix+e]=t,this}},html:function(e){return arguments.length?(this.innerHTML=e,this):this.innerHTML},size:function(e,t){return this.style.width=Number(e)?e+"px":e,this.style.height=Number(t)?t+"px":t,this},bind:function(e){if(typeof e=="object")for(var t in e)this.addEventListener(t,e[t],!1);else arguments.length===2&&this.addEventListener(arguments[0],arguments[1],!1);return this},unbind:function(e){if(typeof e=="object")for(var t in e)this.removeEventListener(t,e[t],!1);else arguments.length===2&&this.removeEventListener(arguments[0],arguments[1],!1);return this},tileWidth:0,tileHeight:0,tileSize:function(e,t){return this.tileWidth=e,this.tileHeight=t,this},tilePosition:function(e,t){return this.style.backgroundPosition="-"+e*this.tileWidth+"px -"+t*this.tileHeight+"px",this},set:function(e,t){return this[e]=t,this}}},Photon={version:"0.0.3",degToRad:function(e){return e*Math.PI/180},radToDeg:function(e){return e*180/Math.PI},getRotationVector:function(e,t){var n=e.rotate(t.x,Line.create([0,0,0],[1,0,0])),r=n.rotate(t.y,Line.create([0,0,0],[0,1,0])),i=r.rotate(t.z,Line.create([0,0,0],[0,0,1]));return i},getTransformString:function(){if(Photon.transformString)return Photon.transformString;var e,t=["transform","webkitTransform","MozTransform","msTransform","OTransform"],n=document.createElement("div");for(var r=0;r<t.length;r++)n.style[t[r]]==""&&(e=t[r]);return Photon.transformString=e,e},buildMatrix:function(e){var t=new FirminCSSMatrix(e);return t.m11=t.m11*1e16,t.m12=t.m12*1e16,t.m13=t.m13*1e16,t.m14=t.m14*1e16,t.m21=t.m21*1e16,t.m22=t.m22*1e16,t.m23=t.m23*1e16,t.m24=t.m24*1e16,t.m31=t.m31*1e16,t.m32=t.m32*1e16,t.m33=t.m33*1e16,t.m34=t.m34*1e16,t.m41=t.m41*1e16,t.m42=t.m42*1e16,t.m43=t.m43*1e16,t.m44=t.m44*1e16,t}};Photon.Light=function(e,t,n){this.moveTo(e||0,t||0,n||100),this.calculateVector()},Photon.Light.prototype={moveTo:function(e,t,n){this.x=e,this.y=t,this.z=n,this.calculateVector()},calculateVector:function(){this.magnitude=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z),this.vector=$V([this.x/this.magnitude,this.y/this.magnitude,this.z/this.magnitude])}},Photon.Face=function(e,t,n,r){this.element=e,this.maxShade=t||.5,this.maxTint=n||0,this.isBackfaced=r||!1,this.shaderElement=new Photon.ShaderElement(this.element),this.element.insertBefore(this.shaderElement,this.element.firstChild),this.transformString=Photon.getTransformString(),this.getRotations()},Photon.Face.prototype={getRotations:function(){var e=window.getComputedStyle(this.element)[this.transformString]||"matrix3d(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)";this.matrix=Photon.buildMatrix(e);var t=this.matrix.decompose();this.rotations={x:t.rotate.x,y:t.rotate.y,z:t.rotate.z},this.vector=Photon.getRotationVector($V([0,0,1]),this.rotations)},render:function(e,t,n){t&&this.getRotations();var r;n?r=Photon.getRotationVector(this.vector,n):r=this.vector,this.angleFrom=Photon.radToDeg(e.vector.angleFrom(r));var i,s=this.isBackfaced?this.angleFrom/180:this.angleFrom/90;this.isBackfaced&&s>.5&&(s=1-s);var o=Math.abs(this.maxShade+this.maxTint),u=o*s;this.rangedPercentage=u,u<=this.maxTint?i="rgba(255, 255, 255, "+Math.abs(this.maxTint-u)+")":i="rgba(0, 0, 0, "+Math.abs(u-this.maxTint)+")",this.shaderElement.style.background=i},setMaxShade:function(e){this.maxShade=e},setMaxTint:function(e){this.maxTint=e}},Photon.ShaderElement=function(e){var t=document.createElement("div");return t.className="photon-shader",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width=window.getComputedStyle(e).width,t.style.height=window.getComputedStyle(e).height,t},Photon.FaceGroup=function(e,t,n,r,i){this.element=e,this.faces=[],this.transformString=Photon.getTransformString();var s=t;for(var o=0;o<s.length;o++)this.faces[o]=new Photon.Face(s[o],n,r,i)},Photon.FaceGroup.prototype={getRotations:function(){var e=window.getComputedStyle(this.element)[this.transformString]||"matrix3d(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)";this.matrix=Photon.buildMatrix(e);var t=this.matrix.decompose();this.rotations={x:t.rotate.x,y:t.rotate.y,z:t.rotate.z},this.vector=Photon.getRotationVector($V([0,0,1]),this.rotations)},render:function(e,t,n){t&&this.getRotations(),this.angleFrom=Photon.radToDeg(e.vector.angleFrom(this.vector));for(var r=0,i=this.faces.length;r<i;r++)this.faces[r].render(e,n,this.rotations)},setMaxShade:function(e){for(var t=0;t<this.faces.length;t++)this.faces[t].setMaxShade(e)},setMaxTint:function(e){for(var t=0;t<this.faces.length;t++)this.faces[t].setMaxTint(e)}};var Sylvester={version:"0.1.3",precision:1e-6};Vector.prototype={modulus:function(){return Math.sqrt(this.dot(this))},dup:function(){return Vector.create(this.elements)},each:function(e){var t=this.elements.length,n=t,r;do r=n-t,e(this.elements[r],r+1);while(--t)},angleFrom:function(e){var t=e.elements||e,n=this.elements.length,r=n,i;if(n!=t.length)return null;var s=0,o=0,u=0;this.each(function(e,n){s+=e*t[n-1],o+=e*e,u+=t[n-1]*t[n-1]}),o=Math.sqrt(o),u=Math.sqrt(u);if(o*u===0)return null;var a=s/(o*u);return a<-1&&(a=-1),a>1&&(a=1),Math.acos(a)},dot:function(e){var t=e.elements||e,n,r=0,i=this.elements.length;if(i!=t.length)return null;do r+=this.elements[i-1]*t[i-1];while(--i);return r},rotate:function(e,t){var n,r,i,s,o;switch(this.elements.length){case 2:n=t.elements||t;if(n.length!=2)return null;return r=Matrix.Rotation(e).elements,i=this.elements[0]-n[0],s=this.elements[1]-n[1],Vector.create([n[0]+r[0][0]*i+r[0][1]*s,n[1]+r[1][0]*i+r[1][1]*s]);case 3:if(!t.direction)return null;var u=t.pointClosestTo(this).elements;return r=Matrix.Rotation(e,t.direction).elements,i=this.elements[0]-u[0],s=this.elements[1]-u[1],o=this.elements[2]-u[2],Vector.create([u[0]+r[0][0]*i+r[0][1]*s+r[0][2]*o,u[1]+r[1][0]*i+r[1][1]*s+r[1][2]*o,u[2]+r[2][0]*i+r[2][1]*s+r[2][2]*o]);default:return null}},setElements:function(e){return this.elements=(e.elements||e).slice(),this}},Vector.create=function(e){var t=new Vector;return t.setElements(e)};var $V=Vector.create;Line.prototype={distanceFrom:function(e){if(e.normal)return e.distanceFrom(this);if(e.direction){if(this.isParallelTo(e))return this.distanceFrom(e.anchor);var t=this.direction.cross(e.direction).toUnitVector().elements,n=this.anchor.elements,r=e.anchor.elements;return Math.abs((n[0]-r[0])*t[0]+(n[1]-r[1])*t[1]+(n[2]-r[2])*t[2])}var i=e.elements||e,n=this.anchor.elements,s=this.direction.elements,o=i[0]-n[0],u=i[1]-n[1],a=(i[2]||0)-n[2],f=Math.sqrt(o*o+u*u+a*a);if(f===0)return 0;var l=(o*s[0]+u*s[1]+a*s[2])/f,c=1-l*l;return Math.abs(f*Math.sqrt(c<0?0:c))},contains:function(e){var t=this.distanceFrom(e);return t!==null&&t<=Sylvester.precision},pointClosestTo:function(e){if(e.direction){if(this.intersects(e))return this.intersectionWith(e);if(this.isParallelTo(e))return null;var t=this.direction.elements,n=e.direction.elements,r=t[0],i=t[1],s=t[2],o=n[0],u=n[1],a=n[2],f=s*o-r*a,l=r*u-i*o,c=i*a-s*u,h=Vector.create([f*a-l*u,l*o-c*a,c*u-f*o]),p=Plane.create(e.anchor,h);return p.intersectionWith(this)}var p=e.elements||e;if(this.contains(p))return Vector.create(p);var d=this.anchor.elements,t=this.direction.elements,r=t[0],i=t[1],s=t[2],v=d[0],m=d[1],g=d[2],f=r*(p[1]-m)-i*(p[0]-v),l=i*((p[2]||0)-g)-s*(p[1]-m),c=s*(p[0]-v)-r*((p[2]||0)-g),y=Vector.create([i*f-s*c,s*l-r*f,r*c-i*l]),b=this.distanceFrom(p)/y.modulus();return Vector.create([p[0]+y.elements[0]*b,p[1]+y.elements[1]*b,(p[2]||0)+y.elements[2]*b])},rotate:function(e,t){typeof t.direction=="undefined"&&(t=Line.create(t.to3D(),Vector.k));var n=Matrix.Rotation(e,t.direction).elements,r=t.pointClosestTo(this.anchor).elements,i=this.anchor.elements,s=this.direction.elements,o=r[0],u=r[1],a=r[2],f=i[0],l=i[1],c=i[2],h=f-o,p=l-u,d=c-a;return Line.create([o+n[0][0]*h+n[0][1]*p+n[0][2]*d,u+n[1][0]*h+n[1][1]*p+n[1][2]*d,a+n[2][0]*h+n[2][1]*p+n[2][2]*d],[n[0][0]*s[0]+n[0][1]*s[1]+n[0][2]*s[2],n[1][0]*s[0]+n[1][1]*s[1]+n[1][2]*s[2],n[2][0]*s[0]+n[2][1]*s[1]+n[2][2]*s[2]])},setVectors:function(e,t){e=Vector.create(e),t=Vector.create(t),e.elements.length==2&&e.elements.push(0),t.elements.length==2&&t.elements.push(0);if(e.elements.length>3||t.elements.length>3)return null;var n=t.modulus();return n===0?null:(this.anchor=e,this.direction=Vector.create([t.elements[0]/n,t.elements[1]/n,t.elements[2]/n]),this)}},Line.create=function(e,t){var n=new Line;return n.setVectors(e,t)},Matrix.prototype={setElements:function(e){var t,n=e.elements||e;if(typeof n[0][0]!="undefined"){var r=n.length,i=r,s,o,u;this.elements=[];do{t=i-r,s=n[t].length,o=s,this.elements[t]=[];do u=o-s,this.elements[t][u]=n[t][u];while(--s)}while(--r);return this}var a=n.length,f=a;this.elements=[];do t=f-a,this.elements.push([n[t]]);while(--a);return this}},Matrix.create=function(e){var t=new Matrix;return t.setElements(e)},Matrix.Rotation=function(e,t){if(!t)return Matrix.create([[Math.cos(e),-Math.sin(e)],[Math.sin(e),Math.cos(e)]]);var n=t.dup();if(n.elements.length!=3)return null;var r=n.modulus(),i=n.elements[0]/r,s=n.elements[1]/r,o=n.elements[2]/r,u=Math.sin(e),a=Math.cos(e),f=1-a;return Matrix.create([[f*i*i+a,f*i*s-u*o,f*i*o+u*s],[f*i*s+u*o,f*s*s+a,f*s*o-u*i],[f*i*o-u*s,f*s*o+u*i,f*o*o+a]])},FirminCSSMatrix=function(e){this.m11=this.m22=this.m33=this.m44=1,this.m12=this.m13=this.m14=this.m21=this.m23=this.m24=this.m31=this.m32=this.m34=this.m41=this.m42=this.m43=0,typeof e=="string"&&this.setMatrixValue(e)},FirminCSSMatrix.displayName="FirminCSSMatrix",FirminCSSMatrix.degreesToRadians=function(e){return e*Math.PI/180},FirminCSSMatrix.prototype.isAffine=function(){return this.m13===0&&this.m14===0&&this.m23===0&&this.m24===0&&this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m43===0&&this.m44===1},FirminCSSMatrix.prototype.setMatrixValue=function(e){e=e.trim();var t=e.match(/^matrix(3d)?\(\s*(.+)\s*\)$/),n,r,i,s,o,u;if(!t)return;n=!!t[1],r=t[2].split(/\s*,\s*/),i=r.length,s=new Array(i);if(n&&i!==16||!n&&i!==6)return;for(o=0;o<i;o++){u=r[o];if(!u.match(/^-?\d+(\.\d+)?$/))return;s[o]=parseFloat(u)}for(o=0;o<i;o++)point=n?"m"+(Math.floor(o/4)+1)+(o%4+1):String.fromCharCode(o+97),this[point]=s[o]},FirminCSSMatrix.prototype.toString=function(){var e=this,t,n;return this.isAffine()?(n="matrix(",t=["a","b","c","d","e","f"]):(n="matrix3d(",t=["m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44"]),n+t.map(function(t){return e[t].toFixed(6)}).join(", ")+")"};var CSSMatrixDecomposed=function(e){e===undefined?e={}:null;var t={perspective:null,translate:null,skew:null,scale:null,rotate:null};for(var n in t)this[n]=e[n]?e[n]:new Vector4;this.tween=function(e,n,r){r===undefined&&(r=function(e){return e}),e||(e=new CSSMatrixDecomposed((new FirminCSSMatrix).decompose()));var i=new CSSMatrixDecomposed,s=index=null,o="";n=r(n);for(index in t)for(s in{x:"x",y:"y",z:"z",w:"w"})i[index][s]=(this[index][s]+(e[index][s]-this[index][s])*n).toFixed(5);o="matrix3d(1,0,0,0, 0,1,0,0, 0,0,1,0, "+i.perspective.x+", "+i.perspective.y+", "+i.perspective.z+", "+i.perspective.w+") "+"translate3d("+i.translate.x+"px, "+i.translate.y+"px, "+i.translate.y+"px) "+"rotateX("+i.rotate.x+"rad) rotateY("+i.rotate.y+"rad) rotateZ("+i.rotate.z+"rad) "+"matrix3d(1,0,0,0, 0,1,0,0, 0,"+i.skew.z+",1,0, 0,0,0,1) "+"matrix3d(1,0,0,0, 0,1,0,0, "+i.skew.y+",0,1,0, 0,0,0,1) "+"matrix3d(1,0,0,0, "+i.skew.x+",1,0,0, 0,0,1,0, 0,0,0,1) "+"scale3d("+i.scale.x+", "+i.scale.y+", "+i.scale.z+")";try{return i=new FirminCSSMatrix(o),i}catch(u){return console.error("Invalid matrix string: "+o),""}}},Vector4=function(e,t,n,r){this.x=e?e:0,this.y=t?t:0,this.z=n?n:0,this.w=r?r:0,this.checkValues=function(){this.x=this.x?this.x:0,this.y=this.y?this.y:0,this.z=this.z?this.z:0,this.w=this.w?this.w:0},this.length=function(){return this.checkValues(),Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},this.normalise=function(){var e=this.length(),t=new Vector4(this.x/e,this.y/e,this.z/e);return t},this.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},this.cross=function(e){return new Vector4(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)},this.combine=function(e,t,n){return new Vector4(t*this.x+n*e.x,t*this.y+n*e.y,t*this.z+n*e.z)}};FirminCSSMatrix.prototype.determinant=function(){return this.m14*this.m23*this.m32*this.m41-this.m13*this.m24*this.m32*this.m41-this.m14*this.m22*this.m33*this.m41+this.m12*this.m24*this.m33*this.m41+this.m13*this.m22*this.m34*this.m41-this.m12*this.m23*this.m34*this.m41-this.m14*this.m23*this.m31*this.m42+this.m13*this.m24*this.m31*this.m42+this.m14*this.m21*this.m33*this.m42-this.m11*this.m24*this.m33*this.m42-this.m13*this.m21*this.m34*this.m42+this.m11*this.m23*this.m34*this.m42+this.m14*this.m22*this.m31*this.m43-this.m12*this.m24*this.m31*this.m43-this.m14*this.m21*this.m32*this.m43+this.m11*this.m24*this.m32*this.m43+this.m12*this.m21*this.m34*this.m43-this.m11*this.m22*this.m34*this.m43-this.m13*this.m22*this.m31*this.m44+this.m12*this.m23*this.m31*this.m44+this.m13*this.m21*this.m32*this.m44-this.m11*this.m23*this.m32*this.m44-this.m12*this.m21*this.m33*this.m44+this.m11*this.m22*this.m33*this.m44},FirminCSSMatrix.prototype.decompose=function(){var e=new FirminCSSMatrix(this.toString()),t=rightHandSide=inversePerspectiveMatrix=transposedInversePerspectiveMatrix=perspective=translate=row=i=scale=skew=pdum3=rotate=null;if(e.m33==0)return new CSSMatrixDecomposed((new FirminCSSMatrix).decompose());for(i=1;i<=4;i++)for(j=1;j<=4;j++)e["m"+i+j]/=e.m44;t=e;for(i=1;i<=3;i++)t["m"+i+"4"]=0;t.m44=1;if(t.determinant()==0)return new CSSMatrixDecomposed((new FirminCSSMatrix).decompose());e.m14!=0||e.m24!=0||e.m34!=0?(rightHandSide=new Vector4(e.m14,e.m24,e.m34,e.m44),inversePerspectiveMatrix=t.inverse(),transposedInversePerspectiveMatrix=inversePerspectiveMatrix.transpose(),perspective=transposedInversePerspectiveMatrix.transformVector(rightHandSide),e.m14=e.m24=e.m34=0,e.m44=1):perspective=new Vector4(0,0,0,1),translate=new Vector4(e.m41,e.m42,e.m43),e.m41=0,e.m42=0,e.m43=0,row=[new Vector4,new Vector4,new Vector4];for(i=1;i<=3;i++)row[i-1].x=e["m"+i+"1"],row[i-1].y=e["m"+i+"2"],row[i-1].z=e["m"+i+"3"];scale=new Vector4,skew=new Vector4,scale.x=row[0].length(),row[0]=row[0].normalise(),skew.x=row[0].dot(row[1]),row[1]=row[1].combine(row[0],1,-skew.x),scale.y=row[1].length(),row[1]=row[1].normalise(),skew.x/=scale.y,skew.y=row[0].dot(row[2]),row[2]=row[2].combine(row[0],1,-skew.y),skew.z=row[1].dot(row[2]),row[2]=row[2].combine(row[1],1,-skew.z),scale.z=row[2].length(),row[2]=row[2].normalise(),skew.y/=scale.z,skew.y/=scale.z,pdum3=row[1].cross(row[2]);if(row[0].dot(pdum3)<0)for(i=0;i<3;i++)scale.x*=-1,row[i].x*=-1,row[i].y*=-1,row[i].z*=-1;return rotate=new Vector4,rotate.y=Math.asin(-row[0].z),Math.cos(rotate.y)!=0?(rotate.x=Math.atan2(row[1].z,row[2].z),rotate.z=Math.atan2(row[0].y,row[0].x)):(rotate.x=Math.atan2(-row[2].x,row[1].y),rotate.z=0),new CSSMatrixDecomposed({perspective:perspective,translate:translate,skew:skew,scale:scale,rotate:rotate})},function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.3";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2);return x.map(e,function(e){return(x.isFunction(t)?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t){return x.isEmpty(t)?[]:x.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,0,t):e[0]},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return t.length==0&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]==null&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=M(e[o],t[o],n,r)))break}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)){o++;if(!(u=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){var r=Array(e);for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=""+ ++P;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){n=x.defaults({},n,x.templateSettings);var r=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),i=u+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,x);var a=function(e){return o.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var e=this,t=e.Backbone,n=[],r=n.push,i=n.slice,s=n.splice,o;typeof exports!="undefined"?o=exports:o=e.Backbone={},o.VERSION="0.9.9";var u=e._;!u&&typeof require!="undefined"&&(u=require("underscore")),o.$=e.jQuery||e.Zepto||e.ender,o.noConflict=function(){return e.Backbone=t,this},o.emulateHTTP=!1,o.emulateJSON=!1;var a=/\s+/,f=function(e,t,n,r){if(!n)return!0;if(typeof n=="object")for(var i in n)e[t].apply(e,[i,n[i]].concat(r));else{if(!a.test(n))return!0;var s=n.split(a);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r))}},l=function(e,t,n){var r,i=-1,s=t.length;switch(n.length){case 0:while(++i<s)(r=t[i]).callback.call(r.ctx);return;case 1:while(++i<s)(r=t[i]).callback.call(r.ctx,n[0]);return;case 2:while(++i<s)(r=t[i]).callback.call(r.ctx,n[0],n[1]);return;case 3:while(++i<s)(r=t[i]).callback.call(r.ctx,n[0],n[1],n[2]);return;default:while(++i<s)(r=t[i]).callback.apply(r.ctx,n)}},c=o.Events={on:function(e,t,n){if(!f(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!f(this,"once",e,[t,n])||!t)return this;var r=this,i=u.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n),this},off:function(e,t,n){var r,i,s,o,a,l,c,h;if(!this._events||!f(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:u.keys(this._events);for(a=0,l=o.length;a<l;a++){e=o[a];if(r=this._events[e]){s=[];if(t||n)for(c=0,h=r.length;c<h;c++)i=r[c],(t&&t!==(i.callback._callback||i.callback)||n&&n!==i.context)&&s.push(i);this._events[e]=s}}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!f(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(this,n,t),r&&l(this,r,arguments),this},listenTo:function(e,t,n){var r=this._listeners||(this._listeners={}),i=e._listenerId||(e._listenerId=u.uniqueId("l"));return r[i]=e,e.on(t,n||this,this),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return;if(e)e.off(t,n,this),!t&&!n&&delete r[e._listenerId];else{for(var i in r)r[i].off(null,null,this);this._listeners={}}return this}};c.bind=c.on,c.unbind=c.off,u.extend(o,c);var h=o.Model=function(e,t){var n,r=e||{};this.cid=u.uniqueId("c"),this.changed={},this.attributes={},this._changes=[],t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r)),(n=u.result(this,"defaults"))&&u.defaults(r,n),this.set(r,{silent:!0}),this._currentAttributes=u.clone(this.attributes),this._previousAttributes=u.clone(this.attributes),this.initialize.apply(this,arguments)};u.extend(h.prototype,c,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return u.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i;if(e==null)return this;u.isObject(e)?(i=e,n=t):(i={})[e]=t;var s=n&&n.silent,o=n&&n.unset;if(!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var a=this.attributes;for(r in i)t=i[r],o?delete a[r]:a[r]=t,this._changes.push(r,t);return this._hasComputed=!1,s||this.change(n),this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r),e))return!1;n&&n(t,r,e)},this.sync("read",this,e)},save:function(e,t,n){var r,i,s;e==null||u.isObject(e)?(r=e,n=t):e!=null&&((r={})[e]=t),n=n?u.clone(n):{};if(n.wait){if(r&&!this._validate(r,n))return!1;i=u.clone(this.attributes)}var o=u.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?o:n))return!1;if(!r&&!this._validate(null,n))return!1;var a=this,f=n.success;n.success=function(e,t,i){s=!0;var o=a.parse(e);n.wait&&(o=u.extend(r||{},o));if(!a.set(o,n))return!1;f&&f(a,e,n)};var l=this.isNew()?"create":n.patch?"patch":"update";l=="patch"&&(n.attrs=r);var c=this.sync(l,this,n);return!s&&n.wait&&(this.clear(o),this.set(i,o)),c},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e)};if(this.isNew())return e.success(),!1;var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||M();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){var t=this._changing;this._changing=!0;var n=this._computeChanges(!0);this._pending=!!n.length;for(var r=n.length-2;r>=0;r-=2)this.trigger("change:"+n[r],this,n[r+1],e);if(t)return this;while(this._pending)this._pending=!1,this.trigger("change",this,e),this._previousAttributes=u.clone(this.attributes);return this._changing=!1,this},hasChanged:function(e){return this._hasComputed||this._computeChanges(),e==null?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(u.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},_computeChanges:function(e){this.changed={};var t={},n=[],r=this._currentAttributes,i=this._changes;for(var s=i.length-2;s>=0;s-=2){var o=i[s],u=i[s+1];if(t[o])continue;t[o]=!0;if(r[o]!==u){this.changed[o]=u;if(!e)continue;n.push(o,u),r[o]=u}}return e&&(this._changes=[]),this._hasComputed=!0,n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return u.clone(this._previousAttributes)},_validate:function(e,t){if(!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error&&t.error(this,n,t),this.trigger("error",this,n,t),!1):!0}});var p=o.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))};u.extend(p.prototype,c,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){var n,i,o,a,f,l,c=t&&t.at,h=(t&&t.sort)==null?!0:t.sort;e=u.isArray(e)?e.slice():[e];for(n=e.length-1;n>=0;n--){if(!(a=this._prepareModel(e[n],t))){this.trigger("error",this,e[n],t),e.splice(n,1);continue}e[n]=a,f=a.id!=null&&this._byId[a.id];if(f||this._byCid[a.cid]){t&&t.merge&&f&&(f.set(a.attributes,t),l=h),e.splice(n,1);continue}a.on("all",this._onModelEvent,this),this._byCid[a.cid]=a,a.id!=null&&(this._byId[a.id]=a)}e.length&&(l=h),this.length+=e.length,i=[c!=null?c:this.models.length,0],r.apply(i,e),s.apply(this.models,i),l&&this.comparator&&c==null&&this.sort({silent:!0});if(t&&t.silent)return this;while(a=e.shift())a.trigger("add",a,this,t);return this},remove:function(e,t){var n,r,i,s;t||(t={}),e=u.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){s=this.get(e[n]);if(!s)continue;delete this._byId[s.id],delete this._byCid[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]||this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return u.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return u.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),(!e||!e.silent)&&this.trigger("sort",this,e),this},pluck:function(e){return u.invoke(this.models,"get",e)},update:function(e,t){var n,r,i,s,o=[],a=[],f={},l=this.model.prototype.idAttribute;t=u.extend({add:!0,merge:!0,remove:!0},t),t.parse&&(e=this.parse(e)),u.isArray(e)||(e=e?[e]:[]);if(t.add&&!t.remove)return this.add(e,t);for(r=0,i=e.length;r<i;r++)n=e[r],s=this.get(n.id||n.cid||n[l]),t.remove&&s&&(f[s.cid]=!0),(t.add&&!s||t.merge&&s)&&o.push(n);if(t.remove)for(r=0,i=this.models.length;r<i;r++)n=this.models[r],f[n.cid]||a.push(n);return a.length&&this.remove(a,t),o.length&&this.add(o,t),this},reset:function(e,t){t||(t={}),t.parse&&(e=this.parse(e));for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e&&this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){var o=e.update?"update":"reset";t[o](r,e),n&&n(t,r,e)},this.sync("read",this,e)},create:function(e,t){var n=this;t=t?u.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},chain:function(){return u(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var d=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortedIndex","toArray","size","first","head","take","initial","rest","tail","last","without","indexOf","shuffle","lastIndexOf","isEmpty"];u.each(d,function(e){p.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var v=["groupBy","countBy","sortBy"];u.each(v,function(e){p.prototype[e]=function(t,n){var r=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,r,n)}});var m=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},g=/\((.*?)\)/g,y=/:\w+/g,b=/\*\w+/g,w=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(m.prototype,c,{initialize:function(){},route:function(e,t,n){return u.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),o.history.route(e,u.bind(function(r){var i=this._extractParameters(e,r);n&&n.apply(this,i),this.trigger.apply(this,["route:"+t].concat(i)),o.history.trigger("route",this,t,i)},this)),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;var e,t=u.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(w,"\\$&").replace(g,"(?:$1)?").replace(y,"([^/]+)").replace(b,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var E=o.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},S=/^[#\/]|\s+$/g,x=/^\/+|\/+$/g,T=/msie [\w.]+/,N=/\/$/;E.started=!1,u.extend(E.prototype,c,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(N,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(S,"")},start:function(e){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=u.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=T.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(x,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(S,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search));if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),E.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=u.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!E.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),o.history=new E;var C=o.View=function(e){this.cid=u.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,L=["model","collection","el","id","attributes","className","tagName","events"];u.extend(C.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},make:function(e,t,n){var r=document.createElement(e);return t&&o.$(r).attr(t),n!=null&&o.$(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];u.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(k),i=r[1],s=r[2];n=u.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.bind(i,n):this.$el.delegate(s,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=u.extend({},u.result(this,"options"),e)),u.extend(this,u.pick(e,L)),this.options=e},_ensureElement:function(){if(!this.el){var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className")),this.setElement(this.make(u.result(this,"tagName"),e),!1)}else this.setElement(u.result(this,"el"),!1)}});var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.sync=function(e,t,n){var r=A[e];u.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=u.result(t,"url")||M()),n.data==null&&t&&(e==="create"||e==="update"||e==="patch")&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1);var a=n.success;n.success=function(e,r,i){a&&a(e,r,i),t.trigger("sync",t,e,n)};var f=n.error;n.error=function(e,r,i){f&&f(t,e,n),t.trigger("error",t,e,n)};var l=o.ajax(u.extend(i,n));return t.trigger("request",t,l,n),l},o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var O=function(e,t){var n=this,r;e&&u.has(e,"constructor")?r=e.constructor:r=function(){n.apply(this,arguments)},u.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&u.extend(r.prototype,e),r.__super__=n.prototype,r};h.extend=p.extend=m.extend=C.extend=E.extend=O;var M=function(){throw new Error('A "url" property or function must be specified')}}.call(this),function(e,t){function n(){return((1+Math.random())*65536|0).toString(16).substring(1)}function r(){return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}t.LocalStorage=window.Store=function(e){this.name=e;var t=this.localStorage().getItem(this.name);this.records=t&&t.split(",")||[]},e.extend(t.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(e){return e.id||(e.id=r(),e.set(e.idAttribute,e.id)),this.localStorage().setItem(this.name+"-"+e.id,JSON.stringify(e)),this.records.push(e.id.toString()),this.save(),e.toJSON()},update:function(t){return this.localStorage().setItem(this.name+"-"+t.id,JSON.stringify(t)),e.include(this.records,t.id.toString())||this.records.push(t.id.toString()),this.save(),t.toJSON()},find:function(e){return JSON.parse(this.localStorage().getItem(this.name+"-"+e.id))},findAll:function(){return e(this.records).chain().map(function(e){return JSON.parse(this.localStorage().getItem(this.name+"-"+e))},this).compact().value()},destroy:function(t){return this.localStorage().removeItem(this.name+"-"+t.id),this.records=e.reject(this.records,function(e){return e==t.id.toString()}),this.save(),t},localStorage:function(){return localStorage}}),t.LocalStorage.sync=window.Store.sync=t.localSync=function(e,t,n){var r=t.localStorage||t.collection.localStorage,i,s=$.Deferred&&$.Deferred();switch(e){case"read":i=t.id!=undefined?r.find(t):r.findAll();break;case"create":i=r.create(t);break;case"update":i=r.update(t);break;case"delete":i=r.destroy(t)}return i?(n&&n.success&&n.success(i),s&&s.resolve()):(n&&n.error&&n.error("Record not found"),s&&s.reject()),s&&s.promise()},t.ajaxSync=t.sync,t.getSyncMethod=function(e){return e.localStorage||e.collection&&e.collection.localStorage?t.localSync:t.ajaxSync},t.sync=function(e,n,r){return t.getSyncMethod(n).apply(this,[e,n,r])}}(_,Backbone),function(e){"use strict";typeof define=="function"&&define.amd?define(["underscore","backbone"],e):e(_,Backbone)}(function(e,t){"use strict";var n={},r,i=t.View.prototype.delegateEvents,s=t.View.prototype.undelegateEvents;return t.Mediator={subscribe:function(e,t,r,i){n[e]||(n[e]=[]),n[e].push({fn:t,context:r||this,once:i})},publish:function(e){if(!n[e])return;var r=[].slice.call(arguments,1),i;for(var s=0;s<n[e].length;s++)i=n[e][s],i.fn.apply(i.context,r),i.once&&(t.Mediator.unsubscribe(e,i.fn,i.context),s--)},unsubscribe:function(e,t,r){if(!n[e])return;var i;for(var s=0;s<n[e].length;s++)i=n[e][s],i.fn===t&&i.context===r&&(n[e].splice(s,1),s--)},subscribeOnce:function(e,n,r){t.Mediator.subscribe(e,n,r,!0)}},r={delegateEvents:function(){i.apply(this,arguments),this.setSubscriptions()},undelegateEvents:function(){s.apply(this,arguments),this.unsetSubscriptions()},subscriptions:{},setSubscriptions:function(n){n&&e.extend(this.subscriptions||{},n),n=n||this.subscriptions;if(!n||e.isEmpty(n))return;this.unsetSubscriptions(n),e.each(n,function(n,r){var i;n.$once&&(n=n.$once,i=!0),e.isString(n)&&(n=this[n]),t.Mediator.subscribe(r,n,this,i)},this)},unsetSubscriptions:function(n){n=n||this.subscriptions;if(!n||e.isEmpty(n))return;e.each(n,function(n,r){e.isString(n)&&(n=this[n]),t.Mediator.unsubscribe(r,n.$once||n,this)},this)}},e.extend(t.View.prototype,r),e.extend(t.Mediator,{pub:t.Mediator.publish,sub:t.Mediator.subscribe}),t}),Backbone.Memento=function(e,t){"use strict";var n=function(e,n){this.version="0.4.1a",n=t.extend({ignore:[]},n);var r=new i(e,n),o=new s(e,n),u=function(e,t){if(!e)return;r.deserialize(e,t)};this.store=function(){var e=r.serialize();o.push(e)},this.restore=function(e){var t=o.pop();u(t,e)},this.restart=function(e){var t=o.rewind();u(t,e)}},r=function(t){t instanceof e.Model?(this.removeAttr=function(e){t.unset(e)},this.restore=function(e){t.set(e)}):(this.removeAttr=function(e){t.remove(e)},this.restore=function(e){t.reset(e)})},i=function(e,n){function s(e,n){e=t.clone(e);if(n.hasOwnProperty("ignore")&&n.ignore.length>0)for(var r in n.ignore){var i=n.ignore[r];delete e[i]}return e}function o(e,t){var n=[];if(!e||!t)return n;for(var r in t)t.hasOwnProperty(r)&&(e.hasOwnProperty(r)||n.push(r));return n}function u(e,t){for(var n in t){var r=t[n];i.removeAttr(r)}}function a(t,n){var r=s(t,n),a=e.toJSON();a=s(a,n);var f=o(r,a);u(e,f),i.restore(r)}var i=new r(e);this.serialize=function(){var t=e.toJSON();return t=s(t,n),t},this.deserialize=function(e,r){r=t.extend({},n,r),a(e,r)}},s=function(e,t){function r(){n=[]}var n;this.push=function(e){n.push(e)},this.pop=function(e){var t=n.pop();return t},this.rewind=function(){var e=n[0];return r(),e},r()};return n}(Backbone,_),Backbone.Paginator=function(e,t,n){"use strict";var r={};return r.version="0.5",r.clientPager=e.Collection.extend({useDiacriticsPlugin:!0,useLevenshteinPlugin:!0,sortColumn:"",sortDirection:"desc",lastSortColumn:"",fieldFilterRules:[],lastFieldFilterRules:[],filterFields:"",filterExpression:"",lastFilterExpression:"",defaults_ui:{firstPage:0,currentPage:1,perPage:5,totalPages:10,pagesInRange:4},initialize:function(){this.on("add",this.addModel,this),this.on("remove",this.removeModel,this),this.setDefaults()},setDefaults:function(){var e=t.defaults(this.paginator_ui,this.defaults_ui);t.defaults(this,e)},addModel:function(e){this.origModels.push(e)},removeModel:function(e){var n=t.indexOf(this.origModels,e);this.origModels.splice(n,1)},sync:function(e,r,i){var s=this;this.setDefaults();var o={};t.each(t.result(s,"server_api"),function(e,n){t.isFunction(e)&&(e=t.bind(e,s),e=e()),o[n]=e});var u=t.clone(s.paginator_core);t.each(u,function(e,n){t.isFunction(e)&&(e=t.bind(e,s),e=e()),u[n]=e}),u=t.defaults(u,{timeout:25e3,cache:!1,type:"GET",dataType:"jsonp"});var a=i.success;i.success=function(e,t,n){a&&a(e,t,n),r&&r.trigger&&r.trigger("sync",r,e,i)};var f=i.error;i.error=function(e,t,n){f&&f(r,e,i),r&&r.trigger&&r.trigger("error",r,e,i)},u=t.extend(u,{data:decodeURIComponent(n.param(o)),processData:!1,url:t.result(u,"url")},i);var l=n.ajax(u);return r&&r.trigger&&r.trigger("request",r,l,i),l},nextPage:function(){this.currentPage<this.information.totalPages&&(this.currentPage=++this.currentPage,this.pager())},previousPage:function(){this.currentPage=--this.currentPage||1,this.pager()},goTo:function(e){e!==undefined&&(this.currentPage=parseInt(e,10),this.pager())},howManyPer:function(e){if(e!==undefined){var t=this.perPage;this.perPage=parseInt(e,10),this.currentPage=Math.ceil((t*(this.currentPage-1)+1)/e),this.pager()}},setSort:function(e,t){e!==undefined&&t!==undefined&&(this.lastSortColumn=this.sortColumn,this.sortColumn=e,this.sortDirection=t,this.pager(),this.info())},setFieldFilter:function(e){t.isEmpty(e)?(this.lastFieldFilterRules=this.fieldFilterRules,this.fieldFilterRules="",this.pager(),this.info()):(this.lastFieldFilterRules=this.fieldFilterRules,this.fieldFilterRules=e,this.pager(),this.info())},doFakeFieldFilter:function(e){if(!t.isEmpty(e)){var n=this.origModels;return n===undefined&&(n=this.models),n=this._fieldFilter(n,e),this.filterExpression!==""&&(n=this._filter(n,this.filterFields,this.filterExpression)),n.length}},setFilter:function(e,t){e!==undefined&&t!==undefined&&(this.filterFields=e,this.lastFilterExpression=this.filterExpression,this.filterExpression=t,this.pager(),this.info())},doFakeFilter:function(e,n){if(e!==undefined&&n!==undefined){var r=this.origModels;return r===undefined&&(r=this.models),t.isEmpty(this.fieldFilterRules)||(r=this._fieldFilter(r,this.fieldFilterRules)),r=this._filter(r,e,n),r.length}},pager:function(){var e=this,n=this.perPage,r=(e.currentPage-1)*n,i=r+n;e.origModels===undefined&&(e.origModels=e.models),e.models=e.origModels,this.sortColumn!==""&&(e.models=e._sort(e.models,this.sortColumn,this.sortDirection)),t.isEmpty(this.fieldFilterRules)||(e.models=e._fieldFilter(e.models,this.fieldFilterRules)),this.filterExpression!==""&&(e.models=e._filter(e.models,this.filterFields,this.filterExpression));if(this.lastSortColumn!==this.sortColumn||this.lastFilterExpression!==this.filterExpression||!t.isEqual(this.fieldFilterRules,this.lastFieldFilterRules))r=0,i=r+n,e.currentPage=1,this.lastSortColumn=this.sortColumn,this.lastFieldFilterRules=this.fieldFilterRules,this.lastFilterExpression=this.filterExpression;e.sortedAndFilteredModels=e.models,e.reset(e.models.slice(r,i))},_sort:function(e,n,r){return e=e.sort(function(e,i){var s=e.get(n),o=i.get(n);if(t.isUndefined(s)||t.isUndefined(o))return 0;s=s.toString().toLowerCase(),o=o.toString().toLowerCase();if(r==="desc")if(!s.match(/[^\-\d\.]/)&&s.match(/-?[\d\.]*/)&&!o.match(/[^\-\d\.]/)&&o.match(/-?[\d\.]*/)){if(s-0<o-0)return 1;if(s-0>o-0)return-1}else{if(s<o)return 1;if(s>o)return-1}else if(!s.match(/[^\-\d\.]/)&&s.match(/-?[\d\.]*/)&&!o.match(/[^\-\d\.]/)&&o.match(/-?[\d\.]*/)){if(s-0<o-0)return-1;if(s-0>o-0)return 1}else{if(s<o)return-1;if(s>o)return 1}return 0}),e},_fieldFilter:function(e,n){if(t.isEmpty(n))return e;var r=[];return t.each(e,function(e){var i=!0;t.each(n,function(n){if(!i)return!1;i=!1;if(n.type==="function"){var r=t.wrap(n.value,function(t){return t(e.get(n.field))});r()&&(i=!0)}else n.type==="required"?t.isEmpty(e.get(n.field).toString())||(i=!0):n.type==="min"?!t.isNaN(Number(e.get(n.field)))&&!t.isNaN(Number(n.value))&&Number(e.get(n.field))>=Number(n.value)&&(i=!0):n.type==="max"?!t.isNaN(Number(e.get(n.field)))&&!t.isNaN(Number(n.value))&&Number(e.get(n.field))<=Number(n.value)&&(i=!0):n.type==="range"?!t.isNaN(Number(e.get(n.field)))&&t.isObject(n.value)&&!t.isNaN(Number(n.value.min))&&!t.isNaN(Number(n.value.max))&&Number(e.get(n.field))>=Number(n.value.min)&&Number(e.get(n.field))<=Number(n.value.max)&&(i=!0):n.type==="minLength"?e.get(n.field).toString().length>=n.value&&(i=!0):n.type==="maxLength"?e.get(n.field).toString().length<=n.value&&(i=!0):n.type==="rangeLength"?t.isObject(n.value)&&!t.isNaN(Number(n.value.min))&&!t.isNaN(Number(n.value.max))&&e.get(n.field).toString().length>=n.value.min&&e.get(n.field).toString().length<=n.value.max&&(i=!0):n.type==="oneOf"?t.isArray(n.value)&&t.include(n.value,e.get(n.field))&&(i=!0):n.type==="equalTo"?n.value===e.get(n.field)&&(i=!0):n.type==="containsAllOf"?t.isArray(n.value)&&t.isArray(e.get(n.field))&&t.intersection(n.value,e.get(n.field)).length===n.value.length&&(i=!0):n.type==="pattern"?e.get(n.field).toString().match(n.value)&&(i=!0):i=!1}),i&&r.push(e)}),r},_filter:function(n,r,i){var s=this,o={};t.isString(r)?o[r]={cmp_method:"regexp"}:t.isArray(r)?t.each(r,function(e){o[e]={cmp_method:"regexp"}}):t.each(r,function(e,n){o[n]=t.defaults(e,{cmp_method:"regexp"})}),r=o,t.has(e.Paginator,"removeDiacritics")&&s.useDiacriticsPlugin&&(i=e.Paginator.removeDiacritics(i));if(i===""||!t.isString(i))return n;var u=t.map(i.match(/\w+/ig),function(e){return e.toLowerCase()}),a="("+t.uniq(u).join("|")+")",f=new RegExp(a,"igm"),l=[];return t.each(n,function(n){var o=[];t.each(r,function(r,a){var l=n.get(a);if(l){var c=[];t.has(e.Paginator,"removeDiacritics")&&s.useDiacriticsPlugin?l=e.Paginator.removeDiacritics(l.toString()):l=l.toString();if(r.cmp_method==="levenshtein"&&t.has(e.Paginator,"levenshtein")&&s.useLevenshteinPlugin){var h=e.Paginator.levenshtein(l,i);t.defaults(r,{max_distance:0}),h<=r.max_distance&&(c=t.uniq(u))}else c=l.match(f);c=t.map(c,function(e){return e.toString().toLowerCase()}),t.each(c,function(e){o.push(e)})}}),o=t.uniq(t.without(o,"")),t.isEmpty(t.difference(u,o))&&l.push(n)}),l},info:function(){var e=this,t={},n=e.sortedAndFilteredModels?e.sortedAndFilteredModels.length:e.length,r=Math.ceil(n/e.perPage);return t={totalUnfilteredRecords:e.origModels.length,totalRecords:n,currentPage:e.currentPage,perPage:this.perPage,totalPages:r,lastPage:r,previous:!1,next:!1,startRecord:n===0?0:(e.currentPage-1)*this.perPage+1,endRecord:Math.min(n,e.currentPage*this.perPage)},e.currentPage>1&&(t.previous=e.currentPage-1),e.currentPage<t.totalPages&&(t.next=e.currentPage+1),t.pageSet=e.setPagination(t),e.information=t,t},setPagination:function(e){var t=[],n=0,r=0,i=this.pagesInRange*2,s=Math.ceil(e.totalRecords/e.perPage);if(s>1)if(s<=1+i)for(n=1,r=s;n<=r;n++)t.push(n);else if(e.currentPage<=this.pagesInRange+1)for(n=1,r=2+i;n<r;n++)t.push(n);else if(s-this.pagesInRange>e.currentPage&&e.currentPage>this.pagesInRange)for(n=e.currentPage-this.pagesInRange;n<=e.currentPage+this.pagesInRange;n++)t.push(n);else for(n=s-i;n<=s;n++)t.push(n);return t}}),r.requestPager=e.Collection.extend({sync:function(e,r,i){var s=this;t.defaults(s.paginator_ui,{firstPage:0,currentPage:1,perPage:5,totalPages:10,pagesInRange:4}),t.each(s.paginator_ui,function(e,n){t.isUndefined(s[n])&&(s[n]=s.paginator_ui[n])});var o={};t.each(t.result(s,"server_api"),function(e,n){t.isFunction(e)&&(e=t.bind(e,s),e=e()),o[n]=e});var u=t.clone(s.paginator_core);t.each(u,function(e,n){t.isFunction(e)&&(e=t.bind(e,s),e=e()),u[n]=e}),u=t.defaults(u,{timeout:25e3,cache:!1,type:"GET",dataType:"jsonp"}),i.data?i.data=decodeURIComponent(n.param(t.extend(o,i.data))):i.data=decodeURIComponent(n.param(o));var a=i.success;i.success=function(e,t,n){a&&a(e,t,n),r&&r.trigger&&r.trigger("sync",r,e,i)};var f=i.error;i.error=function(e,t,n){f&&f(r,e,i),r&&r.trigger&&r.trigger("error",r,e,i)},u=t.extend(u,{processData:!1,url:t.result(u,"url")},i);var l=n.ajax(u);return r&&r.trigger&&r.trigger("request",r,l,i),l},requestNextPage:function(e){if(this.currentPage!==undefined)return this.currentPage+=1,this.pager(e);var t=new n.Deferred;return t.reject(),t.promise()},requestPreviousPage:function(e){if(this.currentPage!==undefined)return this.currentPage-=1,this.pager(e);var t=new n.Deferred;return t.reject(),t.promise()},updateOrder:function(e){e!==undefined&&(this.sortField=e,this.pager())},goTo:function(e,t){if(e!==undefined)return this.currentPage=parseInt(e,10),this.pager(t);var r=new n.Deferred;return r.reject(),r.promise()},howManyPer:function(e){e!==undefined&&(this.currentPage=this.firstPage,this.perPage=e,this.pager())},sort:function(){},info:function(){var e={totalRecords:this.totalRecords||0,currentPage:this.currentPage,firstPage:this.firstPage,totalPages:Math.ceil(this.totalRecords/this.perPage),lastPage:this.totalPages,perPage:this.perPage,hasPrevious:!1,hasNext:!1};return this.currentPage>1&&(e.hasPrevious=this.currentPage-1),this.currentPage<e.totalPages&&(e.hasNext=this.currentPage+1),e.pageSet=this.setPagination(e),this.information=e,e},setPagination:function(e){var t=[],n=0,r=0,i=this.pagesInRange*2,s=Math.ceil(e.totalRecords/e.perPage);if(s>1)if(s<=1+i)for(n=1,r=s;n<=r;n++)t.push(n);else if(e.currentPage<=this.pagesInRange+1)for(n=1,r=2+i;n<r;n++)t.push(n);else if(s-this.pagesInRange>e.currentPage&&e.currentPage>this.pagesInRange)for(n=e.currentPage-this.pagesInRange;n<=e.currentPage+this.pagesInRange;n++)t.push(n);else for(n=s-i;n<=s;n++)t.push(n);return t},pager:function(e){return t.isObject(e)||(e={}),this.fetch(e)},url:function(){return this.paginator_core!==undefined&&this.paginator_core.url!==undefined?this.paginator_core.url:null}}),r}(Backbone,_,jQuery);var dat=dat||{};dat.gui=dat.gui||{},dat.utils=dat.utils||{},dat.controllers=dat.controllers||{},dat.dom=dat.dom||{},dat.color=dat.color||{},dat.utils.css=function(){return{load:function(e,t){t=t||document;var n=t.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.getElementsByTagName("head")[0].appendChild(n)},inject:function(e,t){t=t||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=e,t.getElementsByTagName("head")[0].appendChild(n)}}}(),dat.utils.common=function(){var e=Array.prototype.forEach,t=Array.prototype.slice;return{BREAK:{},extend:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])},this),e},defaults:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])},this),e},compose:function(){var e=t.call(arguments);return function(){var n=t.call(arguments);for(var r=e.length-1;r>=0;r--)n=[e[r].apply(this,n)];return n[0]}},each:function(t,n,r){if(e&&t.forEach===e)t.forEach(n,r);else if(t.length===t.length+0){for(var i=0,s=t.length;i<s;i++)if(i in t&&n.call(r,t[i],i)===this.BREAK)return}else for(var i in t)if(n.call(r,t[i],i)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():t.call(e)},isUndefined:function(e){return e===undefined},isNull:function(e){return e===null},isNaN:function(e){return e!==e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return Object.prototype.toString.call(e)==="[object Function]"}}}(),dat.controllers.Controller=function(e){var t=function(e,t){this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=undefined,this.__onFinishChange=undefined};return e.extend(t.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),t}(dat.utils.common),dat.dom.dom=function(e){function i(t){if(t==="0"||e.isUndefined(t))return 0;var n=t.match(r);return e.isNull(n)?0:parseFloat(n[1])}var t={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},n={};e.each(t,function(t,r){e.each(t,function(e){n[e]=r})});var r=/(\d+(\.\d+)?)px/,s={makeSelectable:function(e,t){if(e===undefined||e.style===undefined)return;e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off"},makeFullscreen:function(t,n,r){e.isUndefined(n)&&(n=!0),e.isUndefined(r)&&(r=!0),t.style.position="absolute",n&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,r,i,s){i=i||{};var o=n[r];if(!o)throw new Error("Event type "+r+" not supported.");var u=document.createEvent(o);switch(o){case"MouseEvents":var a=i.x||i.clientX||0,f=i.y||i.clientY||0;u.initMouseEvent(r,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,a,f,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var l=u.initKeyboardEvent||u.initKeyEvent;e.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:undefined,charCode:undefined}),l(r,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:u.initEvent(r,i.bubbles||!1,i.cancelable||!0)}e.defaults(u,s),t.dispatchEvent(u)},bind:function(e,t,n,r){return r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n),s},unbind:function(e,t,n,r){return r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n),s},addClass:function(e,t){if(e.className===undefined)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);n.indexOf(t)==-1&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return s},removeClass:function(e,t){if(t){if(e.className!==undefined)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);r!=-1&&(n.splice(r,1),e.className=n.join(" "))}}else e.className=undefined;return s},hasClass:function(e,t){return(new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)")).test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return i(t["border-left-width"])+i(t["border-right-width"])+i(t["padding-left"])+i(t["padding-right"])+i(t.width)},getHeight:function(e){var t=getComputedStyle(e);return i(t["border-top-width"])+i(t["border-bottom-width"])+i(t["padding-top"])+i(t["padding-bottom"])+i(t.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)do t.left+=e.offsetLeft,t.top+=e.offsetTop;while(e=e.offsetParent);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return s}(dat.utils.common),dat.controllers.OptionController=function(e,t,n){var r=function(e,i,s){r.superclass.call(this,e,i);var o=this;this.__select=document.createElement("select");if(n.isArray(s)){var u={};n.each(s,function(e){u[e]=e}),s=u}n.each(s,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),o.__select.appendChild(n)}),this.updateDisplay(),t.bind(this.__select,"change",function(){var e=this.options[this.selectedIndex].value;o.setValue(e)}),this.domElement.appendChild(this.__select)};return r.superclass=e,n.extend(r.prototype,e.prototype,{setValue:function(e){var t=r.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),t},updateDisplay:function(){return this.__select.value=this.getValue(),r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.NumberController=function(e,t){function r(e){return e=e.toString(),e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var n=function(e,i,s){n.superclass.call(this,e,i),s=s||{},this.__min=s.min,this.__max=s.max,this.__step=s.step,t.isUndefined(this.__step)?this.initialValue==0?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=r(this.__impliedStep)};return n.superclass=e,t.extend(n.prototype,e.prototype,{setValue:function(e){return this.__min!==undefined&&e<this.__min?e=this.__min:this.__max!==undefined&&e>this.__max&&(e=this.__max),this.__step!==undefined&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),n.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this}}),n}(dat.controllers.Controller,dat.utils.common),dat.controllers.NumberControllerBox=function(e,t,n){function i(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var r=function(e,i,s){function a(){var e=parseFloat(o.__input.value);n.isNaN(e)||o.setValue(e)}function f(){a(),o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function l(e){t.bind(window,"mousemove",c),t.bind(window,"mouseup",h),u=e.clientY}function c(e){var t=u-e.clientY;o.setValue(o.getValue()+t*o.__impliedStep),u=e.clientY}function h(){t.unbind(window,"mousemove",c),t.unbind(window,"mouseup",h)}this.__truncationSuspended=!1,r.superclass.call(this,e,i,s);var o=this,u;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"change",a),t.bind(this.__input,"blur",f),t.bind(this.__input,"mousedown",l),t.bind(this.__input,"keydown",function(e){e.keyCode===13&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=e,n.extend(r.prototype,e.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():i(this.getValue(),this.__precision),r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common),dat.controllers.NumberControllerSlider=function(e,t,n,r,i){function o(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))}var s=function(e,n,r,i,u){function f(e){t.bind(window,"mousemove",l),t.bind(window,"mouseup",c),l(e)}function l(e){e.preventDefault();var n=t.getOffset(a.__background),r=t.getWidth(a.__background);return a.setValue(o(e.clientX,n.left,n.left+r,a.__min,a.__max)),!1}function c(){t.unbind(window,"mousemove",l),t.unbind(window,"mouseup",c),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}s.superclass.call(this,e,n,{min:r,max:i,step:u});var a=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),t.bind(this.__background,"mousedown",f),t.addClass(this.__background,"slider"),t.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return s.superclass=e,s.useDefaultStyles=function(){n.inject(i)},r.extend(s.prototype,e.prototype,{updateDisplay:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=e*100+"%",s.superclass.prototype.updateDisplay.call(this)}}),s}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common,".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),dat.controllers.FunctionController=function(e,t,n){var r=function(e,n,i){r.superclass.call(this,e,n);var s=this;this.__button=document.createElement("div"),this.__button.innerHTML=i===undefined?"Fire":i,t.bind(this.__button,"click",function(e){return e.preventDefault(),s.fire(),!1}),t.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return r.superclass=e,n.extend(r.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.BooleanController=function(e,t,n){var r=function(e,n){function s(){i.setValue(!i.__prev)}r.superclass.call(this,e,n);var i=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),t.bind(this.__checkbox,"change",s,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return r.superclass=e,n.extend(r.prototype,e.prototype,{setValue:function(e){var t=r.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),t},updateDisplay:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.color.toString=function(e){return function(t){if(t.a==1||e.isUndefined(t.a)){var n=t.hex.toString(16);while(n.length<6)n="0"+n;return"#"+n}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}}(dat.utils.common),dat.color.interpret=function(e,t){var n,r,i=function(){r=!1;var e=arguments.length>1?t.toArray(arguments):arguments[0];return t.each(s,function(i){if(i.litmus(e))return t.each(i.conversions,function(i,s){n=i.read(e);if(r===!1&&n!==!1)return r=n,n.conversionName=s,n.conversion=i,t.BREAK}),t.BREAK}),r},s=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return t===null?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return t===null?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString())}},write:e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return t===null?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return t===null?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!=3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!=4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return i}(dat.color.toString,dat.utils.common),dat.GUI=dat.gui.GUI=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){function C(e,t,n,s){if(t[n]===undefined)throw new Error("Object "+t+' has no property "'+n+'"');var o;if(s.color)o=new l(t,n);else{var u=[t,n].concat(s.factoryArgs);o=r.apply(e,u)}s.before instanceof i&&(s.before=s.before.__li),A(e,o),p.addClass(o.domElement,"c");var a=document.createElement("span");p.addClass(a,"property-name"),a.innerHTML=o.property;var f=document.createElement("div");f.appendChild(a),f.appendChild(o.domElement);var c=k(e,f,s.before);return p.addClass(c,N.CLASS_CONTROLLER_ROW),p.addClass(c,typeof o.getValue()),L(e,c,o),e.__controllers.push(o),o}function k(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,params.before):e.__ul.appendChild(r),e.onResize(),r}function L(e,t,n){n.__li=t,n.__gui=e,d.extend(n,{options:function(t){if(arguments.length>1)return n.remove(),C(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[d.toArray(arguments)]});if(d.isArray(t)||d.isObject(t))return n.remove(),C(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[t]})},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}});if(n instanceof a){var r=new u(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});d.each(["updateDisplay","onChange","onFinishChange"],function(e){var t=n[e],i=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(n,e),i.apply(r,e)}}),p.addClass(t,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof u){var i=function(t){return d.isNumber(n.__min)&&d.isNumber(n.__max)?(n.remove(),C(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):t};n.min=d.compose(i,n.min),n.max=d.compose(i,n.max)}else n instanceof s?(p.bind(t,"click",function(){p.fakeEvent(n.__checkbox,"click")}),p.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof o?(p.bind(t,"click",function(){p.fakeEvent(n.__button,"click")}),p.bind(t,"mouseover",function(){p.addClass(n.__button,"hover")}),p.bind(t,"mouseout",function(){p.removeClass(n.__button,"hover")})):n instanceof l&&(p.addClass(t,"color"),n.updateDisplay=d.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=d.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&j(e.getRoot(),!0),t},n.setValue)}function A(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(r!=-1){var i=n.__rememberedObjectIndecesToControllers[r];i===undefined&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[t.property]=t;if(n.load&&n.load.remembered){var s=n.load.remembered,o;if(s[e.preset])o=s[e.preset];else{if(!s[y])return;o=s[y]}if(o[r]&&o[r][t.property]!==undefined){var u=o[r][t.property];t.initialValue=u,t.setValue(u)}}}}function O(e,t){return document.location.href+"."+t}function M(e){var t=e.__save_row=document.createElement("li");p.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),p.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",p.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",p.addClass(r,"button"),p.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",p.addClass(i,"button"),p.addClass(i,"save-as");var s=document.createElement("span");s.innerHTML="Revert",p.addClass(s,"button"),p.addClass(s,"revert");var o=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?d.each(e.load.remembered,function(t,n){H(e,n,n==e.preset)}):H(e,y,!1),p.bind(o,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(o),t.appendChild(n),t.appendChild(r),t.appendChild(i),t.appendChild(s);if(b){var u=document.getElementById("dg-save-locally"),a=document.getElementById("dg-local-explain");u.style.display="block";var f=document.getElementById("dg-local-storage");localStorage.getItem(O(e,"isLocal"))==="true"&&f.setAttribute("checked","checked");function l(){a.style.display=e.useLocalStorage?"block":"none"}l(),p.bind(f,"change",function(){e.useLocalStorage=!e.useLocalStorage,l()})}var c=document.getElementById("dg-new-constructor");p.bind(c,"keydown",function(e){e.metaKey&&(e.which===67||e.keyCode==67)&&w.hide()}),p.bind(n,"click",function(){c.innerHTML=JSON.stringify(e.getSaveObject(),undefined,2),w.show(),c.focus(),c.select()}),p.bind(r,"click",function(){e.save()}),p.bind(i,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),p.bind(s,"click",function(){e.revert()})}function _(e){function n(n){return n.preventDefault(),t=n.clientX,p.addClass(e.__closeButton,N.CLASS_DRAG),p.bind(window,"mousemove",r),p.bind(window,"mouseup",i),!1}function r(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function i(){p.removeClass(e.__closeButton,N.CLASS_DRAG),p.unbind(window,"mousemove",r),p.unbind(window,"mouseup",i)}e.__resize_handle=document.createElement("div"),d.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var t;p.bind(e.__resize_handle,"mousedown",n),p.bind(e.__closeButton,"mousedown",n),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function D(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function P(e,t){var n={};return d.each(e.__rememberedObjects,function(r,i){var s={},o=e.__rememberedObjectIndecesToControllers[i];d.each(o,function(e,n){s[n]=t?e.initialValue:e.getValue()}),n[i]=s}),n}function H(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function B(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value==e.preset&&(e.__preset_select.selectedIndex=t)}function j(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];t?n.innerHTML=n.value+"*":n.innerHTML=n.value}function F(e){e.length!=0&&c(function(){F(e)}),d.each(e,function(e){e.updateDisplay()})}e.inject(n);var v="dg",m=72,g=20,y="Default",b=function(){try{return"localStorage"in window&&window.localStorage!==null}catch(e){return!1}}(),w,E=!0,S,x=!1,T=[],N=function(e){function u(){localStorage.setItem(O(t,"gui"),JSON.stringify(t.getSaveObject()))}function f(){var e=t.getRoot();e.width+=1,d.defer(function(){e.width-=1})}var t=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),p.addClass(this.domElement,v),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],e=e||{},e=d.defaults(e,{autoPlace:!0,width:N.DEFAULT_WIDTH}),e=d.defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace}),d.isUndefined(e.load)?e.load={preset:y}:e.preset&&(e.load.preset=e.preset),d.isUndefined(e.parent)&&e.hideable&&T.push(this),e.resizable=d.isUndefined(e.parent)&&e.resizable,e.autoPlace&&d.isUndefined(e.scrollable)&&(e.scrollable=!0);var n=b&&localStorage.getItem(O(this,"isLocal"))==="true";Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},preset:{get:function(){return t.parent?t.getRoot().preset:e.load.preset},set:function(n){t.parent?t.getRoot().preset=n:e.load.preset=n,B(this),t.revert()}},width:{get:function(){return e.width},set:function(n){e.width=n,D(t,n)}},name:{get:function(){return e.name},set:function(t){e.name=t,i&&(i.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(n){e.closed=n,e.closed?p.addClass(t.__ul,N.CLASS_CLOSED):p.removeClass(t.__ul,N.CLASS_CLOSED),this.onResize(),t.__closeButton&&(t.__closeButton.innerHTML=n?N.TEXT_OPEN:N.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return n},set:function(e){b&&(n=e,e?p.bind(window,"unload",u):p.unbind(window,"unload",u),localStorage.setItem(O(t,"isLocal"),e))}}});if(d.isUndefined(e.parent)){e.closed=!1,p.addClass(this.domElement,N.CLASS_MAIN),p.makeSelectable(this.domElement,!1);if(b&&n){t.useLocalStorage=!0;var r=localStorage.getItem(O(this,"gui"));r&&(e.load=JSON.parse(r))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=N.TEXT_CLOSED,p.addClass(this.__closeButton,N.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),p.bind(this.__closeButton,"click",function(){t.closed=!t.closed})}else{e.closed===undefined&&(e.closed=!0);var i=document.createTextNode(e.name);p.addClass(i,"controller-name");var s=k(t,i),o=function(e){return e.preventDefault(),t.closed=!t.closed,!1};p.addClass(this.__ul,N.CLASS_CLOSED),p.addClass(s,"title"),p.bind(s,"click",o),e.closed||(this.closed=!1)}e.autoPlace&&(d.isUndefined(e.parent)&&(E&&(S=document.createElement("div"),p.addClass(S,v),p.addClass(S,N.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(S),E=!1),S.appendChild(this.domElement),p.addClass(this.domElement,N.CLASS_AUTO_PLACE)),this.parent||D(t,e.width)),p.bind(window,"resize",function(){t.onResize()}),p.bind(this.__ul,"webkitTransitionEnd",function(){t.onResize()}),p.bind(this.__ul,"transitionend",function(){t.onResize()}),p.bind(this.__ul,"oTransitionEnd",function(){t.onResize()}),this.onResize(),e.resizable&&_(this);var a=t.getRoot();e.parent||f()};return N.toggleHide=function(){x=!x,d.each(T,function(e){e.domElement.style.zIndex=x?-999:999,e.domElement.style.opacity=x?0:1})},N.CLASS_AUTO_PLACE="a",N.CLASS_AUTO_PLACE_CONTAINER="ac",N.CLASS_MAIN="main",N.CLASS_CONTROLLER_ROW="cr",N.CLASS_TOO_TALL="taller-than-window",N.CLASS_CLOSED="closed",N.CLASS_CLOSE_BUTTON="close-button",N.CLASS_DRAG="drag",N.DEFAULT_WIDTH=245,N.TEXT_CLOSED="Close Controls",N.TEXT_OPEN="Open Controls",p.bind(window,"keydown",function(e){document.activeElement.type!=="text"&&(e.which===m||e.keyCode==m)&&N.toggleHide()},!1),d.extend(N.prototype,{add:function(e,t){return C(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return C(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;d.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&S.removeChild(this.domElement)},addFolder:function(e){if(this.__folders[e]!==undefined)throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new N(t);this.__folders[e]=n;var r=k(this,n.domElement);return p.addClass(r,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=p.getOffset(e.__ul).top,n=0;d.each(e.__ul.childNodes,function(t){if(!e.autoPlace||t!==e.__save_row)n+=p.getHeight(t)}),window.innerHeight-t-g<n?(p.addClass(e.domElement,N.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-g+"px"):(p.removeClass(e.domElement,N.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&d.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},remember:function(){d.isUndefined(w)&&(w=new h,w.domElement.innerHTML=t);if(this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;d.each(Array.prototype.slice.call(arguments),function(t){e.__rememberedObjects.length==0&&M(e),e.__rememberedObjects.indexOf(t)==-1&&e.__rememberedObjects.push(t)}),this.autoPlace&&D(this,this.width)},getRoot:function(){var e=this;while(e.parent)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=P(this)),e.folders={},d.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=P(this),j(this,!1)},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[y]=P(this,!0)),this.load.remembered[e]=P(this),this.preset=e,H(this,e,!0)},revert:function(e){d.each(this.__controllers,function(t){this.getRoot().load.remembered?A(e||this.getRoot(),t):t.setValue(t.initialValue)},this),d.each(this.__folders,function(e){e.revert(e)}),e||j(this.getRoot(),!1)},listen:function(e){var t=this.__listening.length==0;this.__listening.push(e),t&&F(this.__listening)}}),N}(dat.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",dat.controllers.factory=function(e,t,n,r,i,s,o){return function(u,a){var f=u[a];if(o.isArray(arguments[2])||o.isObject(arguments[2]))return new e(u,a,arguments[2]);if(o.isNumber(f))return o.isNumber(arguments[2])&&o.isNumber(arguments[3])?new n(u,a,arguments[2],arguments[3]):new t(u,a,{min:arguments[2],max:arguments[3]});if(o.isString(f))return new r(u,a);if(o.isFunction(f))return new i(u,a,"");if(o.isBoolean(f))return new s(u,a)}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(e,t,n){var r=function(e,n){function s(){i.setValue(i.__input.value)}function o(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}r.superclass.call(this,e,n);var i=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"keyup",s),t.bind(this.__input,"change",s),t.bind(this.__input,"blur",o),t.bind(this.__input,"keydown",function(e){e.keyCode===13&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=e,n.extend(r.prototype,e.prototype,{updateDisplay:function(){return t.isActive(this.__input)||(this.__input.value=this.getValue()),r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,dat.controllers.ColorController=function(e,t,n,r,i){function u(e,t,n,r){e.style.background="",i.each(o,function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+r+" 100%); "})}function a(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var s=function(e,o){function c(e){v(e),t.bind(window,"mousemove",v),t.bind(window,"mouseup",h)}function h(){t.unbind(window,"mousemove",v),t.unbind(window,"mouseup",h)}function p(){var e=r(this.value);e!==!1?(f.__color.__state=e,f.setValue(f.__color.toOriginal())):this.value=f.__color.toString()}function d(){t.unbind(window,"mousemove",m),t.unbind(window,"mouseup",d)}function v(e){e.preventDefault();var n=t.getWidth(f.__saturation_field),r=t.getOffset(f.__saturation_field),i=(e.clientX-r.left+document.body.scrollLeft)/n,s=1-(e.clientY-r.top+document.body.scrollTop)/n;return s>1?s=1:s<0&&(s=0),i>1?i=1:i<0&&(i=0),f.__color.v=s,f.__color.s=i,f.setValue(f.__color.toOriginal()),!1}function m(e){e.preventDefault();var n=t.getHeight(f.__hue_field),r=t.getOffset(f.__hue_field),i=1-(e.clientY-r.top+document.body.scrollTop)/n;return i>1?i=1:i<0&&(i=0),f.__color.h=i*360,f.setValue(f.__color.toOriginal()),!1}s.superclass.call(this,e,o),this.__color=new n(this.getValue()),this.__temp=new n(0);var f=this;this.domElement=document.createElement("div"),t.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",t.bind(this.__input,"keydown",function(e){e.keyCode===13&&p.call(this)}),t.bind(this.__input,"blur",p),t.bind(this.__selector,"mousedown",function(e){t.addClass(this,"drag").bind(window,"mouseup",function(e){t.removeClass(f.__selector,"drag")})});var l=document.createElement("div");i.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),i.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),i.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),i.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),i.extend(l.style,{width:"100%",height:"100%",background:"none"}),u(l,"top","rgba(0,0,0,0)","#000"),i.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),a(this.__hue_field),i.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),t.bind(this.__saturation_field,"mousedown",c),t.bind(this.__field_knob,"mousedown",c),t.bind(this.__hue_field,"mousedown",function(e){m(e),t.bind(window,"mousemove",m),t.bind(window,"mouseup",d)}),this.__saturation_field.appendChild(l),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};s.superclass=e,i.extend(s.prototype,e.prototype,{updateDisplay:function(){var e=r(this.getValue());if(e!==!1){var t=!1;i.each(n.COMPONENTS,function(n){if(!i.isUndefined(e[n])&&!i.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&i.extend(this.__color.__state,e)}i.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var s=this.__color.v<.5||this.__color.s>.5?255:0,o=255-s;i.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+s+","+s+","+s+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,u(this.__saturation_field,"left","#fff",this.__temp.toString()),i.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+s+","+s+","+s+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}});var o=["-moz-","-o-","-webkit-","-ms-",""];return s}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(e,t,n,r){function s(e,t,n){Object.defineProperty(e,t,{get:function(){return this.__state.space==="RGB"?this.__state[t]:(u(this,t,n),this.__state[t])},set:function(e){this.__state.space!=="RGB"&&(u(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function o(e,t){Object.defineProperty(e,t,{get:function(){return this.__state.space==="HSV"?this.__state[t]:(a(this),this.__state[t])},set:function(e){this.__state.space!=="HSV"&&(a(this),this.__state.space="HSV"),this.__state[t]=e}})}function u(e,n,i){if(e.__state.space==="HEX")e.__state[n]=t.component_from_hex(e.__state.hex,i);else{if(e.__state.space!=="HSV")throw"Corrupted color state";r.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function a(e){var n=t.rgb_to_hsv(e.r,e.g,e.b);r.extend(e.__state,{s:n.s,v:n.v}),r.isNaN(n.h)?r.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h}var i=function(){this.__state=e.apply(this,arguments);if(this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return i.COMPONENTS=["r","g","b","h","s","v","hex","a"],r.extend(i.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),s(i.prototype,"r",2),s(i.prototype,"g",1),s(i.prototype,"b",0),o(i.prototype,"h"),o(i.prototype,"s"),o(i.prototype,"v"),Object.defineProperty(i.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(i.prototype,"hex",{get:function(){return!this.__state.space!=="HEX"&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),i}(dat.color.interpret,dat.color.math=function(){var e;return{hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),s=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),a=[[n,u,s],[o,n,s],[s,n,u],[s,o,n],[u,s,n],[n,s,o]][r];return{r:a[0]*255,g:a[1]*255,b:a[2]*255}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),i=Math.max(e,t,n),s=i-r,o,u;return i==0?{h:NaN,s:0,v:0}:(u=s/i,e==i?o=(t-n)/s:t==i?o=2+(n-e)/s:o=4+(e-t)/s,o/=6,o<0&&(o+=1),{h:o*360,s:u,v:i/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n),r},component_from_hex:function(e,t){return e>>t*8&255},hex_with_component:function(t,n,r){return r<<(e=n*8)|t&~(255<<e)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}(),dat.dom.CenteredDiv=function(e,t){function r(e){console.log(e)}var n=function(){this.backgroundElement=document.createElement("div"),t.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),t.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;e.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),t.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var t=this,n=function(){t.domElement.style.display="none",t.backgroundElement.style.display="none",e.unbind(t.domElement,"webkitTransitionEnd",n),e.unbind(t.domElement,"transitionend",n),e.unbind(t.domElement,"oTransitionEnd",n)};e.bind(this.domElement,"webkitTransitionEnd",n),e.bind(this.domElement,"transitionend",n),e.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+"px"},n}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common),function(e,t,n,r){function a(t,n){return t in e?e[t]:typeof e[n]=="function"?e[n]:function(e){if(e instanceof Array)return e;if(typeof e=="number"){var t=[];return t.length=e,t}}}function d(e){if(typeof e=="string"){var t=0;for(var i=0;i<e.length;++i)t=t*31+e.charCodeAt(i)&4294967295;return t}return typeof e!="object"?e&4294967295:e.hashCode instanceof Function?e.hashCode():(e.$id===r&&(e.$id=n.floor(n.random()*65536)-32768<<16|n.floor(n.random()*65536)),e.$id)}function v(e,t){return e===null||t===null?e===null&&t===null:typeof e=="string"?e===t:typeof e!="object"?e===t:e.equals instanceof Function?e.equals(t):e===t}function w(){}function S(e,t,n){if(!e.hasOwnProperty(t)||typeof e[t]!="function"){e[t]=n;return}var r=e[t];if("$overloads"in r){r.$defaultOverload=n;return}if(!("$overloads"in n||r.length!==n.length))return;var i,s;"$overloads"in n?(i=n.$overloads.slice(0),i[r.length]=r,s=n.$defaultOverload):(i=[],i[n.length]=n,i[r.length]=r,s=r);var o=function(){var e=o.$overloads[arguments.length]||("$methodArgsIndex"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload;return e.apply(this,arguments)};o.$overloads=i,"$methodArgsIndex"in n&&(o.$methodArgsIndex=n.$methodArgsIndex),o.$defaultOverload=s,o.name=t,e[t]=o}function x(e,t){function n(n){E.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},enumerable:!0})}var r=[];for(var i in t)typeof t[i]=="function"?S(e,i,t[i]):i.charAt(0)!=="$"&&!(i in e)&&r.push(i);while(r.length>0)n(r.shift());e.$super=t}function T(e){return typeof e!="string"?!1:["byte","int","char","color","float","long","double"].indexOf(e)!==-1}function O(e){var r=250,s=e.size/r,o=t.createElement("canvas");o.width=2*r,o.height=2*r,o.style.opacity=0;var u=e.getCSSDefinition(r+"px","normal"),a=o.getContext("2d");a.font=u;var f="dbflkhyjqpg";o.width=a.measureText(f).width,a.font=u;var l=t.createElement("div");l.style.position="absolute",l.style.opacity=0,l.style.fontFamily='"'+e.name+'"',l.style.fontSize=r+"px",l.innerHTML=f+"<br/>"+f,t.body.appendChild(l);var c=o.width,h=o.height,p=h/2;a.fillStyle="white",a.fillRect(0,0,c,h),a.fillStyle="black",a.fillText(f,0,p);var d=a.getImageData(0,0,c,h).data,v=0,m=c*4,g=d.length;while(++v<g&&d[v]===255)i();var y=n.round(v/m);v=g-1;while(--v>0&&d[v]===255)i();var b=n.round(v/m);e.ascent=s*(p-y),e.descent=s*(b-p);if(t.defaultView.getComputedStyle){var w=t.defaultView.getComputedStyle(l,null).getPropertyValue("height");w=s*w.replace("px",""),w>=e.size*2&&(e.leading=n.round(w/2))}t.body.removeChild(l);if(e.caching)return a}function M(e,t){e===r&&(e=""),this.name=e,t===r&&(t=0),this.size=t,this.glyph=!1,this.ascent=0,this.descent=0,this.leading=1.2*t;var n=e.indexOf(" Italic Bold");n!==-1&&(e=e.substring(0,n)),this.style="normal";var i=e.indexOf(" Italic");i!==-1&&(e=e.substring(0,i),this.style="italic"),this.weight="normal";var s=e.indexOf(" Bold");s!==-1&&(e=e.substring(0,s),this.weight="bold"),this.family="sans-serif";if(e!==r)switch(e){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=e;break;default:this.family='"'+e+'", sans-serif'}this.context2d=O(this),this.css=this.getCSSDefinition(),this.context2d&&(this.context2d.font=this.css)}function D(){var e=["abs","acos","alpha","ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary","blend","blendColor","blit_resize","blue","box","breakShape","brightness","camera","ceil","Character","color","colorMode","concat","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness","curveVertex","day","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape","exit","exp","expand","externals","fill","filter","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor","lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadXML","loadStrings","log","loop","mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed","noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","param","parseBoolean","parseByte","parseChar","parseFloat","parseInt","peg","perspective","PImage","pixels","PMatrix2D","PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","Random","randomSeed","rect","rectMode","red","redraw","requestImage","resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode","shared","shearX","shearY","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode","textSize","texture","textureMode","textWidth","tint","toImageData","touchCancel","touchEnd","touchMove","touchStart","translate","transform","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex","width","XMLElement","XML","year","__contains","__equals","__equalsIgnoreCase","__frameRate","__hashCode","__int_cast","__instanceof","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray","__split","__codePointAt","__startsWith","__endsWith","__matches"],t={},n,r;for(n=0,r=e.length;n<r;++n)t[e[n]]=null;for(var i in _.lib)if(_.lib.hasOwnProperty(i)&&_.lib[i].exports){var s=_.lib[i].exports;for(n=0,r=s.length;n<r;++n)t[s[n]]=null}return t}function P(e){function n(e){var t=[],n=e.split(/([\{\[\(\)\]\}])/),r=n[0],i=[];for(var s=1;s<n.length;s+=2){var o=n[s];if(o==="["||o==="{"||o==="(")i.push(r),r=o;else if(o==="]"||o==="}"||o===")"){var u=o==="}"?"A":o===")"?"B":"C",a=t.length;t.push(r+o),r=i.pop()+'"'+u+(a+1)+'"'}r+=n[s+1]}return t.unshift(r),t}function i(e,t){return e.replace(/'(\d+)'/g,function(e,n){var r=t[n];return r.charAt(0)==="/"?r:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(r)?"(new $p.Character("+r+"))":r})}function s(e){var t=/^\s*/.exec(e),n;if(t[0].length===e.length)n={left:t[0],middle:"",right:""};else{var r=/\s*$/.exec(e);n={left:t[0],middle:e.substring(t[0].length,r.index),right:r[0]}}return n.untrim=function(e){return this.left+e+this.right},n}function o(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function u(e,t){for(var n=0,r=t.length;n<r;++n)e[t[n]]=null;return e}function a(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function f(e){return e.substring(2,e.length-1)}function x(e,t){var n=g.length;return g.push(e),'"'+t+n+'"'}function T(){return"class"+ ++S}function N(e,t,n){e.classId=t,e.scopeId=n,b[t]=e}function I(e){var t=e;return t=t.replace(_,function(e){return x(e,"E")}),t=t.replace(P,function(e){return x(e,"D")}),t=t.replace(F,function(e){return x(e,"H")}),t}function q(e,t){var n=e.replace(B,function(e,n,r,i,s,o){return r!==t?e:x(e,"G")});return n}function R(e){this.name=e}function U(e,t){this.params=e,this.methodArgsParam=t}function z(e){var t=o(e.substring(1,e.length-1)),n=[],r=null;if(t!==""){var i=t.split(",");for(var s=0;s<i.length;++s){var u=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(i[s]);if(s===i.length-1&&i[s].indexOf("...")>=0){r=new R(u[1]);break}n.push(new R(u[1]))}}return new U(n,r)}function W(e){function r(e,t,r,i){var o=g[i];n=!0;var u=s(o.substring(1,o.length-1));return"__"+r+(u.middle===""?x("("+t.replace(/\.\s*$/,"")+")","B"):x("("+t.replace(/\.\s*$/,"")+","+u.middle+")","B"))}function i(e,t,r){return n=!0,"__instanceof"+x("("+t+", "+r+")","B")}var t=e;t=t.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(e,t,n){return n}),t=t.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(e,t,n){return x(e,"F")}),t=t.replace(F,function(e){return x(e,"H")}),t=t.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(e,t,n){var r=n.replace(/"C(\d+)"/g,function(e,t){return g[t]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", "),i="{"+r.substring(1,r.length-1)+"}",s="('"+t+"', "+x(i,"A")+")";return"$p.createJavaArray"+x(s,"B")}),t=t.replace(/(\.\s*length)\s*"B\d+"/g,"$1"),t=t.replace(/#([0-9A-Fa-f]{6})\b/g,function(e,t){return"0xFF"+t}),t=t.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(e,t,n){var r=g[t];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(r))return e;if(/^\(\s*int\s*\)$/.test(r))return"(int)"+n;var i=r.split(/"C(\d+)"/g);return i.length>1&&!/^\[\s*\]$/.test(g[i[1]])?e:""+n}),t=t.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(e,t){var n=s(t);return n.untrim("__int_cast("+n.middle+")")}),t=t.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1"),t=t.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(e,t,n){return t===n?e:n===""?"0"+t:t}),t=t.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1"),t=t.replace(/([^\s])%([^=\s])/g,"$1 % $2"),t=t.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1"),t=t.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(e,t){return"parse"+t.substring(0,1).toUpperCase()+t.substring(1)+'"B'}),t=t.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(e,t,n,r,i,s){if(n){var o=g[r];return i?"pixels.setPixel"+x("("+o.substring(1,o.length-1)+","+s+")","B"):"pixels.getPixel"+x("("+o.substring(1,o.length-1)+")","B")}return t?"pixels.getLength"+x("()","B"):i?"pixels.set"+x("("+s+")","B"):"pixels.toArray"+x("()","B")});var n;do n=!1,t=t.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,r);while(n);do n=!1,t=t.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,i);while(n);return t=t.replace(/\bthis(\s*"B\d+")/g,"$$constr$1"),t}function X(e,t){this.baseInterfaceName=e,this.body=t,t.owner=this}function V(e){var t=(new RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/)).exec(e),n=w,r=T();w=r;var i=t[1]+"$"+r,s=new X(i,C(g[t[2]],i,"","implements "+t[1]));return N(s,r,n),w=n,s}function $(e,t,n){this.name=e,this.params=t,this.body=n}function J(e){var t=(new RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/)).exec(e);return new $(t[1]!=="function"?t[1]:null,z(g[t[2]]),L(g[t[3]]))}function K(e){this.members=e}function Q(e){var t=e.split(",");for(var n=0;n<t.length;++n){var r=t[n].indexOf(":");r<0?t[n]={value:M(t[n])}:t[n]={label:o(t[n].substring(0,r)),value:M(o(t[n].substring(r+1)))}}return new K(t)}function G(e){if(e.charAt(0)==="("||e.charAt(0)==="[")return e.charAt(0)+G(e.substring(1,e.length-1))+e.charAt(e.length-1);if(e.charAt(0)==="{")return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(e)?"{"+x(e.substring(1,e.length-1),"I")+"}":"["+G(e.substring(1,e.length-1))+"]";var t=s(e),n=W(t.middle);return n=n.replace(/"[ABC](\d+)"/g,function(e,t){return G(g[t])}),t.untrim(n)}function Y(e){return e.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(e,t,n,i,s,o){if(t)return e;var u={name:n,member:s,callSign:!!o};return y(u)+(i===r?"":i)})}function Z(e,t){this.expr=e,this.transforms=t}function et(e,t,n){this.name=e,this.value=t,this.isDefault=n}function tt(e,t){var n=e.indexOf("="),r,i,s;return n<0?(r=e,i=t,s=!0):(r=e.substring(0,n),i=M(e.substring(n+1)),s=!1),new et(o(r.replace(/(\s*"C\d+")+/g,"")),i,s)}function nt(e){return e==="int"||e==="float"?"0":e==="boolean"?"false":e==="color"?"0x00000000":"null"}function rt(e,t){this.definitions=e,this.varType=t}function it(e){this.expression=e}function st(e){if(H.test(e)){var t=j.exec(e),n=e.substring(t[0].length).split(","),r=nt(t[2]);for(var i=0;i<n.length;++i)n[i]=tt(n[i],r);return new rt(n,t[2])}return new it(M(e))}function ot(e,t,n){this.initStatement=e,this.condition=t,this.step=n}function ut(e,t){this.initStatement=e,this.container=t}function at(e,t){this.initStatement=e,this.container=t}function ft(e){var t;return/\bin\b/.test(e)?(t=e.substring(1,e.length-1).split(/\bin\b/g),new ut(st(o(t[0])),M(t[1]))):e.indexOf(":")>=0&&e.indexOf(";")<0?(t=e.substring(1,e.length-1).split(":"),new at(st(o(t[0])),M(t[1]))):(t=e.substring(1,e.length-1).split(";"),new ot(st(o(t[0])),M(t[1]),M(t[2])))}function lt(e){e.sort(function(e,t){return t.weight-e.weight})}function ct(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function ht(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function pt(e){var t=_.exec(e);_.lastIndex=0;var n=t[1].indexOf("static")>=0,r=g[f(t[6])],i,s=w,o=T();return w=o,t[2]==="interface"?i=new ct(t[3],k(r,t[3],t[4]),n):i=new ht(t[3],C(r,t[3],t[4],t[5]),n),N(i,o,s),w=s,i}function dt(e,t,n,r){this.name=e,this.params=t,this.body=n,this.isStatic=r}function vt(e){var t=P.exec(e);P.lastIndex=0;var n=t[1].indexOf("static")>=0,r=t[6]!==";"?g[f(t[6])]:"{}";return new dt(t[3],z(g[f(t[4])]),L(r),n)}function mt(e,t,n){this.definitions=e,this.fieldType=t,this.isStatic=n}function gt(e){var t=j.exec(e),n=t[1].indexOf("static")>=0,r=e.substring(t[0].length).split(/,\s*/g),i=nt(t[2]);for(var s=0;s<r.length;++s)r[s]=tt(r[s],i);return new mt(r,t[2],n)}function yt(e,t){this.params=e,this.body=t}function bt(e){var t=(new RegExp(/"B(\d+)"\s*"A(\d+)"/)).exec(e),n=z(g[t[1]]);return new yt(n,L(g[t[2]]))}function wt(e,t,n,r,i,s){var o,u;this.name=e,this.interfacesNames=t,this.methodsNames=n,this.fields=r,this.innerClasses=i,this.misc=s;for(o=0,u=r.length;o<u;++o)r[o].owner=this}function Et(e,t,n,r,i,s,o,u,a){var f,l;this.name=e,this.baseClassName=t,this.interfacesNames=n,this.functions=r,this.methods=i,this.fields=s,this.cstrs=o,this.innerClasses=u,this.misc=a;for(f=0,l=s.length;f<l;++f)s[f].owner=this}function St(e,t){this.name=e,this.body=t,t.owner=this}function xt(e,t){this.name=e,this.body=t,t.owner=this}function Tt(e){var t=_.exec(e);_.lastIndex=0;var n=g[f(t[6])],r=w,i=T();w=i;var s;return t[2]==="interface"?s=new St(t[3],k(n,t[3],t[4])):s=new xt(t[3],C(n,t[3],t[4],t[5])),N(s,i,r),w=r,s}function Nt(e,t,n){this.name=e,this.params=t,this.body=n}function Ct(e){var t=P.exec(e),n=P.lastIndex=0;return new Nt(t[3],z(g[f(t[4])]),L(g[f(t[6])]))}function kt(e){var t=e;return t=t.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1"),t}function Lt(e,t){this.argument=e,this.misc=t}function At(e,t){this.argument=e,this.misc=t}function Ot(e,t,n){this.name=e,this.argument=t,this.misc=n}function Mt(e){this.expr=e}function _t(e){this.label=e}function Dt(e){var t=[];for(var n=0,r=e.length;n<r;++n){var i=e[n];i instanceof rt?t=t.concat(i.getNames()):i instanceof Lt&&i.argument.initStatement instanceof rt?t=t.concat(i.argument.initStatement.getNames()):(i instanceof ct||i instanceof ht||i instanceof St||i instanceof xt||i instanceof Nt||i instanceof $)&&t.push(i.name)}return u({},t)}function Pt(e){this.statements=e}function Ht(e){this.statements=e}function Bt(e){function a(e,n){var i=n.split("."),s=e.scope,o;while(s){if(s.hasOwnProperty(i[0])){o=s[i[0]];break}s=s.scope}o===r&&(o=t[i[0]]);for(var u=1,a=i.length;u<a&&o;++u)o=o.inScope[i[u]];return o}var t={},n,i;for(n in b)if(b.hasOwnProperty(n)){i=b[n];var s=i.scopeId,o=i.name;if(s){var u=b[s];i.scope=u,u.inScope===r&&(u.inScope={}),u.inScope[o]=i}else t[o]=i}for(n in b)if(b.hasOwnProperty(n)){i=b[n];var f=i.body.baseClassName;if(f){var l=a(i,f);l&&(i.base=l,l.derived||(l.derived=[]),l.derived.push(i))}var c=i.body.interfacesNames,h=[],p,d;if(c&&c.length>0){for(p=0,d=c.length;p<d;++p){var v=a(i,c[p]);h.push(v);if(!v)continue;v.derived||(v.derived=[]),v.derived.push(i)}h.length>0&&(i.interfaces=h)}}}function jt(e){function u(e,t){var r=n[e];if(!r)return!1;var i=r.indexOf(t);return i<0?!1:(r.splice(i,1),r.length>0?!1:(delete n[e],!0))}var t=[],n={},r,i,s;for(r in b)if(b.hasOwnProperty(r)){s=b[r];if(!s.inScope&&!s.derived)t.push(r),s.weight=0;else{var o=[];if(s.inScope)for(i in s.inScope)s.inScope.hasOwnProperty(i)&&o.push(s.inScope[i]);s.derived&&(o=o.concat(s.derived)),n[r]=o}}while(t.length>0){r=t.shift(),s=b[r],s.scopeId&&u(s.scopeId,s)&&(t.push(s.scopeId),b[s.scopeId].weight=s.weight+1),s.base&&u(s.base.classId,s)&&(t.push(s.base.classId),s.base.weight=s.weight+1);if(s.interfaces){var a,f;for(a=0,f=s.interfaces.length;a<f;++a){if(!s.interfaces[a]||!u(s.interfaces[a].classId,s))continue;t.push(s.interfaces[a].classId),s.interfaces[a].weight=s.weight+1}}}}var t=D(),l=e.replace(/\r\n?|\n\r/g,"\n"),c=[],h=l.replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(e,t,n,r,i,s,o,u){var a;return t||n?(a=c.length,c.push(e),"'"+a+"'"):r?(a=c.length,c.push(s),i+"'"+a+"'"):u!==""?" ":"\n"});h=h.replace(/__x([0-9A-F]{4})/g,function(e,t){return"__x005F_x"+t}),h=h.replace(/\$/g,"__x0024");var d,v=h,m=function(e,t,n,r){return!t&&!r?(d=!0,""):e};do d=!1,v=v.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,m);while(d);var g=n(v),y,b={},w,S=0,C,k,L,A,O,M,_=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,P=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,H=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,B=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,j=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,F=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;R.prototype.toString=function(){return this.name},U.prototype.getNames=function(){var e=[];for(var t=0,n=this.params.length;t<n;++t)e.push(this.params[t].name);return e},U.prototype.prependMethodArgs=function(e){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+e.substring(1):e},U.prototype.toString=function(){if(this.params.length===0)return"()";var e="(";for(var t=0,n=this.params.length;t<n;++t)e+=this.params[t]+", ";return e.substring(0,e.length-2)+")"},X.prototype.toString=function(){return"new ("+this.body+")"},$.prototype.toString=function(){var e=y,t=u({"this":null},this.params.getNames());y=function(n){return t.hasOwnProperty(n.name)?n.name:e(n)};var n="function";this.name&&(n+=" "+this.name);var r=this.params.prependMethodArgs(this.body.toString());return n+=this.params+" "+r,y=e,n},K.prototype.toString=function(){var e=y;y=function(t){return t.name==="this"?"this":e(t)};var t="";for(var n=0,r=this.members.length;n<r;++n)this.members[n].label&&(t+=this.members[n].label+": "),t+=this.members[n].value.toString()+", ";return y=e,t.substring(0,t.length-2)},Z.prototype.toString=function(){var e=this.transforms,t=Y(this.expr);return t.replace(/"!(\d+)"/g,function(t,n){return e[n].toString()})},M=function(e){var t=[],n=G(e);return n=n.replace(/"H(\d+)"/g,function(e,n){return t.push(J(g[n])),'"!'+(t.length-1)+'"'}),n=n.replace(/"F(\d+)"/g,function(e,n){return t.push(V(g[n])),'"!'+(t.length-1)+'"'}),n=n.replace(/"I(\d+)"/g,function(e,n){return t.push(Q(g[n])),'"!'+(t.length-1)+'"'}),new Z(n,t)},et.prototype.toString=function(){return this.name+" = "+this.value},rt.prototype.getNames=function(){var e=[];for(var t=0,n=this.definitions.length;t<n;++t)e.push(this.definitions[t].name);return e},rt.prototype.toString=function(){return"var "+this.definitions.join(",")},it.prototype.toString=function(){return this.expression.toString()},ot.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"},ut.prototype.toString=function(){var e=this.initStatement.toString();return e.indexOf("=")>=0&&(e=e.substring(0,e.indexOf("="))),"("+e+" in "+this.container+")"},at.iteratorId=0,at.prototype.toString=function(){var e=this.initStatement.toString(),t="$it"+at.iteratorId++,n=e.replace(/^\s*var\s*/,"").split("=")[0],r="var "+t+" = new $p.ObjectIterator("+this.container+"), "+n+" = void(0)",i=t+".hasNext() && (("+n+" = "+t+".next()) || true)";return"("+r+"; "+i+";)"},ct.prototype.toString=function(){return""+this.body},ht.prototype.toString=function(){return""+this.body},dt.prototype.toString=function(){var e=u({},this.params.getNames()),t=y;y=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(this.body.toString()),r="function "+this.methodId+this.params+" "+n+"\n";return y=t,r},mt.prototype.getNames=function(){var e=[];for(var t=0,n=this.definitions.length;t<n;++t)e.push(this.definitions[t].name);return e},mt.prototype.toString=function(){var e=y({name:"[this]"});if(this.isStatic){var t=this.owner.name,n=[];for(var r=0,i=this.definitions.length;r<i;++r){var s=this.definitions[r],o=s.name,u=t+"."+o,a="if("+u+" === void(0)) {\n"+" "+u+" = "+s.value+"; }\n"+"$p.defineProperty("+e+", "+"'"+o+"', { get: function(){return "+u+";}, "+"set: function(val){"+u+" = val;} });\n";n.push(a)}return n.join("")}return e+"."+this.definitions.join("; "+e+".")},yt.prototype.toString=function(){var e=u({},this.params.getNames()),t=y;y=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n="function $constr_"+this.params.params.length+this.params.toString(),r=this.params.prependMethodArgs(this.body.toString());return/\$(superCstr|constr)\b/.test(r)||(r="{\n$superCstr();\n"+r.substring(1)),y=t,n+r+"\n"},wt.prototype.getMembers=function(e,t,n){this.owner.base&&this.owner.base.body.getMembers(e,t,n);var r,i,s,o;for(r=0,s=this.fields.length;r<s;++r){var u=this.fields[r].getNames();for(i=0,o=u.length;i<o;++i)e[u[i]]=this.fields[r]}for(r=0,s=this.methodsNames.length;r<s;++r){var a=this.methodsNames[r];t[a]=!0}for(r=0,s=this.innerClasses.length;r<s;++r){var f=this.innerClasses[r];n[f.name]=f}},wt.prototype.toString=function(){function e(e){var t=0;while(e)++t,e=e.scope;return t}var t=e(this.owner),n=this.name,r="",i="",s={},o={},u={};this.getMembers(s,o,u);var a,f,l,c;if(this.owner.interfaces){var h=[],p;for(a=0,f=this.interfacesNames.length;a<f;++a){if(!this.owner.interfaces[a])continue;p=y({name:this.interfacesNames[a]}),h.push(p),r+="$p.extendInterfaceMembers("+n+", "+p+");\n"}i+=n+".$interfaces = ["+h.join(", ")+"];\n"}i+=n+".$isInterface = true;\n",i+=n+".$methods = ['"+this.methodsNames.join("', '")+"'];\n",lt(this.innerClasses);for(a=0,f=this.innerClasses.length;a<f;++a){var d=this.innerClasses[a];d.isStatic&&(r+=n+"."+d.name+" = "+d+";\n")}for(a=0,f=this.fields.length;a<f;++a){var v=this.fields[a];v.isStatic&&(r+=n+"."+v.definitions.join(";\n"+n+".")+";\n")}return"(function() {\nfunction "+n+"() { throw 'Unable to create the interface'; }\n"+r+i+"return "+n+";\n"+"})()"},k=function(e,t,n){var i=e.substring(1,e.length-1);i=I(i),i=q(i,t);var o=[],u=[];i=i.replace(/"([DE])(\d+)"/g,function(e,t,n){return t==="D"?o.push(n):t==="E"&&u.push(n),""});var a=i.split(/;(?:\s*;)*/g),f,l,c;n!==r&&(f=n.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));for(l=0,c=o.length;l<c;++l){var h=vt(g[o[l]]);o[l]=h.name}for(l=0,c=a.length-1;l<c;++l){var p=s(a[l]);a[l]=gt(p.middle)}var d=a.pop();for(l=0,c=u.length;l<c;++l)u[l]=pt(g[u[l]]);return new wt(t,f,o,a,u,{tail:d})},Et.prototype.getMembers=function(e,t,n){this.owner.base&&this.owner.base.body.getMembers(e,t,n);var r,i,s,o;for(r=0,s=this.fields.length;r<s;++r){var u=this.fields[r].getNames();for(i=0,o=u.length;i<o;++i)e[u[i]]=this.fields[r]}for(r=0,s=this.methods.length;r<s;++r){var a=this.methods[r];t[a.name]=a}for(r=0,s=this.innerClasses.length;r<s;++r){var f=this.innerClasses[r];n[f.name]=f}},Et.prototype.toString=function(){function e(e){var t=0;while(e)++t,e=e.scope;return t}var t=e(this.owner),n="$this_"+t,r=this.name,i="var "+n+" = this;\n",s="",u="",a={},f={},l={};this.getMembers(a,f,l);var c=y;y=function(e){var t=e.name;return t==="this"?e.callSign||!e.member?n+".$self":n:a.hasOwnProperty(t)?a[t].isStatic?r+"."+t:n+"."+t:l.hasOwnProperty(t)?n+"."+t:f.hasOwnProperty(t)?f[t].isStatic?r+"."+t:n+".$self."+t:c(e)};var h;this.baseClassName?(h=c({name:this.baseClassName}),i+="var $super = { $upcast: "+n+" };\n",i+="function $superCstr(){"+h+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n",u+=r+".$base = "+h+";\n"):i+="function $superCstr(){$p.extendClassChain("+n+")}\n",this.owner.base&&(s+="$p.extendStaticMembers("+r+", "+h+");\n");var p,d,v,m;if(this.owner.interfaces){var g=[],b;for(p=0,d=this.interfacesNames.length;p<d;++p){if(!this.owner.interfaces[p])continue;b=c({name:this.interfacesNames[p]}),g.push(b),s+="$p.extendInterfaceMembers("+r+", "+b+");\n"}u+=r+".$interfaces = ["+g.join(", ")+"];\n"}this.functions.length>0&&(i+=this.functions.join("\n")+"\n"),lt(this.innerClasses);for(p=0,d=this.innerClasses.length;p<d;++p){var w=this.innerClasses[p];w.isStatic?(s+=r+"."+w.name+" = "+w+";\n",i+=n+"."+w.name+" = "+r+"."+w.name+";\n"):i+=n+"."+w.name+" = "+w+";\n"}for(p=0,d=this.fields.length;p<d;++p){var E=this.fields[p];if(E.isStatic){s+=r+"."+E.definitions.join(";\n"+r+".")+";\n";for(v=0,m=E.definitions.length;v<m;++v){var S=E.definitions[v].name,x=r+"."+S;i+="$p.defineProperty("+n+", '"+S+"', {"+"get: function(){return "+x+"}, "+"set: function(val){"+x+" = val}});\n"}}else i+=n+"."+E.definitions.join(";\n"+n+".")+";\n"}var T={};for(p=0,d=this.methods.length;p<d;++p){var N=this.methods[p],C=T[N.name],k=N.name+"$"+N.params.params.length,L=!!N.params.methodArgsParam;C?(++C,k+="_"+C):C=1,N.methodId=k,T[N.name]=C,N.isStatic?(s+=N,s+="$p.addMethod("+r+", '"+N.name+"', "+k+", "+L+");\n",i+="$p.addMethod("+n+", '"+N.name+"', "+k+", "+L+");\n"):(i+=N,i+="$p.addMethod("+n+", '"+N.name+"', "+k+", "+L+");\n")}i+=o(this.misc.tail),this.cstrs.length>0&&(i+=this.cstrs.join("\n")+"\n"),i+="function $constr() {\n";var A=[];for(p=0,d=this.cstrs.length;p<d;++p){var O=this.cstrs[p].params.params.length,M=!!this.cstrs[p].params.methodArgsParam;A.push("if(arguments.length "+(M?">=":"===")+" "+O+") { "+"$constr_"+O+".apply("+n+", arguments); }")}return A.length>0&&(i+=A.join(" else ")+" else "),i+="$superCstr();\n}\n",i+="$constr.apply(null, arguments);\n",y=c,"(function() {\nfunction "+r+"() {\n"+i+"}\n"+s+u+"return "+r+";\n"+"})()"},C=function(e,t,n,i){var o=e.substring(1,e.length-1);o=I(o),o=q(o,t);var u=[],a=[],f=[],l=[];o=o.replace(/"([DEGH])(\d+)"/g,function(e,t,n){return t==="D"?u.push(n):t==="E"?a.push(n):t==="H"?l.push(n):f.push(n),""});var c=o.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g),h,p,d;n!==r&&(h=n.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")),i!==r&&(p=i.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));for(d=0;d<l.length;++d)l[d]=J(g[l[d]]);for(d=0;d<u.length;++d)u[d]=vt(g[u[d]]);for(d=0;d<c.length-1;++d){var v=s(c[d]);c[d]=gt(v.middle)}var m=c.pop();for(d=0;d<f.length;++d)f[d]=bt(g[f[d]]);for(d=0;d<a.length;++d)a[d]=pt(g[a[d]]);return new Et(t,h,p,l,u,c,f,a,{tail:m})},St.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n"+"$p."+this.name+" = "+this.name+";\n"},xt.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n"+"$p."+this.name+" = "+this.name+";\n"},Nt.prototype.toString=function(){var e=u({},this.params.getNames()),t=y;y=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(this.body.toString()),r="function "+this.name+this.params+" "+n+"\n"+"$p."+this.name+" = "+this.name+";";return y=t,r},Lt.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},At.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},Ot.prototype.toString=function(){var e=this.misc.prefix;return this.argument!==r&&(e+=this.argument.toString()),e},Mt.prototype.toString=function(){return"case "+this.expr+":"},_t.prototype.toString=function(){return this.label},A=function(e,t,n){var i=new RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),u=[];e=kt(e);var a=0,f,l;while((f=i.exec(e))!==null){if(f[1]!==r){var c=e.lastIndexOf('"B',i.lastIndex),h=e.substring(a,c);f[1]==="for"?u.push(new Lt(ft(g[f[2]]),{prefix:h})):f[1]==="catch"?u.push(new At(z(g[f[2]]),{prefix:h})):u.push(new Ot(f[1],M(g[f[2]]),{prefix:h}))}else if(f[3]!==r)u.push(new Ot(f[3],r,{prefix:e.substring(a,i.lastIndex)}));else if(f[4]!==r){l=e.substring(a,i.lastIndex-f[4].length);if(o(l).length!==0)continue;u.push(l);var p=f[4].charAt(1),d=f[5];p==="D"?u.push(t(g[d])):p==="E"?u.push(n(g[d])):p==="H"?u.push(J(g[d])):u.push(L(g[d]))}else if(f[6]!==r)u.push(new Mt(M(o(f[7]))));else if(f[8]!==r){l=e.substring(a,i.lastIndex-f[8].length);if(o(l).length!==0)continue;u.push(new _t(e.substring(a,i.lastIndex)))}else{var v=s(e.substring(a,i.lastIndex-1));u.push(v.left),u.push(st(v.middle)),u.push(v.right+";")}a=i.lastIndex}var m=s(e.substring(a));return u.push(m.left),m.middle!==""&&(u.push(st(m.middle)),u.push(";"+m.right)),u},Pt.prototype.toString=function(){var e=Dt(this.statements),t=y;a(e)||(y=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)});var n="{\n"+this.statements.join("")+"\n}";return y=t,n},L=function(e){var t=s(e.substring(1,e.length-1));return new Pt(A(t.middle))},Ht.prototype.toString=function(){var e=[],n=[],r;for(var i=0,s=this.statements.length;i<s;++i)r=this.statements[i],r instanceof xt||r instanceof St?e.push(r):n.push(r);lt(e);var o=Dt(this.statements);y=function(e){var n=e.name;return o.hasOwnProperty(n)?n:t.hasOwnProperty(n)||p.hasOwnProperty(n)||E.hasOwnProperty(n)?"$p."+n:n};var u="// this code was autogenerated from PJS\n(function($p) {\n"+e.join("")+"\n"+n.join("")+"\n})";return y=null,u},O=function(){var e=I(g[0]);return e=e.replace(/\bimport\s+[^;]+;/g,""),new Ht(A(e,Ct,Tt))};var Ft=O();Bt(Ft),jt(Ft);var It=Ft.toString();return It=It.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n"),It=It.replace(/__x([0-9A-F]{4})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),i(It,c)}function H(e,t){var n=(new RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g)).exec(e);if(n&&n.length===2){var r=[],i=n.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(e,t){return r.push(t),"{"+(r.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";"),s=function(e){return e.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")};for(var o=0,u=i.length;o<u;o++){var a=i[o].split("=");if(a&&a.length===2){var f=s(a[0]),l=s(a[1]),c=[];if(f==="preload"){c=l.split(",");for(var h=0,p=c.length;h<p;h++){var d=s(c[h]);t.imageCache.add(d)}}else if(f==="font"){c=l.split(",");for(var v=0,m=c.length;v<m;v++){var g=s(c[v]),y=/^\{(\d*?)\}$/.exec(g);M.preloading.add(y?JSON.parse("{"+r[y[1]]+"}"):g)}}else f==="pauseOnBlur"?t.options.pauseOnBlur=l==="true":f==="globalKeyEvents"?t.options.globalKeyEvents=l==="true":f.substring(0,6)==="param-"?t.params[f.substring(6)]=l:t.options[f]=l}}}return e}var i=function(){},s=function(){return"console"in e?function(t){e.console.log("Processing.js: "+t)}:i}(),o=function(e){var t=new XMLHttpRequest;t.open("GET",e,!1),t.overrideMimeType&&t.overrideMimeType("text/plain"),t.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),t.send(null);if(t.status!==200&&t.status!==0)throw"XMLHttpRequest failed, status code "+t.status;return t.responseText},u="document"in this&&!("fake"in this.document);t.head=t.head||t.getElementsByTagName("head")[0];if(t.documentMode>=9&&!t.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>";var f=a("Float32Array","WebGLFloatArray"),l=a("Int32Array","WebGLIntArray"),c=a("Uint16Array","WebGLUnsignedShortArray"),h=a("Uint8Array","WebGLUnsignedByteArray"),p={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:3.4028235e38,MIN_FLOAT:-3.4028235e38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:n.PI,TWO_PI:2*n.PI,HALF_PI:n.PI/2,THIRD_PI:n.PI/3,QUARTER_PI:n.PI/4,DEG_TO_RAD:n.PI/180,RAD_TO_DEG:180/n.PI,WHITESPACE:" 	\n\r\f ",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8},m=function(e){if(e.iterator instanceof Function)return e.iterator();if(!(e instanceof Array))throw"Unable to iterate: "+e;var t=-1;this.hasNext=function(){return++t<e.length},this.next=function(){return e[t]}},g=function(){function e(e){var t=0;this.hasNext=function(){return t<e.length},this.next=function(){return e[t++]},this.remove=function(){e.splice(t,1)}}function t(n){var r;n instanceof t?r=n.toArray():(r=[],typeof n=="number"&&(r.length=n>0?n:0)),this.get=function(e){return r[e]},this.contains=function(e){return this.indexOf(e)>-1},this.indexOf=function(e){for(var t=0,n=r.length;t<n;++t)if(v(e,r[t]))return t;return-1},this.lastIndexOf=function(e){for(var t=r.length-1;t>=0;--t)if(v(e,r[t]))return t;return-1},this.add=function(){if(arguments.length===1)r.push(arguments[0]);else{if(arguments.length!==2)throw"Please use the proper number of parameters.";var e=arguments[0];if(typeof e!="number")throw typeof e+" is not a number";if(!(e>=0&&e<=r.length))throw e+" is not a valid index";r.splice(e,0,arguments[1])}},this.addAll=function(e,t){var n;if(typeof e=="number"){if(e<0||e>r.length)throw"Index out of bounds for addAll: "+e+" greater or equal than "+r.length;n=new m(t);while(n.hasNext())r.splice(e++,0,n.next())}else{n=new m(e);while(n.hasNext())r.push(n.next())}},this.set=function(){if(arguments.length!==2)throw"Please use the proper number of parameters.";var e=arguments[0];if(typeof e!="number")throw typeof e+" is not a number";if(!(e>=0&&e<r.length))throw e+" is not a valid index.";r.splice(e,1,arguments[1])},this.size=function(){return r.length},this.clear=function(){r.length=0},this.remove=function(e){return typeof e=="number"?r.splice(e,1)[0]:(e=this.indexOf(e),e>-1?(r.splice(e,1),!0):!1)},this.removeAll=function(e){var n,r,i,s=new t;s.addAll(this),this.clear();for(n=0,r=0;n<s.size();n++)i=s.get(n),e.contains(i)||this.add(r++,i);return this.size()<s.size()?!0:!1},this.isEmpty=function(){return!r.length},this.clone=function(){return new t(this)},this.toArray=function(){return r.slice(0)},this.iterator=function(){return new e(r)}}return t}(),y=function(){function e(){function u(e){var t=d(e)%i.length;return t<0?i.length+t:t}function a(){if(s<=n*i.length)return;var e=[];for(var t=0;t<i.length;++t)i[t]!==r&&(e=e.concat(i[t]));var o=i.length*2;i=[],i.length=o;for(var a=0;a<e.length;++a){var f=u(e[a].key),l=i[f];l===r&&(i[f]=l=[]),l.push(e[a])}}function f(e,t){function a(){while(!o){++s;if(n>=i.length)o=!0;else{if(!(i[n]===r||s>=i[n].length))return;s=-1,++n}}}var n=0,s=-1,o=!1,u;this.hasNext=function(){return!o},this.next=function(){return u=e(i[n][s]),a(),u},this.remove=function(){u!==r&&(t(u),--s,a())},a()}function l(e,t,n){this.clear=function(){o.clear()},this.contains=function(e){return t(e)},this.containsAll=function(e){var t=e.iterator();while(t.hasNext())if(!this.contains(t.next()))return!1;return!0},this.isEmpty=function(){return o.isEmpty()},this.iterator=function(){return new f(e,n)},this.remove=function(e){return this.contains(e)?(n(e),!0):!1},this.removeAll=function(e){var t=e.iterator(),r=!1;while(t.hasNext()){var i=t.next();this.contains(i)&&(n(i),r=!0)}return!0},this.retainAll=function(e){var t=this.iterator(),r=[];while(t.hasNext()){var i=t.next();e.contains(i)||r.push(i)}for(var s=0;s<r.length;++s)n(r[s]);return r.length>0},this.size=function(){return o.size()},this.toArray=function(){var e=[],t=this.iterator();while(t.hasNext())e.push(t.next());return e}}function c(e){this._isIn=function(t){return t===o&&e.removed===r},this.equals=function(t){return v(e.key,t.getKey())},this.getKey=function(){return e.key},this.getValue=function(){return e.value},this.hashCode=function(t){return d(e.key)},this.setValue=function(t){var n=e.value;return e.value=t,n}}if(arguments.length===1&&arguments[0]instanceof e)return arguments[0].clone();var t=arguments.length>0?arguments[0]:16,n=arguments.length>1?arguments[1]:.75,i=[];i.length=t;var s=0,o=this;this.clear=function(){s=0,i=[],i.length=t},this.clone=function(){var t=new e;return t.putAll(this),t},this.containsKey=function(e){var t=u(e),n=i[t];if(n===r)return!1;for(var s=0;s<n.length;++s)if(v(n[s].key,e))return!0;return!1},this.containsValue=function(e){for(var t=0;t<i.length;++t){var n=i[t];if(n===r)continue;for(var s=0;s<n.length;++s)if(v(n[s].value,e))return!0}return!1},this.entrySet=function(){return new l(function(e){return new c(e)},function(e){return e instanceof c&&e._isIn(o)},function(e){return o.remove(e.getKey())})},this.get=function(e){var t=u(e),n=i[t];if(n===r)return null;for(var s=0;s<n.length;++s)if(v(n[s].key,e))return n[s].value;return null},this.isEmpty=function(){return s===0},this.keySet=function(){return new l(function(e){return e.key},function(e){return o.containsKey(e)},function(e){return o.remove(e)})},this.values=function(){return new l(function(e){return e.value},function(e){return o.containsValue(e)},function(e){return o.removeByValue(e)})},this.put=function(e,t){var n=u(e),o=i[n];if(o===r)return++s,i[n]=[{key:e,value:t}],a(),null;for(var f=0;f<o.length;++f)if(v(o[f].key,e)){var l=o[f].value;return o[f].value=t,l}return++s,o.push({key:e,value:t}),a(),null},this.putAll=function(e){var t=e.entrySet().iterator();while(t.hasNext()){var n=t.next();this.put(n.getKey(),n.getValue())}},this.remove=function(e){var t=u(e),n=i[t];if(n===r)return null;for(var o=0;o<n.length;++o)if(v(n[o].key,e)){--s;var a=n[o].value;return n[o].removed=!0,n.length>1?n.splice(o,1):i[t]=r,a}return null},this.removeByValue=function(e){var t,n,r,s;for(t in i)if(i.hasOwnProperty(t))for(n=0,r=i[t].length;n<r;n++){s=i[t][n];if(s.value===e)return i[t].splice(n,1),!0}return!1},this.size=function(){return s}}return e}(),b=function(){function e(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function t(e){return function(t,n){var r=t.get();return r[e](n),r}}e.dist=function(e,t){return e.dist(t)},e.dot=function(e,t){return e.dot(t)},e.cross=function(e,t){return e.cross(t)},e.angleBetween=function(e,t){return n.acos(e.dot(t)/(e.mag()*t.mag()))},e.prototype={set:function(e,t,n){arguments.length===1?this.set(e.x||e[0]||0,e.y||e[1]||0,e.z||e[2]||0):(this.x=e,this.y=t,this.z=n)},get:function(){return new e(this.x,this.y,this.z)},mag:function(){var e=this.x,t=this.y,r=this.z;return n.sqrt(e*e+t*t+r*r)},add:function(e,t,n){arguments.length===1?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=t,this.z+=n)},sub:function(e,t,n){arguments.length===1?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=t,this.z-=n)},mult:function(e){typeof e=="number"?(this.x*=e,this.y*=e,this.z*=e):(this.x*=e.x,this.y*=e.y,this.z*=e.z)},div:function(e){typeof e=="number"?(this.x/=e,this.y/=e,this.z/=e):(this.x/=e.x,this.y/=e.y,this.z/=e.z)},dist:function(e){var t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n.sqrt(t*t+r*r+i*i)},dot:function(e,t,n){return arguments.length===1?this.x*e.x+this.y*e.y+this.z*e.z:this.x*e+this.y*t+this.z*n},cross:function(t){var n=this.x,r=this.y,i=this.z;return new e(r*t.z-t.y*i,i*t.x-t.z*n,n*t.y-t.x*r)},normalize:function(){var e=this.mag();e>0&&this.div(e)},limit:function(e){this.mag()>e&&(this.normalize(),this.mult(e))},heading2D:function(){return-n.atan2(-this.y,this.x)},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};for(var r in e.prototype)e.prototype.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t(r));return e}();w.prototype=p;var E=new w;E.ArrayList=g,E.HashMap=y,E.PVector=b,E.ObjectIterator=m,E.PConstants=p,E.defineProperty=function(e,t,n){"defineProperty"in Object?Object.defineProperty(e,t,n):(n.hasOwnProperty("get")&&e.__defineGetter__(t,n.get),n.hasOwnProperty("set")&&e.__defineSetter__(t,n.set))},E.extendClassChain=function(e){var t=[e];for(var n=e.$upcast;n;n=n.$upcast)x(n,e),t.push(n),e=n;while(t.length>0)t.pop().$self=e},E.extendStaticMembers=function(e,t){x(e,t)},E.extendInterfaceMembers=function(e,t){x(e,t)},E.addMethod=function(e,t,n,r){var i=e[t];if(i||r){var s=n.length;if("$overloads"in i)i.$overloads[s]=n;else{var o=function(){var e=o.$overloads[arguments.length]||("$methodArgsIndex"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload;return e.apply(this,arguments)},u=[];i&&(u[i.length]=i),u[s]=n,o.$overloads=u,o.$defaultOverload=i||n,r&&(o.$methodArgsIndex=s),o.name=t,e[t]=o}}else e[t]=n},E.createJavaArray=function(e,t){var n=null,r=null;typeof e=="string"&&(e==="boolean"?r=!1:T(e)&&(r=0));if(typeof t[0]=="number"){var i=0|t[0];if(t.length<=1){n=[],n.length=i;for(var s=0;s<i;++s)n[s]=r}else{n=[];var o=t.slice(1);for(var u=0;u<i;++u)n.push(E.createJavaArray(e,o))}}return n};var N={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};(function(e){function s(e){return function(){throw"Processing.js does not support "+e+"."}}var t="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),n=t.length,r,i;while(n--)r=t[n],i=r.replace("()",""),e[i]=s(r)})(E),E.defineProperty(E,"screenWidth",{get:function(){return e.innerWidth}}),E.defineProperty(E,"screenHeight",{get:function(){return e.innerHeight}}),E.defineProperty(E,"online",{get:function(){return!0}});var C=[],k={},L=function(e){C.splice(k[e],1),delete k[e]},A=function(e){if(e.externals.canvas.id===r||!e.externals.canvas.id.length)e.externals.canvas.id="__processing"+C.length;k[e.externals.canvas.id]=C.length,C.push(e)};M.prototype.caching=!0,M.prototype.getCSSDefinition=function(e,t){e===r&&(e=this.size+"px"),t===r&&(t=this.leading+"px");var n=[this.style,"normal",this.weight,e+"/"+t,this.family];return n.join(" ")},M.prototype.measureTextWidth=function(e){return this.context2d.measureText(e).width},M.prototype.measureTextWidthFallback=function(e){var n=t.createElement("canvas"),r=n.getContext("2d");return r.font=this.css,r.measureText(e).width},M.PFontCache={length:0},M.get=function(e,t){t=(t*10+.5|0)/10;var n=M.PFontCache,r=e+"/"+t;if(!n[r]){n[r]=new M(e,t),n.length++;if(n.length===50){M.prototype.measureTextWidth=M.prototype.measureTextWidthFallback,M.prototype.caching=!1;var i;for(i in n)i!=="length"&&(n[i].context2d=null);return new M(e,t)}if(n.length===400)return M.PFontCache={},M.get=M.getFallback,new M(e,t)}return n[r]},M.getFallback=function(e,t){return new M(e,t)},M.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]},M.preloading={template:{},initialized:!1,initialize:function(){var e=function(){var e="#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#",t=function(e){return"AAAAAAAA".substr(~~e?7-e:6)};return e.replace(/[#237]/g,t)},n=t.createElement("style");n.setAttribute("type","text/css"),n.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+e()+"')\n"+"       format('truetype');\n"+"}",t.head.appendChild(n);var r=t.createElement("span");r.style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;',r.innerHTML="AAAAAAAA",t.body.appendChild(r),this.template=r,this.initialized=!0},getElementWidth:function(e){return t.defaultView.getComputedStyle(e,"").getPropertyValue("width")},timeAttempted:0,pending:function(e){this.initialized||this.initialize();var n,r,i=this.getElementWidth(this.template);for(var s=0;s<this.fontList.length;s++){n=this.fontList[s],r=this.getElementWidth(n);if(this.timeAttempted<4e3&&r===i)return this.timeAttempted+=e,!0;t.body.removeChild(n),this.fontList.splice(s--,1),this.timeAttempted=0}return this.fontList.length===0?!1:!0},fontList:[],addedList:{},add:function(e){this.initialized||this.initialize();var n=typeof e=="object"?e.fontFace:e,r=typeof e=="object"?e.url:e;if(this.addedList[n])return;var i=t.createElement("style");i.setAttribute("type","text/css"),i.innerHTML="@font-face{\n  font-family: '"+n+"';\n  src:  url('"+r+"');\n}\n",t.head.appendChild(i),this.addedList[n]=!0;var s=t.createElement("span");s.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;",s.style.fontFamily='"'+n+'", "PjsEmptyFont", fantasy',s.innerHTML="AAAAAAAA",t.body.appendChild(s),this.fontList.push(s)}},E.PFont=M;var _=this.Processing=function(s,u){function m(e){_.debug("Unimplemented - "+e)}function pr(e,t,n,i){var s=Lt.locations[e];s===r&&(s=y.getUniformLocation(t,n),Lt.locations[e]=s),s!==null&&(i.length===4?y.uniform4fv(s,i):i.length===3?y.uniform3fv(s,i):i.length===2?y.uniform2fv(s,i):y.uniform1f(s,i))}function dr(e,t,n,i){var s=Lt.locations[e];s===r&&(s=y.getUniformLocation(t,n),Lt.locations[e]=s),s!==null&&(i.length===4?y.uniform4iv(s,i):i.length===3?y.uniform3iv(s,i):i.length===2?y.uniform2iv(s,i):y.uniform1i(s,i))}function vr(e,t,n,i,s){var o=Lt.locations[e];o===r&&(o=y.getUniformLocation(t,n),Lt.locations[e]=o),o!==-1&&(s.length===16?y.uniformMatrix4fv(o,i,s):s.length===9?y.uniformMatrix3fv(o,i,s):y.uniformMatrix2fv(o,i,s))}function mr(e,t,n,i,s){var o=Lt.attributes[e];o===r&&(o=y.getAttribLocation(t,n),Lt.attributes[e]=o),o!==-1&&(y.bindBuffer(y.ARRAY_BUFFER,s),y.vertexAttribPointer(o,i,y.FLOAT,!1,0,0),y.enableVertexAttribArray(o))}function gr(e,t,n){var i=Lt.attributes[e];i===r&&(i=y.getAttribLocation(t,n),Lt.attributes[e]=i),i!==-1&&y.disableVertexAttribArray(i)}function Fr(e,t,r,i){var s,o,u,a;if(dt===3){var f=g.color.toRGB(e,t,r);s=f[0],o=f[1],u=f[2]}else s=n.round(255*(e/ut)),o=n.round(255*(t/at)),u=n.round(255*(r/ft));return a=n.round(255*(i/ot)),s=s<0?0:s,o=o<0?0:o,u=u<0?0:u,a=a<0?0:a,s=s>255?255:s,o=o>255?255:o,u=u>255?255:u,a=a>255?255:a,a<<24&4278190080|s<<16&16711680|o<<8&65280|u&255}function Ir(e,t){var r;if(e&4278190080)return r=n.round(255*(t/ot)),r=r>255?255:r,r=r<0?0:r,e-(e&4278190080)+(r<<24&4278190080);if(dt===1)return Fr(e,e,e,t);if(dt===3)return Fr(0,0,e/ut*ft,t)}function qr(e){if(e<=ut&&e>=0){if(dt===1)return Fr(e,e,e,ot);if(dt===3)return Fr(0,0,e/ut*ft,ot)}if(e)return e>2147483647&&(e-=4294967296),e}function Rr(e){var t,n,r;t=(e>>16&255)/255,n=(e>>8&255)/255,r=(e&255)/255;var i=g.max(g.max(t,n),r),s=g.min(g.min(t,n),r),o,u;return s===i?[0,0,i*ft]:(u=(i-s)/i,t===i?o=(n-r)/(i-s):n===i?o=2+(r-t)/(i-s):o=4+(t-n)/(i-s),o/=6,o<0?o+=1:o>1&&(o-=1),[o*ut,u*at,i*ft])}function Ur(){y.save()}function zr(){y.restore(),B=!0,O=!0}function Wr(){var e=(Date.now()-bt)/1e3;wt++;var t=wt/e;e>.5&&(bt=Date.now(),wt=0,g.__frameRate=t),g.frameCount++}function Vr(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n),Xr.push({elem:e,type:t,fn:n})}function $r(e){var t=e.elem,n=e.type,r=e.fn;t.removeEventListener?t.removeEventListener(n,r,!1):t.detachEvent&&t.detachEvent("on"+n,r)}function Jr(e,t,i,s,o,u){var a=e<0?i:t,f=o===0,l=o===r||o<0?0:o,c=n.abs(e);if(f){l=1,c*=10;while(n.abs(n.round(c)-c)>1e-6&&l<7)++l,c*=10}else l!==0&&(c*=n.pow(10,l));var h,p=c*2;if(n.floor(c)===c)h=c;else if(n.floor(p)===p){var d=n.floor(c);h=d+d%2}else h=n.round(c);var v="",m=s+l;while(m>0||h>0)m--,v=""+h%10+v,h=n.floor(h/10);if(u!==r){var g=v.length-3-l;while(g>0)v=v.substring(0,g)+u+v.substring(g),g-=3}return l>0?a+v.substring(0,v.length-l)+"."+v.substring(v.length-l,v.length):a+v}function Kr(e,t,n,r,i,s){if(e instanceof Array){var o=[];for(var u=0,a=e.length;u<a;u++)o.push(Jr(e[u],t,n,r,i,s));return o}return Jr(e,t,n,r,i,s)}function Gr(e){var t=parseInt("0x"+e,16);return t>2147483647&&(t-=4294967296),t}function Yr(e){return Array.prototype.slice.call(e,1)}function ei(e){if(typeof e=="number")return e!==0;if(typeof e=="boolean")return e;if(typeof e=="string")return e.toLowerCase()==="true";if(e instanceof Lr)return e.code===49||e.code===84||e.code===116}function ti(e){if(typeof e=="number")return e;if(typeof e=="boolean")return e?1:0;if(typeof e=="string")return parseFloat(e);if(e instanceof Lr)return e.code}function ni(e,t){if(typeof e=="number")return e&4294967295;if(typeof e=="boolean")return e?1:0;if(typeof e=="string"){var n=parseInt(e,t||10);return n&4294967295}if(e instanceof Lr)return e.code}function ii(e,t){var n=e||362436069,r=t||521288629,i=function(){return n=36969*(n&65535)+(n>>>16)&4294967295,r=18e3*(r&65535)+(r>>>16)&4294967295,((n&65535)<<16|r&65535)&4294967295};this.nextDouble=function(){var e=i()/4294967296;return e<0?1+e:e},this.nextInt=i}function si(e){function a(e,t,n,r){var i=e&15,s=i<8?t:n,o=i<4?n:i===12||i===14?t:r;return((i&1)===0?s:-s)+((i&2)===0?o:-o)}function f(e,t,n){var r=(e&1)===0?t:n;return(e&2)===0?-r:r}function l(e,t){return(e&1)===0?-t:t}function c(e,t,n){return t+e*(n-t)}var t=e!==r?new ii(e):ii.createRandomized(),i,s,o=new h(512);for(i=0;i<256;++i)o[i]=i;for(i=0;i<256;++i){var u=o[s=t.nextInt()&255];o[s]=o[i],o[i]=u}for(i=0;i<256;++i)o[i+256]=o[i];this.noise3d=function(e,t,r){var i=n.floor(e)&255,s=n.floor(t)&255,u=n.floor(r)&255;e-=n.floor(e),t-=n.floor(t),r-=n.floor(r);var f=(3-2*e)*e*e,l=(3-2*t)*t*t,h=(3-2*r)*r*r,p=o[i]+s,d=o[p]+u,v=o[p+1]+u,m=o[i+1]+s,g=o[m]+u,y=o[m+1]+u;return c(h,c(l,c(f,a(o[d],e,t,r),a(o[g],e-1,t,r)),c(f,a(o[v],e,t-1,r),a(o[y],e-1,t-1,r))),c(l,c(f,a(o[d+1],e,t,r-1),a(o[g+1],e-1,t,r-1)),c(f,a(o[v+1],e,t-1,r-1),a(o[y+1],e-1,t-1,r-1))))},this.noise2d=function(e,t){var r=n.floor(e)&255,i=n.floor(t)&255;e-=n.floor(e),t-=n.floor(t);var s=(3-2*e)*e*e,u=(3-2*t)*t*t,a=o[r]+i,l=o[r+1]+i;return c(u,c(s,f(o[a],e,t),f(o[l],e-1,t)),c(s,f(o[a+1],e,t-1),f(o[l+1],e-1,t-1)))},this.noise1d=function(e){var t=n.floor(e)&255;e-=n.floor(e);var r=(3-2*e)*e*e;return c(r,l(o[t],e),l(o[t+1],e-1))}}function ai(){T&&(O&&(y.fillStyle=g.color.toString(k),O=!1),y.fill())}function fi(){D&&(B&&(y.strokeStyle=g.color.toString(H),B=!1),y.stroke())}function pi(){ai(),fi(),y.closePath()}function Ei(e,n,i){var s=wi.shift();s===r&&(s={},s.canvas=t.createElement("canvas"),s.context=s.canvas.getContext("2d")),wi.push(s);var o=s.canvas,u=s.context,a=n||e.width,f=i||e.height;return o.width=a,o.height=f,e?"data"in e?u.putImageData(e,0,0):(u.clearRect(0,0,a,f),u.drawImage(e,0,0,a,f)):u.clearRect(0,0,a,f),s}function Si(e){return{getLength:function(e){return function(){if(e.isRemote)throw"Image is loaded remotely. Cannot get length.";return e.imageData.data.length?e.imageData.data.length/4:0}}(e),getPixel:function(e){return function(t){var n=t*4,r=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";return(r[n+3]&255)<<24|(r[n]&255)<<16|(r[n+1]&255)<<8|r[n+2]&255}}(e),setPixel:function(e){return function(t,n){var r=t*4,i=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot set pixel.";i[r+0]=n>>16&255,i[r+1]=n>>8&255,i[r+2]=n&255,i[r+3]=n>>24&255,e.__isDirty=!0}}(e),toArray:function(e){return function(){var t=[],n=e.imageData.data,r=e.width*e.height;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";for(var i=0,s=0;i<r;i++,s+=4)t.push((n[s+3]&255)<<24|(n[s]&255)<<16|(n[s+1]&255)<<8|n[s+2]&255);return t}}(e),set:function(e){return function(t){var n,r,i;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";r=e.imageData.data;for(var s=0,o=t.length;s<o;s++)i=t[s],n=s*4,r[n+0]=i>>16&255,r[n+1]=i>>8&255,r[n+2]=i&255,r[n+3]=i>>24&255;e.__isDirty=!0}}(e)}}function Ti(e,t){var n;if(e>=g.width||e<0||t<0||t>=g.height)return 0;if(ln){var r=((0|e)+g.width*(0|t))*4;return n=g.imageData.data,(n[r+3]&255)<<24|(n[r]&255)<<16|(n[r+1]&255)<<8|n[r+2]&255}return n=g.toImageData(0|e,0|t,1,1).data,(n[3]&255)<<24|(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255}function Ni(e,t,n){if(n.isRemote)throw"Image is loaded remotely. Cannot get x,y.";var r=t*n.width*4+e*4,i=n.imageData.data;return(i[r+3]&255)<<24|(i[r]&255)<<16|(i[r+1]&255)<<8|i[r+2]&255}function Ci(e,t,n,r){var i=new xi(n,r,2);return i.fromImageData(g.toImageData(e,t,n,r)),i}function ki(e,t,r,i,s){if(s.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";var o=new xi(r,i,2),u=o.imageData.data,a=s.width,f=s.height,l=s.imageData.data,c=n.max(0,-t),h=n.max(0,-e),p=n.min(i,f-t),d=n.min(r,a-e);for(var v=c;v<p;++v){var m=((t+v)*a+(e+h))*4,g=(v*r+h)*4;for(var y=h;y<d;++y)u[g++]=l[m++],u[g++]=l[m++],u[g++]=l[m++],u[g++]=l[m++]}return o.__isDirty=!0,o}function Li(){ln&&(y=an,ln=!1,g.updatePixels())}function Ai(){function e(e,t){function n(){Li(),y[t].apply(y,arguments)}e[t]=n}function t(e,t){function n(){return Li(),y[t]}function r(e){Li(),y[t]=e}g.defineProperty(e,t,{get:n,set:r})}for(var n in y)typeof y[n]=="function"?e(this,n):t(this,n)}function Oi(){if(ln)return;g.loadPixels(),fn===null&&(an=y,fn=new Ai),ln=!0,y=fn,cn=0}function Mi(e,t,n){e<g.width&&e>=0&&t>=0&&t<g.height&&(Oi(),g.pixels.setPixel((0|e)+g.width*(0|t),n),++cn>hn&&Li())}function _i(e,t,n,r){if(r.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var i=g.color.toArray(n),s=t*r.width*4+e*4,o=r.imageData.data;o[s]=i[0],o[s+1]=i[1],o[s+2]=i[2],o[s+3]=i[3]}function Fi(e){return e instanceof String?e:typeof e=="number"?e===(0|e)?e.toString():g.nf(e,0,3):e===null||e===r?"":e.toString()}function Ii(e,t,n,r){var i,s;e.indexOf("\n")<0?(i=[e],s=1):(i=e.split(/\r?\n/g),s=i.length);var o=0;Zt===101?o=rn+sn:Zt===3?o=rn/2-(s-1)*on/2:Zt===102&&(o=-(sn+(s-1)*on));for(var u=0;u<s;++u){var a=i[u];S.text$line(a,t,n+o,r,Yt),o+=on}}function qi(e,t,r,i,s,o){if(e.length===0||i===0||s===0)return;if(nn>s)return;var u=-1,a=0,f=0,l=[];for(var c=0,h=e.length;c<h;c++){var p=e[c],d=p===" ",v=un.measureTextWidth(p);if(p!=="\n"&&f+v<=i)d&&(u=c),f+=v;else{if(u+1===a){if(!(c>0))return;u=c}p==="\n"?(l.push({text:e.substring(a,c),width:f}),a=c+1):(l.push({text:e.substring(a,u+1),width:f}),a=u+1),f=0,c=a-1}}a<h&&l.push({text:e.substring(a),width:f});var m=1,g=rn;Yt===3?m=i/2:Yt===39&&(m=i);var y=l.length,b=n.min(y,n.floor(s/on));Zt===101?g=rn+sn:Zt===3?g=s/2-on*(b/2-1):Zt===102&&(g=sn+on);var w,E,x;for(w=0;w<y;w++){x=w*on;if(g+x>s-sn)break;E=l[w],S.text$line(E.text,t+m,r+g+x,o,Yt)}}function Ri(e){e==="3D"?S=new Nr:e==="2D"?S=new Tr:S=new Cr;for(var t in Cr.prototype)Cr.prototype.hasOwnProperty(t)&&t.indexOf("$")<0&&(g[t]=S[t]);S.$init()}function Ui(e){return function(){return Ri("2D"),S[e].apply(this,arguments)}}function zi(t,n){var r=t,i=0,s=0;g.pmouseX=g.mouseX,g.pmouseY=g.mouseY;if(r.offsetParent)do i+=r.offsetLeft,s+=r.offsetTop;while(!!(r=r.offsetParent));r=t;do i-=r.scrollLeft||0,s-=r.scrollTop||0;while(!!(r=r.parentNode));return i+=mn,s+=gn,i+=yn,s+=bn,i+=e.pageXOffset,s+=e.pageYOffset,{X:i,Y:s}}function Wi(e,t){var n=zi(e,t);g.mouseX=t.pageX-n.X,g.mouseY=t.pageY-n.Y}function Xi(e){var t=zi(e.changedTouches[0].target,e.changedTouches[0]),n;for(n=0;n<e.touches.length;n++){var r=e.touches[n];r.offsetX=r.pageX-t.X,r.offsetY=r.pageY-t.Y}for(n=0;n<e.targetTouches.length;n++){var i=e.targetTouches[n];i.offsetX=i.pageX-t.X,i.offsetY=i.pageY-t.Y}for(n=0;n<e.changedTouches.length;n++){var s=e.changedTouches[n];s.offsetX=s.pageX-t.X,s.offsetY=s.pageY-t.Y}return e}function $i(e){var t=e.which||e.keyCode;switch(t){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return t}function Ji(e){var t=e.which||e.keyCode,n=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;switch(t){case 13:t=n?13:10;break;case 8:t=n?127:8}return new Lr(t)}function Ki(e){return typeof e.preventDefault=="function"?e.preventDefault():typeof e.stopPropagation=="function"&&e.stopPropagation(),!1}function Qi(){var e;for(e in pn)if(pn.hasOwnProperty(e)){g.__keyPressed=!0;return}g.__keyPressed=!1}function Gi(){g.__keyPressed=!1,pn=[],dn=null}function Yi(e,t){pn[e]=t,dn=null,g.key=t,g.keyCode=e,g.keyPressed(),g.keyCode=0,g.keyTyped(),Qi()}function Zi(e){var t=$i(e);if(t===127){Yi(t,new Lr(127));return}if(vn.indexOf(t)<0){dn=t;return}var n=new Lr(65535);return g.key=n,g.keyCode=t,pn[t]=n,g.keyPressed(),dn=null,Qi(),Ki(e)}function es(e){if(dn===null)return;var t=dn,n=Ji(e);return Yi(t,n),Ki(e)}function ts(e){var t=$i(e),n=pn[t];if(n===r)return;g.key=n,g.keyCode=t,g.keyReleased(),delete pn[t],Qi()}if(!(this instanceof _))throw"called Processing constructor as if it were a function: missing 'new'.";var a,v=s===r&&u===r;v?a=t.createElement("canvas"):a=typeof s=="string"?t.getElementById(s):s;if(!(a instanceof HTMLCanvasElement))throw"called Processing constructor without passing canvas element reference or id.";var g=this;g.externals={canvas:a,context:r,sketch:r},g.name="Processing.js Instance",g.use3DContext=!1,g.focused=!1,g.breakShape=!1,g.glyphTable={},g.pmouseX=0,g.pmouseY=0,g.mouseX=0,g.mouseY=0,g.mouseButton=0,g.mouseScroll=0,g.mouseClicked=r,g.mouseDragged=r,g.mouseMoved=r,g.mousePressed=r,g.mouseReleased=r,g.mouseScrolled=r,g.mouseOver=r,g.mouseOut=r,g.touchStart=r,g.touchEnd=r,g.touchMove=r,g.touchCancel=r,g.key=r,g.keyCode=r,g.keyPressed=i,g.keyReleased=i,g.keyTyped=i,g.draw=r,g.setup=r,g.__mousePressed=!1,g.__keyPressed=!1,g.__frameRate=60,g.frameCount=0,g.width=100,g.height=100;var y,w,S,x=!0,T=!0,C=[1,1,1,1],k=4294967295,O=!0,D=!0,P=[0,0,0,1],H=4278190080,B=!0,j=1,F=!1,I=!1,q=!0,R=0,U=0,z=3,W=0,X=0,V=0,$=0,J=60,K=1e3/J,Q="default",G=a.style.cursor,Y=20,Z=0,et=[],tt=0,nt=20,rt=!1,it=-3355444,st=20,ot=255,ut=255,at=255,ft=255,lt=!1,ct=!1,ht=0,pt=0,dt=1,vt=null,mt=null,gt=!1,yt=Date.now(),bt=yt,wt=0,Et,St,xt,Tt,Nt,Ct,kt,Lt={attributes:{},locations:{}},At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt={width:0,height:0},$t=2,Jt=!1,Kt,Qt,Gt,Yt=37,Zt=0,en=4,tn="Arial",nn=12,rn=9,sn=2,on=14,un=M.get(tn,nn),an,fn=null,ln=!1,cn,hn=1e3,pn=[],dn=null,vn=[16,17,18,20,33,34,35,36,37,38,39,40,144,155,112,113,114,115,116,117,118,119,120,121,122,123,157],mn,gn,yn,bn;t.defaultView&&t.defaultView.getComputedStyle&&(mn=parseInt(t.defaultView.getComputedStyle(a,null).paddingLeft,10)||0,gn=parseInt(t.defaultView.getComputedStyle(a,null).paddingTop,10)||0,yn=parseInt(t.defaultView.getComputedStyle(a,null).borderLeftWidth,10)||0,bn=parseInt(t.defaultView.getComputedStyle(a,null).borderTopWidth,10)||0);var wn=0,En=0,Sn=0,xn=[],Tn=[],Nn=[],Cn=new f(720),kn=new f(720),Ln,An,On,Mn,_n,Dn,Pn,Hn,Bn,jn,Fn=!1,In=!1,qn=60*(n.PI/180),Rn=g.width/2,Un=g.height/2,zn=Un/n.tan(qn/2),Wn=zn/10,Xn=zn*10,Vn=g.width/g.height,$n=[],Jn=[],Kn=0,Qn=!1,Gn=!1,Yn=!0,Zn=0,er=[],tr=new f([.5,.5,-0.5,.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,.5,-0.5,.5,.5,-0.5,.5,.5,.5,-0.5,.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,.5,-0.5,.5,.5,.5,.5,.5,.5,-0.5,.5,.5,.5,.5,-0.5,.5,.5,-0.5,.5,.5,-0.5,-0.5,.5,.5,-0.5,.5,-0.5,-0.5,.5,-0.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,-0.5,-0.5,-0.5,.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,.5,-0.5,.5,.5,-0.5,.5,.5,-0.5,.5,-0.5,-0.5,-0.5,-0.5,.5,.5,.5,.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,.5,.5,.5,.5]),nr=new f([.5,.5,.5,.5,-0.5,.5,.5,.5,-0.5,.5,-0.5,-0.5,-0.5,.5,-0.5,-0.5,-0.5,-0.5,-0.5,.5,.5,-0.5,-0.5,.5,.5,.5,.5,.5,.5,-0.5,.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,.5,-0.5,.5,.5,.5,.5,.5,.5,-0.5,.5,.5,-0.5,-0.5,.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,.5,-0.5,-0.5,.5,.5,-0.5,.5]),rr=new f([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),ir=new f([0,0,0,0,1,0,1,1,0,1,0,0]),sr=new f([0,0,1,0,0,1,0,0,1,0,0,1]),or="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}",ur="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}",ar="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}",fr="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}",lr=/Windows/.test(navigator.userAgent),cr="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(lr?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );"+"  vec3 halfVector = normalize( VP - normalize(ecPos) );"+"  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );"+"  if( nDotVP != 0.0 ) {"+"    powerFactor = pow( nDotHV, uShininess );"+"  }"+"  spec += uSpecular * powerFactor * attenuation;"+"  col += light.color * nDotVP * attenuation;"+"}"+"void main(void) {"+"  vec3 finalAmbient = vec3( 0.0 );"+"  vec3 finalDiffuse = vec3( 0.0 );"+"  vec3 finalSpecular = vec3( 0.0 );"+"  vec4 col = uColor;"+"  if ( uColor[0] == -1.0 ){"+"    col = aColor;"+"  }"+"  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));"+"  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);"+"  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;"+"  if( uLightCount == 0 ) {"+"    vFrontColor = col + vec4(uMaterialSpecular, 1.0);"+"  }"+"  else {"+"    for( int i = 0; i < 8; i++ ) {"+"      Light l = getLight(i);"+"      if( i >= uLightCount ){"+"        break;"+"      }"+"      if( l.type == 0 ) {"+"        AmbientLight( finalAmbient, ecPos, l );"+"      }"+"      else if( l.type == 1 ) {"+"        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"      else if( l.type == 2 ) {"+"        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"      else {"+"        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"    }"+"   if( uUsingMat == false ) {"+"     vFrontColor = vec4("+"       vec3( col ) * finalAmbient +"+"       vec3( col ) * finalDiffuse +"+"       vec3( col ) * finalSpecular,"+"       col[3] );"+"   }"+"   else{"+"     vFrontColor = vec4( "+"       uMaterialEmissive + "+"       (vec3(col) * uMaterialAmbient * finalAmbient ) + "+"       (vec3(col) * finalDiffuse) + "+"       (uMaterialSpecular * finalSpecular), "+"       col[3] );"+"    }"+"  }"+"  vTexture.xy = aTexture.xy;"+"  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );"+"}",hr="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}",yr=function(e,t,n){var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r);if(!e.getShaderParameter(r,e.COMPILE_STATUS))throw e.getShaderInfoLog(r);var i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,n),e.compileShader(i);if(!e.getShaderParameter(i,e.COMPILE_STATUS))throw e.getShaderInfoLog(i);var s=e.createProgram();e.attachShader(s,r),e.attachShader(s,i),e.linkProgram(s);if(!e.getProgramParameter(s,e.LINK_STATUS))throw"Error linking shaders.";return s},br=function(e,t,n,r,i){return{x:e,y:t,w:n,h:r}},wr=br,Er=function(e,t,n,r,i){return{x:e,y:t,w:i?n:n-e,h:i?r:r-t}},Sr=function(e,t,n,r,i){return{x:e-n/2,y:t-r/2,w:n,h:r}},xr=function(){},Tr=function(){},Nr=function(){},Cr=function(){};Tr.prototype=new xr,Tr.prototype.constructor=Tr,Nr.prototype=new xr,Nr.prototype.constructor=Nr,Cr.prototype=new xr,Cr.prototype.constructor=Cr,xr.prototype.a3DOnlyFunction=i;var kr={},Lr=g.Character=function(e){return typeof e=="string"&&e.length===1?this.code=e.charCodeAt(0):typeof e=="number"?this.code=e:e instanceof Lr?this.code=e:this.code=NaN,kr[this.code]===r?kr[this.code]=this:kr[this.code]};Lr.prototype.toString=function(){return String.fromCharCode(this.code)},Lr.prototype.valueOf=function(){return this.code};var Ar=g.PShape=function(e){this.family=e||0,this.visible=!0,this.style=!0,this.children=[],this.nameTable=[],this.params=[],this.name="",this.image=null,this.matrix=null,this.kind=null,this.close=null,this.width=null,this.height=null,this.parent=null};Ar.prototype={isVisible:function(){return this.visible},setVisible:function(e){this.visible=e},disableStyle:function(){this.style=!1;for(var e=0,t=this.children.length;e<t;e++)this.children[e].disableStyle()},enableStyle:function(){this.style=!0;for(var e=0,t=this.children.length;e<t;e++)this.children[e].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(e){this.name=e},getName:function(){return this.name},draw:function(e){e=e||g,this.visible&&(this.pre(e),this.drawImpl(e),this.post(e))},drawImpl:function(e){this.family===0?this.drawGroup(e):this.family===1?this.drawPrimitive(e):this.family===3?this.drawGeometry(e):this.family===21&&this.drawPath(e)},drawPath:function(e){var t,n;if(this.vertices.length===0)return;e.beginShape();if(this.vertexCodes.length===0)if(this.vertices[0].length===2)for(t=0,n=this.vertices.length;t<n;t++)e.vertex(this.vertices[t][0],this.vertices[t][1]);else for(t=0,n=this.vertices.length;t<n;t++)e.vertex(this.vertices[t][0],this.vertices[t][1],this.vertices[t][2]);else{var r=0;if(this.vertices[0].length===2)for(t=0,n=this.vertexCodes.length;t<n;t++)this.vertexCodes[t]===0?(e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r].moveTo),e.breakShape=!1,r++):this.vertexCodes[t]===1?(e.bezierVertex(this.vertices[r+0][0],this.vertices[r+0][1],this.vertices[r+1][0],this.vertices[r+1][1],this.vertices[r+2][0],this.vertices[r+2][1]),r+=3):this.vertexCodes[t]===2?(e.curveVertex(this.vertices[r][0],this.vertices[r][1]),r++):this.vertexCodes[t]===3&&(e.breakShape=!0);else for(t=0,n=this.vertexCodes.length;t<n;t++)this.vertexCodes[t]===0?(e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]),this.vertices[r].moveTo===!0?$n[$n.length-1].moveTo=!0:this.vertices[r].moveTo===!1&&($n[$n.length-1].moveTo=!1),e.breakShape=!1):this.vertexCodes[t]===1?(e.bezierVertex(this.vertices[r+0][0],this.vertices[r+0][1],this.vertices[r+0][2],this.vertices[r+1][0],this.vertices[r+1][1],this.vertices[r+1][2],this.vertices[r+2][0],this.vertices[r+2][1],this.vertices[r+2][2]),r+=3):this.vertexCodes[t]===2?(e.curveVertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]),r++):this.vertexCodes[t]===3&&(e.breakShape=!0)}e.endShape(this.close?2:1)},drawGeometry:function(e){var t,n;e.beginShape(this.kind);if(this.style)for(t=0,n=this.vertices.length;t<n;t++)e.vertex(this.vertices[t]);else for(t=0,n=this.vertices.length;t<n;t++){var r=this.vertices[t];r[2]===0?e.vertex(r[0],r[1]):e.vertex(r[0],r[1],r[2])}e.endShape()},drawGroup:function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t].draw(e)},drawPrimitive:function(e){if(this.kind===2)e.point(this.params[0],this.params[1]);else if(this.kind===4)this.params.length===4?e.line(this.params[0],this.params[1],this.params[2],this.params[3]):e.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===8)e.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===16)e.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===30)if(this.image!==null){var t=wr;e.imageMode(0),e.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]),wr=t}else{var n=U;e.rectMode(0),e.rect(this.params[0],this.params[1],this.params[2],this.params[3]),U=n}else if(this.kind===31){var r=z;e.ellipseMode(0),e.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),z=r}else if(this.kind===32){var i=z;e.ellipseMode(0),e.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),z=i}else this.kind===41?this.params.length===1?e.box(this.params[0]):e.box(this.params[0],this.params[1],this.params[2]):this.kind===40&&e.sphere(this.params[0])},pre:function(e){this.matrix&&(e.pushMatrix(),e.transform(this.matrix)),this.style&&(e.pushStyle(),this.styles(e))},post:function(e){this.matrix&&e.popMatrix(),this.style&&e.popStyle()},styles:function(e){this.stroke?(e.stroke(this.strokeColor),e.strokeWeight(this.strokeWeight),e.strokeCap(this.strokeCap),e.strokeJoin(this.strokeJoin)):e.noStroke(),this.fill?e.fill(this.fillColor):e.noFill()},getChild:function(e){var t,n;if(typeof e=="number")return this.children[e];var r;if(e===""||this.name===e)return this;if(this.nameTable.length>0){for(t=0,n=this.nameTable.length;t<n||r;t++)if(this.nameTable[t].getName===e){r=this.nameTable[t];break}if(r)return r}for(t=0,n=this.children.length;t<n;t++){r=this.children[t].getChild(e);if(r)return r}return null},getChildCount:function(){return this.children.length},addChild:function(e){this.children.push(e),e.parent=this,e.getName()!==null&&this.addName(e.getName(),e)},addName:function(e,t){this.parent!==null?this.parent.addName(e,t):this.nameTable.push([e,t])},translate:function(){arguments.length===2?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(e){this.matrix===null?e===2?this.matrix=new g.PMatrix2D:this.matrix=new g.PMatrix3D:e===3&&this.matrix instanceof g.PMatrix2D&&(this.matrix=new g.PMatrix3D)},rotateX:function(e){this.rotate(e,1,0,0)},rotateY:function(e){this.rotate(e,0,1,0)},rotateZ:function(e){this.rotate(e,0,0,1)},rotate:function(){arguments.length===1?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){arguments.length===2?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):arguments.length===3?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2),this.matrix.reset()},applyMatrix:function(e){arguments.length===1?this.applyMatrix(e.elements[0],e.elements[1],0,e.elements[2],e.elements[3],e.elements[4],0,e.elements[5],0,0,1,0,0,0,0,1):arguments.length===6?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):arguments.length===16&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}};var Or=g.PShapeSVG=function(){g.PShape.call(this);if(arguments.length===1){this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=4278190080,this.strokeWeight=1,this.strokeCap="butt",this.strokeJoin="miter",this.strokeGradient=null,this.strokeGradientPaint=null,this.strokeName=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=4278190080,this.fillGradient=null,this.fillGradientPaint=null,this.fillName=null,this.fillOpacity=1;if(this.element.getName()!=="svg")throw"root is not <svg>, it's <"+this.element.getName()+">"}else arguments.length===2&&(typeof arguments[1]=="string"?arguments[1].indexOf(".svg")>-1&&(this.element=new g.XMLElement(g,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=4278190080,this.strokeWeight=1,this.strokeCap="butt",this.strokeJoin="miter",this.strokeGradient="",this.strokeGradientPaint="",this.strokeName="",this.strokeOpacity=1,this.fill=!0,this.fillColor=4278190080,this.fillGradient=null,this.fillGradientPaint=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id");var e=this.element.getStringAttribute("display","inline");this.visible=e!=="none";var t=this.element.getAttribute("transform");t&&(this.matrix=this.parseMatrix(t));var n=this.element.getStringAttribute("viewBox");if(n!==null){var r=n.split(" ");this.width=r[2],this.height=r[3]}var i=this.element.getStringAttribute("width"),s=this.element.getStringAttribute("height");if(i!==null)this.width=this.parseUnitSize(i),this.height=this.parseUnitSize(s);else if(this.width===0||this.height===0)throw this.width=1,this.height=1,"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element),this.parseChildren(this.element)};Or.prototype=new Ar,Or.prototype.parseMatrix=function(){function e(e){var t=[];return e.replace(/\((.*?)\)/,function(){return function(e,n){t=n.replace(/,+/g," ").split(/\s+/)}}()),t}return function(t){this.checkMatrix(2);var n=[];t.replace(/\s*(\w+)\((.*?)\)/g,function(e){n.push(g.trim(e))});if(n.length===0)return null;for(var r=0,i=n.length;r<i;r++){var s=e(n[r]);if(n[r].indexOf("matrix")!==-1)this.matrix.set(s[0],s[2],s[4],s[1],s[3],s[5]);else if(n[r].indexOf("translate")!==-1){var o=s[0],u=s.length===2?s[1]:0;this.matrix.translate(o,u)}else if(n[r].indexOf("scale")!==-1){var a=s[0],f=s.length===2?s[1]:s[0];this.matrix.scale(a,f)}else if(n[r].indexOf("rotate")!==-1){var l=s[0];s.length===1?this.matrix.rotate(g.radians(l)):s.length===3&&(this.matrix.translate(s[1],s[2]),this.matrix.rotate(g.radians(s[0])),this.matrix.translate(-s[1],-s[2]))}else n[r].indexOf("skewX")!==-1?this.matrix.skewX(parseFloat(s[0])):n[r].indexOf("skewY")!==-1?this.matrix.skewY(s[0]):n[r].indexOf("shearX")!==-1?this.matrix.shearX(s[0]):n[r].indexOf("shearY")!==-1&&this.matrix.shearY(s[0])}return this.matrix}}(),Or.prototype.parseChildren=function(e){var t=e.getChildren(),n=new g.PShape;for(var r=0,i=t.length;r<i;r++){var s=this.parseChild(t[r]);s&&n.addChild(s)}this.children.push(n)},Or.prototype.getName=function(){return this.name},Or.prototype.parseChild=function(e){var t=e.getName(),n;return t==="g"?n=new Or(this,e):t==="defs"?n=new Or(this,e):t==="line"?(n=new Or(this,e),n.parseLine()):t==="circle"?(n=new Or(this,e),n.parseEllipse(!0)):t==="ellipse"?(n=new Or(this,e),n.parseEllipse(!1)):t==="rect"?(n=new Or(this,e),n.parseRect()):t==="polygon"?(n=new Or(this,e),n.parsePoly(!0)):t==="polyline"?(n=new Or(this,e),n.parsePoly(!1)):t==="path"?(n=new Or(this,e),n.parsePath()):t==="radialGradient"?m("PShapeSVG.prototype.parseChild, name = radialGradient"):t==="linearGradient"?m("PShapeSVG.prototype.parseChild, name = linearGradient"):t==="text"?m("PShapeSVG.prototype.parseChild, name = text"):t==="filter"?m("PShapeSVG.prototype.parseChild, name = filter"):t==="mask"?m("PShapeSVG.prototype.parseChild, name = mask"):i(),n},Or.prototype.parsePath=function(){this.family=21,this.kind=0;var e=[],t,n=g.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(n===null)return;n=g.__toCharArray(n);var r=0,i=0,s=0,o=0,u=0,a=0,f=0,l=0,c=0,h=0,p=0,d=0,v=0,m=0,y=0,b=0,w="",E=[],S=!1,x,T,N,C;while(y<n.length){b=n[y].valueOf();if(b>=65&&b<=90||b>=97&&b<=122){N=y,y++;if(y<n.length){E=[],b=n[y].valueOf();while(!(b>=65&&b<=90||b>=97&&b<=100||b>=102&&b<=122)&&S===!1)b===32?(w!==""&&(E.push(parseFloat(w)),w=""),y++):b===45?n[y-1].valueOf()===101?(w+=n[y].toString(),y++):(w!==""&&E.push(parseFloat(w)),w=n[y].toString(),y++):(w+=n[y].toString(),y++),y===n.length?S=!0:b=n[y].valueOf()}w!==""&&(E.push(parseFloat(w)),w=""),T=n[N],b=T.valueOf();if(b===77){if(E.length>=2&&E.length%2===0){r=E[0],i=E[1],this.parsePathMoveto(r,i);if(E.length>2)for(N=2,C=E.length;N<C;N+=2)r=E[N],i=E[N+1],this.parsePathLineto(r,i)}}else if(b===109){if(E.length>=2&&E.length%2===0){r+=E[0],i+=E[1],this.parsePathMoveto(r,i);if(E.length>2)for(N=2,C=E.length;N<C;N+=2)r+=E[N],i+=E[N+1],this.parsePathLineto(r,i)}}else if(b===76){if(E.length>=2&&E.length%2===0)for(N=0,C=E.length;N<C;N+=2)r=E[N],i=E[N+1],this.parsePathLineto(r,i)}else if(b===108){if(E.length>=2&&E.length%2===0)for(N=0,C=E.length;N<C;N+=2)r+=E[N],i+=E[N+1],this.parsePathLineto(r,i)}else if(b===72)for(N=0,C=E.length;N<C;N++)r=E[N],this.parsePathLineto(r,i);else if(b===104)for(N=0,C=E.length;N<C;N++)r+=E[N],this.parsePathLineto(r,i);else if(b===86)for(N=0,C=E.length;N<C;N++)i=E[N],this.parsePathLineto(r,i);else if(b===118)for(N=0,C=E.length;N<C;N++)i+=E[N],this.parsePathLineto(r,i);else if(b===67){if(E.length>=6&&E.length%6===0)for(N=0,C=E.length;N<C;N+=6)u=E[N],f=E[N+1],a=E[N+2],l=E[N+3],c=E[N+4],h=E[N+5],this.parsePathCurveto(u,f,a,l,c,h),r=c,i=h}else if(b===99){if(E.length>=6&&E.length%6===0)for(N=0,C=E.length;N<C;N+=6)u=r+E[N],f=i+E[N+1],a=r+E[N+2],l=i+E[N+3],c=r+E[N+4],h=i+E[N+5],this.parsePathCurveto(u,f,a,l,c,h),r=c,i=h}else if(b===83){if(E.length>=4&&E.length%4===0)for(N=0,C=E.length;N<C;N+=4)x.toLowerCase()==="c"||x.toLowerCase()==="s"?(p=this.vertices[this.vertices.length-2][0],d=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1],u=v+(v-p),f=m+(m-d)):(u=this.vertices[this.vertices.length-1][0],f=this.vertices[this.vertices.length-1][1]),a=E[N],l=E[N+1],c=E[N+2],h=E[N+3],this.parsePathCurveto(u,f,a,l,c,h),r=c,i=h}else if(b===115){if(E.length>=4&&E.length%4===0)for(N=0,C=E.length;N<C;N+=4)x.toLowerCase()==="c"||x.toLowerCase()==="s"?(p=this.vertices[this.vertices.length-2][0],d=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1],u=v+(v-p),f=m+(m-d)):(u=this.vertices[this.vertices.length-1][0],f=this.vertices[this.vertices.length-1][1]),a=r+E[N],l=i+E[N+1],c=r+E[N+2],h=i+E[N+3],this.parsePathCurveto(u,f,a,l,c,h),r=c,i=h}else if(b===81){if(E.length>=4&&E.length%4===0)for(N=0,C=E.length;N<C;N+=4)s=E[N],o=E[N+1],c=E[N+2],h=E[N+3],this.parsePathQuadto(r,i,s,o,c,h),r=c,i=h}else if(b===113){if(E.length>=4&&E.length%4===0)for(N=0,C=E.length;N<C;N+=4)s=r+E[N],o=i+E[N+1],c=r+E[N+2],h=i+E[N+3],this.parsePathQuadto(r,i,s,o,c,h),r=c,i=h}else if(b===84){if(E.length>=2&&E.length%2===0)for(N=0,C=E.length;N<C;N+=2)x.toLowerCase()==="q"||x.toLowerCase()==="t"?(p=this.vertices[this.vertices.length-2][0],d=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1],s=v+(v-p),o=m+(m-d)):(s=r,o=i),c=E[N],h=E[N+1],this.parsePathQuadto(r,i,s,o,c,h),r=c,i=h}else if(b===116){if(E.length>=2&&E.length%2===0)for(N=0,C=E.length;N<C;N+=2)x.toLowerCase()==="q"||x.toLowerCase()==="t"?(p=this.vertices[this.vertices.length-2][0],d=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1],s=v+(v-p),o=m+(m-d)):(s=r,o=i),c=r+E[N],h=i+E[N+1],this.parsePathQuadto(r,i,s,o,c,h),r=c,i=h}else if(b===90||b===122)this.close=!0;x=T.toString()}else y++}},Or.prototype.parsePathQuadto=function(e,t,n,r,i,s){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(1),this.parsePathVertex(e+(n-e)*2/3,t+(r-t)*2/3),this.parsePathVertex(i+(n-i)*2/3,s+(r-s)*2/3),this.parsePathVertex(i,s)},Or.prototype.parsePathCurveto=function(e,t,n,r,i,s){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(1),this.parsePathVertex(e,t),this.parsePathVertex(n,r),this.parsePathVertex(i,s)},Or.prototype.parsePathLineto=function(e,t){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(0),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!1},Or.prototype.parsePathMoveto=function(e,t){this.vertices.length>0&&this.parsePathCode(3),this.parsePathCode(0),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!0},Or.prototype.parsePathVertex=function(e,t){var n=[];n[0]=e,n[1]=t,this.vertices.push(n)},Or.prototype.parsePathCode=function(e){this.vertexCodes.push(e)},Or.prototype.parsePoly=function(e){this.family=21,this.close=e;var t=g.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(t!==null){var n=t.split(" ");if(n.length%2!==0)throw"Error parsing polygon points: odd number of coordinates provided";for(var r=0,i=n.length;r<i;r++){var s=[];s[0]=n[r],s[1]=n[++r],this.vertices.push(s)}}},Or.prototype.parseRect=function(){this.kind=30,this.family=1,this.params=[],this.params[0]=this.element.getFloatAttribute("x"),this.params[1]=this.element.getFloatAttribute("y"),this.params[2]=this.element.getFloatAttribute("width"),this.params[3]=this.element.getFloatAttribute("height");if(this.params[2]<0||this.params[3]<0)throw"svg error: negative width or height found while parsing <rect>"},Or.prototype.parseEllipse=function(e){this.kind=31,this.family=1,this.params=[],this.params[0]=this.element.getFloatAttribute("cx")|0,this.params[1]=this.element.getFloatAttribute("cy")|0;var t,n;if(e){t=n=this.element.getFloatAttribute("r");if(t<0)throw"svg error: negative radius found while parsing <circle>"}else{t=this.element.getFloatAttribute("rx"),n=this.element.getFloatAttribute("ry");if(t<0||n<0)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>"}this.params[0]-=t,this.params[1]-=n,this.params[2]=t*2,this.params[3]=n*2},Or.prototype.parseLine=function(){this.kind=4,this.family=1,this.params=[],this.params[0]=this.element.getFloatAttribute("x1"),this.params[1]=this.element.getFloatAttribute("y1"),this.params[2]=this.element.getFloatAttribute("x2"),this.params[3]=this.element.getFloatAttribute("y2")},Or.prototype.parseColors=function(e){e.hasAttribute("opacity")&&this.setOpacity(e.getAttribute("opacity")),e.hasAttribute("stroke")&&this.setStroke(e.getAttribute("stroke")),e.hasAttribute("stroke-width")&&this.setStrokeWeight(e.getAttribute("stroke-width")),e.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(e.getAttribute("stroke-linejoin")),e.hasAttribute("stroke-linecap")&&this.setStrokeCap(e.getStringAttribute("stroke-linecap")),e.hasAttribute("fill")&&this.setFill(e.getStringAttribute("fill"));if(e.hasAttribute("style")){var t=e.getStringAttribute("style"),n=t.toString().split(";");for(var r=0,i=n.length;r<i;r++){var s=g.trim(n[r].split(":"));s[0]==="fill"?this.setFill(s[1]):s[0]==="fill-opacity"?this.setFillOpacity(s[1]):s[0]==="stroke"?this.setStroke(s[1]):s[0]==="stroke-width"?this.setStrokeWeight(s[1]):s[0]==="stroke-linecap"?this.setStrokeCap(s[1]):s[0]==="stroke-linejoin"?this.setStrokeJoin(s[1]):s[0]==="stroke-opacity"?this.setStrokeOpacity(s[1]):s[0]==="opacity"&&this.setOpacity(s[1])}}},Or.prototype.setFillOpacity=function(e){this.fillOpacity=parseFloat(e),this.fillColor=this.fillOpacity*255<<24|this.fillColor&16777215},Or.prototype.setFill=function(e){var t=this.fillColor&4278190080;e==="none"?this.fill=!1:e.indexOf("#")===0?(this.fill=!0,e.length===4&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=t|parseInt(e.substring(1),16)&16777215):e.indexOf("rgb")===0?(this.fill=!0,this.fillColor=t|this.parseRGB(e)):e.indexOf("url(#")===0?this.fillName=e.substring(5,e.length-1):N[e]&&(this.fill=!0,this.fillColor=t|parseInt(N[e].substring(1),16)&16777215)},Or.prototype.setOpacity=function(e){this.strokeColor=parseFloat(e)*255<<24|this.strokeColor&16777215,this.fillColor=parseFloat(e)*255<<24|this.fillColor&16777215},Or.prototype.setStroke=function(e){var t=this.strokeColor&4278190080;e==="none"?this.stroke=!1:e.charAt(0)==="#"?(this.stroke=!0,e.length===4&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=t|parseInt(e.substring(1),16)&16777215):e.indexOf("rgb")===0?(this.stroke=!0,this.strokeColor=t|this.parseRGB(e)):e.indexOf("url(#")===0?this.strokeName=e.substring(5,e.length-1):N[e]&&(this.stroke=!0,this.strokeColor=t|parseInt(N[e].substring(1),16)&16777215)},Or.prototype.setStrokeWeight=function(e){this.strokeWeight=this.parseUnitSize(e)},Or.prototype.setStrokeJoin=function(e){e==="miter"?this.strokeJoin="miter":e==="round"?this.strokeJoin="round":e==="bevel"&&(this.strokeJoin="bevel")},Or.prototype.setStrokeCap=function(e){e==="butt"?this.strokeCap="butt":e==="round"?this.strokeCap="round":e==="square"&&(this.strokeCap="square")},Or.prototype.setStrokeOpacity=function(e){this.strokeOpacity=parseFloat(e),this.strokeColor=this.strokeOpacity*255<<24|this.strokeColor&16777215},Or.prototype.parseRGB=function(e){var t=e.substring(e.indexOf("(")+1,e.indexOf(")")),n=t.split(", ");return n[0]<<16|n[1]<<8|n[2]},Or.prototype.parseUnitSize=function(e){var t=e.length-2;return t<0?e:e.indexOf("pt")===t?parseFloat(e.substring(0,t))*1.25:e.indexOf("pc")===t?parseFloat(e.substring(0,t))*15:e.indexOf("mm")===t?parseFloat(e.substring(0,t))*3.543307:e.indexOf("cm")===t?parseFloat(e.substring(0,t))*35.43307:e.indexOf("in")===t?parseFloat(e.substring(0,t))*90:e.indexOf("px")===t?parseFloat(e.substring(0,t)):parseFloat(e)},g.shape=function(e,t,n,r,i){arguments.length>=1&&arguments[0]!==null&&e.isVisible()&&(g.pushMatrix(),Zn===3?arguments.length===5?(g.translate(t-r/2,n-i/2),g.scale(r/e.getWidth(),i/e.getHeight())):arguments.length===3?g.translate(t-e.getWidth()/2,-e.getHeight()/2):g.translate(-e.getWidth()/2,-e.getHeight()/2):Zn===0?arguments.length===5?(g.translate(t,n),g.scale(r/e.getWidth(),i/e.getHeight())):arguments.length===3&&g.translate(t,n):Zn===1&&(arguments.length===5?(r-=t,i-=n,g.translate(t,n),g.scale(r/e.getWidth(),i/e.getHeight())):arguments.length===3&&g.translate(t,n)),e.draw(g),(arguments.length===1&&Zn===3||arguments.length>1)&&g.popMatrix())},g.shapeMode=function(e){Zn=e},g.loadShape=function(e){return arguments.length===1&&e.indexOf(".svg")>-1?new Or(null,e):null};var Mr=function(e,t,n,r,i){this.fullName=e||"",this.name=t||"",this.namespace=n||"",this.value=r,this.type=i};Mr.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(e){this.value=e}};var _r=g.XMLElement=function(e,t,n,i){this.attributes=[],this.children=[],this.fullName=null,this.name=null,this.namespace="",this.content=null,this.parent=null,this.lineNr="",this.systemID="",this.type="ELEMENT",e&&(typeof e=="string"?t===r&&e.indexOf("<")>-1?this.parse(e):(this.fullName=e,this.namespace=t,this.systemId=n,this.lineNr=i):this.parse(t))};_r.prototype={parse:function(e){var t;try{var n=e.substring(e.length-4);if(n===".xml"||n===".svg")e=o(e);t=(new DOMParser).parseFromString(e,"text/xml");var r=t.documentElement;if(!r)throw"Error loading document";return this.parseChildrenRecursive(null,r),this}catch(i){throw i}},parseChildrenRecursive:function(e,t){var n,r,i,s,o,u;e?(n=new _r(t.nodeName),n.parent=e):(this.fullName=t.localName,this.name=t.nodeName,n=this);if(t.nodeType===3&&t.textContent!=="")return this.createPCDataElement(t.textContent);if(t.nodeType===4)return this.createCDataElement(t.textContent);if(t.attributes)for(s=0,o=t.attributes.length;s<o;s++)i=t.attributes[s],r=new Mr(i.getname,i.nodeName,i.namespaceURI,i.nodeValue,i.nodeType),n.attributes.push(r);if(t.childNodes)for(s=0,o=t.childNodes.length;s<o;s++){var a=t.childNodes[s];u=n.parseChildrenRecursive(n,a),u!==null&&n.children.push(u)}return n},createElement:function(e,t,n,i){return n===r?new _r(e,t):new _r(e,t,n,i)},createPCDataElement:function(e,t){if(e.replace(/^\s+$/g,"")==="")return null;var n=new _r;return n.type="TEXT",n.content=e,n},createCDataElement:function(e){var t=this.createPCDataElement(e);if(t===null)return null;t.type="CDATA";var n={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"},r;for(r in n)Object.hasOwnProperty(n,r)||(e=e.replace(new RegExp(r,"g"),n[r]));return t.cdata=e,t},hasAttribute:function(){if(arguments.length===1)return this.getAttribute(arguments[0])!==null;if(arguments.length===2)return this.getAttribute(arguments[0],arguments[1])!==null},equals:function(e){if(e instanceof _r){var t,n;if(this.fullName!==e.fullName)return!1;if(this.attributes.length!==e.getAttributeCount())return!1;if(this.attributes.length!==e.attributes.length)return!1;var r,i,s,o,u;for(t=0,n=this.attributes.length;t<n;t++){r=this.attributes[t].getName(),i=this.attributes[t].getNamespace(),u=e.findAttribute(r,i);if(u===null)return!1;if(this.attributes[t].getValue()!==u.getValue())return!1;if(this.attributes[t].getType()!==u.getType())return!1}if(this.children.length!==e.getChildCount())return!1;if(this.children.length>0){var a,f;for(t=0,n=this.children.length;t<n;t++){a=this.getChild(t),f=e.getChild(t);if(!a.equals(f))return!1}return!0}return this.content===e.content}return!1},getContent:function(){if(this.type==="TEXT"||this.type==="CDATA")return this.content;var e=this.children;return e.length!==1||e[0].type!=="TEXT"&&e[0].type!=="CDATA"?null:e[0].content},getAttribute:function(){var e;if(arguments.length===2)return e=this.findAttribute(arguments[0]),e?e.getValue():arguments[1];if(arguments.length===1)return e=this.findAttribute(arguments[0]),e?e.getValue():null;if(arguments.length===3)return e=this.findAttribute(arguments[0],arguments[1]),e?e.getValue():arguments[2]},getStringAttribute:function(){return arguments.length===1?this.getAttribute(arguments[0]):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(e){return this.getStringAttribute(e)},getFloatAttribute:function(){return arguments.length===1?parseFloat(this.getAttribute(arguments[0],0)):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(e){return this.getFloatAttribute(e)},getIntAttribute:function(){return arguments.length===1?this.getAttribute(arguments[0],0):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(e){return this.getIntAttribute(e)},hasChildren:function(){return this.children.length>0},addChild:function(e){e!==null&&(e.parent=this,this.children.push(e))},insertChild:function(e,t){if(e){if(e.getLocalName()===null&&!this.hasChildren()){var n=this.children[this.children.length-1];if(n.getLocalName()===null){n.setContent(n.getContent()+e.getContent());return}}e.parent=this,this.children.splice(t,0,e)}},getChild:function(e){if(typeof e=="number")return this.children[e];if(e.indexOf("/")!==-1)return this.getChildRecursive(e.split("/"),0);var t,n;for(var r=0,i=this.getChildCount();r<i;r++){t=this.getChild(r),n=t.getName();if(n!==null&&n===e)return t}return null},getChildren:function(){if(arguments.length===1){if(typeof arguments[0]=="number")return this.getChild(arguments[0]);if(arguments[0].indexOf("/")!==-1)return this.getChildrenRecursive(arguments[0].split("/"),0);var e=[],t,n;for(var r=0,i=this.getChildCount();r<i;r++)t=this.getChild(r),n=t.getName(),n!==null&&n===arguments[0]&&e.push(t);return e}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(e,t){if(t===e.length)return this;var n,r,i=e[t];for(var s=0,o=this.getChildCount();s<o;s++){n=this.getChild(s),r=n.getName();if(r!==null&&r===i)return n.getChildRecursive(e,t+1)}return null},getChildrenRecursive:function(e,t){if(t===e.length-1)return this.getChildren(e[t]);var n=this.getChildren(e[t]),r=[];for(var i=0;i<n.length;i++)r=r.concat(n[i].getChildrenRecursive(e,t+1));return r},isLeaf:function(){return!this.hasChildren()},listChildren:function(){var e=[];for(var t=0,n=this.children.length;t<n;t++)e.push(this.getChild(t).getName());return e},removeAttribute:function(e,t){this.namespace=t||"";for(var n=0,r=this.attributes.length;n<r;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace){this.attributes.splice(n,1);break}},removeChild:function(e){if(e)for(var t=0,n=this.children.length;t<n;t++)if(this.children[t].equals(e)){this.children.splice(t,1);break}},removeChildAtIndex:function(e){this.children.length>e&&this.children.splice(e,1)},findAttribute:function(e,t){this.namespace=t||"";for(var n=0,r=this.attributes.length;n<r;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace)return this.attributes[n];return null},setAttribute:function(){var e;if(arguments.length===3){var t=arguments[0].indexOf(":"),n=arguments[0].substring(t+1);e=this.findAttribute(n,arguments[1]),e?e.setValue(arguments[2]):(e=new Mr(arguments[0],n,arguments[1],arguments[2],"CDATA"),this.attributes.push(e))}else e=this.findAttribute(arguments[0]),e?e.setValue(arguments[1]):(e=new Mr(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(e))},setString:function(e,t){this.setAttribute(e,t)},setInt:function(e,t){this.setAttribute(e,t)},setFloat:function(e,t){this.setAttribute(e,t)},setContent:function(e){this.children.length>0&&_.debug("Tried to set content for XMLElement with children"),this.content=e},setName:function(){if(arguments.length===1)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var e=arguments[0].indexOf(":");arguments[1]===null||e<0?this.name=arguments[0]:this.name=arguments[0].substring(e+1),this.fullName=arguments[0],this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if(this.type==="TEXT")return this.content;if(this.type==="CDATA")return this.cdata;var e=this.fullName,t="<"+e,n,r;for(n=0;n<this.attributes.length;n++){var i=this.attributes[n];t+=" "+i.getName()+"="+'"'+i.getValue()+'"'}if(this.children.length===0)this.content===""?t+="/>":t+=">"+this.content+"</"+e+">";else{t+=">";for(r=0;r<this.children.length;r++)t+=this.children[r].toString();t+="</"+e+">"}return t}},_r.parse=function(e){var t=new _r;return t.parse(e),t};var Dr=g.XML=g.XMLElement;g.loadXML=function(e){return new Dr(g,e)};var Pr=function(e){var t=0;for(var r=0;r<e.length;r++)r!==0?t=n.max(t,n.abs(e[r])):t=n.abs(e[r]);var i=(t+"").indexOf(".");return i===0?i=1:i===-1&&(i=(t+"").length),i},Hr=g.PMatrix2D=function(){arguments.length===0?this.reset():arguments.length===1&&arguments[0]instanceof Hr?this.set(arguments[0].array()):arguments.length===6&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};Hr.prototype={set:function(){if(arguments.length===6){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else arguments.length===1&&arguments[0]instanceof Hr?this.elements=arguments[0].array():arguments.length===1&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Hr;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,t){this.elements[2]=e*this.elements[0]+t*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+t*this.elements[4]+this.elements[5]},invTranslate:function(e,t){this.translate(-e,-t)},transpose:function(){},mult:function(e,t){var n,r;return e instanceof b?(n=e.x,r=e.y,t||(t=new b)):e instanceof Array&&(n=e[0],r=e[1],t||(t=[])),t instanceof Array?(t[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2],t[1]=this.elements[3]*n+this.elements[4]*r+this.elements[5]):t instanceof b&&(t.x=this.elements[0]*n+this.elements[1]*r+this.elements[2],t.y=this.elements[3]*n+this.elements[4]*r+this.elements[5],t.z=0),t},multX:function(e,t){return e*this.elements[0]+t*this.elements[1]+this.elements[2]},multY:function(e,t){return e*this.elements[3]+t*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,n.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,n.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(n.abs(e)>-2147483648){var t=this.elements[0],r=this.elements[1],i=this.elements[2],s=this.elements[3],o=this.elements[4],u=this.elements[5];return this.elements[0]=o/e,this.elements[3]=-s/e,this.elements[1]=-r/e,this.elements[4]=t/e,this.elements[2]=(r*u-o*i)/e,this.elements[5]=(s*i-t*u)/e,!0}return!1},scale:function(e,t){e&&!t&&(t=e),e&&t&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[3]*=e,this.elements[4]*=t)},invScale:function(e,t){e&&!t&&(t=e),this.scale(1/e,1/t)},apply:function(){var e;arguments.length===1&&arguments[0]instanceof Hr?e=arguments[0].array():arguments.length===6?e=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,this.elements[2],0,0,this.elements[5]],n=0;for(var r=0;r<2;r++)for(var i=0;i<3;i++,n++)t[n]+=this.elements[r*3+0]*e[i+0]+this.elements[r*3+1]*e[i+3];this.elements=t.slice()},preApply:function(){var e;arguments.length===1&&arguments[0]instanceof Hr?e=arguments[0].array():arguments.length===6?e=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,e[2],0,0,e[5]];t[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],t[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],t[0]=this.elements[0]*e[0]+this.elements[3]*e[1],t[3]=this.elements[0]*e[3]+this.elements[3]*e[4],t[1]=this.elements[1]*e[0]+this.elements[4]*e[1],t[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=t.slice()},rotate:function(e){var t=n.cos(e),r=n.sin(e),i=this.elements[0],s=this.elements[1];this.elements[0]=t*i+r*s,this.elements[1]=-r*i+t*s,i=this.elements[3],s=this.elements[4],this.elements[3]=t*i+r*s,this.elements[4]=-r*i+t*s},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-n.PI)},print:function(){var e=Pr(this.elements),t=""+g.nfs(this.elements[0],e,4)+" "+g.nfs(this.elements[1],e,4)+" "+g.nfs(this.elements[2],e,4)+"\n"+g.nfs(this.elements[3],e,4)+" "+g.nfs(this.elements[4],e,4)+" "+g.nfs(this.elements[5],e,4)+"\n\n";g.println(t)}};var Br=g.PMatrix3D=function(){this.reset()};Br.prototype={set:function(){arguments.length===16?this.elements=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Br?this.elements=arguments[0].array():arguments.length===1&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Br;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,t,n){n===r&&(n=0),this.elements[3]+=e*this.elements[0]+t*this.elements[1]+n*this.elements[2],this.elements[7]+=e*this.elements[4]+t*this.elements[5]+n*this.elements[6],this.elements[11]+=e*this.elements[8]+t*this.elements[9]+n*this.elements[10],this.elements[15]+=e*this.elements[12]+t*this.elements[13]+n*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,t){var n,r,i,s;if(e instanceof b)n=e.x,r=e.y,i=e.z,s=1,t||(t=new b);else if(e instanceof Array){n=e[0],r=e[1],i=e[2],s=e[3]||1;if(!t||t.length!==3&&t.length!==4)t=[0,0,0]}return t instanceof Array&&(t.length===3?(t[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3],t[1]=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7],t[2]=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]):t.length===4&&(t[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3]*s,t[1]=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7]*s,t[2]=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]*s,t[3]=this.elements[12]*n+this.elements[13]*r+this.elements[14]*i+this.elements[15]*s)),t instanceof b&&(t.x=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3],t.y=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7],t.z=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]),t},preApply:function(){var e;arguments.length===1&&arguments[0]instanceof Br?e=arguments[0].array():arguments.length===16?e=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;for(var r=0;r<4;r++)for(var i=0;i<4;i++,n++)t[n]+=this.elements[i+0]*e[r*4+0]+this.elements[i+4]*e[r*4+1]+this.elements[i+8]*e[r*4+2]+this.elements[i+12]*e[r*4+3];this.elements=t.slice()},apply:function(){var e;arguments.length===1&&arguments[0]instanceof Br?e=arguments[0].array():arguments.length===16?e=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;for(var r=0;r<4;r++)for(var i=0;i<4;i++,n++)t[n]+=this.elements[r*4+0]*e[i+0]+this.elements[r*4+1]*e[i+4]+this.elements[r*4+2]*e[i+8]+this.elements[r*4+3]*e[i+12];this.elements=t.slice()},rotate:function(e,t,n,r){if(!n)this.rotateZ(e);else{var i=g.cos(e),s=g.sin(e),o=1-i;this.apply(o*t*t+i,o*t*n-s*r,o*t*r+s*n,0,o*t*n+s*r,o*n*n+i,o*n*r-s*t,0,o*t*r-s*n,o*n*r+s*t,o*r*r+i,0,0,0,0,1)}},invApply:function(){Bn===r&&(Bn=new Br);var e=arguments;return Bn.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),Bn.invert()?(this.preApply(Bn),!0):!1},rotateX:function(e){var t=g.cos(e),n=g.sin(e);this.apply([1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1])},rotateY:function(e){var t=g.cos(e),n=g.sin(e);this.apply([t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1])},rotateZ:function(e){var t=n.cos(e),r=n.sin(e);this.apply([t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1])},scale:function(e,t,n){e&&!t&&!n?t=n=e:e&&t&&!n&&(n=1),e&&t&&n&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[2]*=n,this.elements[4]*=e,this.elements[5]*=t,this.elements[6]*=n,this.elements[8]*=e,this.elements[9]*=t,this.elements[10]*=n,this.elements[12]*=e,this.elements[13]*=t,this.elements[14]*=n)},skewX:function(e){var t=n.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){var t=n.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){var t=n.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){var t=n.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,t,n,r){return n?r?this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]*r:this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]:this.elements[0]*e+this.elements[1]*t+this.elements[3]},multY:function(e,t,n,r){return n?r?this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]*r:this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]:this.elements[4]*e+this.elements[5]*t+this.elements[7]},multZ:function(e,t,n,r){return r?this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]*r:this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]},multW:function(e,t,n,r){return r?this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]*r:this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],t=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],r=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],i=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],s=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],o=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],u=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],a=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],f=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],l=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],c=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],h=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],p=e*h-t*c+r*l+i*f-s*a+o*u;if(n.abs(p)<=1e-9)return!1;var d=[];d[0]=+this.elements[5]*h-this.elements[6]*c+this.elements[7]*l,d[4]=-this.elements[4]*h+this.elements[6]*f-this.elements[7]*a,d[8]=+this.elements[4]*c-this.elements[5]*f+this.elements[7]*u,d[12]=-this.elements[4]*l+this.elements[5]*a-this.elements[6]*u,d[1]=-this.elements[1]*h+this.elements[2]*c-this.elements[3]*l,d[5]=+this.elements[0]*h-this.elements[2]*f+this.elements[3]*a,d[9]=-this.elements[0]*c+this.elements[1]*f-this.elements[3]*u,d[13]=+this.elements[0]*l-this.elements[1]*a+this.elements[2]*u,d[2]=+this.elements[13]*o-this.elements[14]*s+this.elements[15]*i,d[6]=-this.elements[12]*o+this.elements[14]*r-this.elements[15]*t,d[10]=+this.elements[12]*s-this.elements[13]*r+this.elements[15]*e,d[14]=-this.elements[12]*i+this.elements[13]*t-this.elements[14]*e,d[3]=-this.elements[9]*o+this.elements[10]*s-this.elements[11]*i,d[7]=+this.elements[8]*o-this.elements[10]*r+this.elements[11]*t,d[11]=-this.elements[8]*s+this.elements[9]*r-this.elements[11]*e,d[15]=+this.elements[8]*i-this.elements[9]*t+this.elements[10]*e;var v=1/p;return d[0]*=v,d[1]*=v,d[2]*=v,d[3]*=v,d[4]*=v,d[5]*=v,d[6]*=v,d[7]*=v,d[8]*=v,d[9]*=v,d[10]*=v,d[11]*=v,d[12]*=v,d[13]*=v,d[14]*=v,d[15]*=v,this.elements=d.slice(),!0},toString:function(){var e="";for(var t=0;t<15;t++)e+=this.elements[t]+", ";return e+=this.elements[15],e},print:function(){var e=Pr(this.elements),t=""+g.nfs(this.elements[0],e,4)+" "+g.nfs(this.elements[1],e,4)+" "+g.nfs(this.elements[2],e,4)+" "+g.nfs(this.elements[3],e,4)+"\n"+g.nfs(this.elements[4],e,4)+" "+g.nfs(this.elements[5],e,4)+" "+g.nfs(this.elements[6],e,4)+" "+g.nfs(this.elements[7],e,4)+"\n"+g.nfs(this.elements[8],e,4)+" "+g.nfs(this.elements[9],e,4)+" "+g.nfs(this.elements[10],e,4)+" "+g.nfs(this.elements[11],e,4)+"\n"+g.nfs(this.elements[12],e,4)+" "+g.nfs(this.elements[13],e,4)+" "+g.nfs(this.elements[14],e,4)+" "+g.nfs(this.elements[15],e,4)+"\n\n";g.println(t)},invTranslate:function(e,t,n){this.preApply(1,0,0,-e,0,1,0,-t,0,0,1,-n,0,0,0,1)},invRotateX:function(e){var t=n.cos(-e),r=n.sin(-e);this.preApply([1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1])},invRotateY:function(e){var t=n.cos(-e),r=n.sin(-e);this.preApply([t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1])},invRotateZ:function(e){var t=n.cos(-e),r=n.sin(-e);this.preApply([t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,t,n){this.preApply([1/e,0,0,0,0,1/t,0,0,0,0,1/n,0,0,0,0,1])}};var jr=g.PMatrixStack=function(){this.matrixStack=[]};jr.prototype.load=function(){var e=S.$newPMatrix();arguments.length===1?e.set(arguments[0]):e.set(arguments),this.matrixStack.push(e)},Tr.prototype.$newPMatrix=function(){return new Hr},Nr.prototype.$newPMatrix=function(){return new Br},jr.prototype.push=function(){this.matrixStack.push(this.peek())},jr.prototype.pop=function(){return this.matrixStack.pop()},jr.prototype.peek=function(){var e=S.$newPMatrix();return e.set(this.matrixStack[this.matrixStack.length-1]),e},jr.prototype.mult=function(e){this.matrixStack[this.matrixStack.length-1].apply(e)},g.split=function(e,t){return e.split(t)},g.splitTokens=function(e,t){if(t===r)return e.split(/\s+/g);var n=t.split(/()/g),i="",s=e.length,o,u,a=[];for(o=0;o<s;o++)u=e[o],n.indexOf(u)>-1?(i!==""&&a.push(i),i=""):i+=u;return i!==""&&a.push(i),a},g.append=function(e,t){return e[e.length]=t,e},g.concat=function(e,t){return e.concat(t)},g.sort=function(e,t){var n=[];if(e.length>0){var r=t>0?t:e.length;for(var i=0;i<r;i++)n.push(e[i]);typeof e[0]=="string"?n.sort():n.sort(function(e,t){return e-t});if(t>0)for(var s=n.length;s<e.length;s++)n.push(e[s])}return n},g.splice=function(e,t,n){if(t.length===0)return e;if(t instanceof Array)for(var r=0,i=n;r<t.length;i++,r++)e.splice(i,0,t[r]);else e.splice(n,0,t);return e},g.subset=function(e,t,n){var i=n!==r?t+n:e.length;return e.slice(t,i)},g.join=function(e,t){return e.join(t)},g.shorten=function(e){var t=[],n=e.length;for(var r=0;r<n;r++)t[r]=e[r];return t.pop(),t},g.expand=function(e,t){var n=e.slice(0),r=t||e.length*2;return n.length=r,n},g.arrayCopy=function(){var e,t=0,n,i=0,s;arguments.length===2?(e=arguments[0],n=arguments[1],s=e.length):arguments.length===3?(e=arguments[0],n=arguments[1],s=arguments[2]):arguments.length===5&&(e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3],s=arguments[4]);for(var o=t,u=i;o<s+t;o++,u++){if(n[u]===r)throw"array index out of bounds exception";n[u]=e[o]}},g.reverse=function(e){return e.reverse()},g.mix=function(e,t,n){return e+((t-e)*n>>8)},g.peg=function(e){return e<0?0:e>255?255:e},g.modes=function(){function u(e,t,n,r,i,o,u,a,f,l,c){var h=s(((e&4278190080)>>>24)+t,255)<<24,p=n+((f-n)*t>>8);p=(p<0?0:p>255?255:p)<<16;var d=r+((l-r)*t>>8);d=(d<0?0:d>255?255:d)<<8;var v=i+((c-i)*t>>8);return v=v<0?0:v>255?255:v,h|p|d|v}var e=4278190080,t=16711680,r=65280,i=255,s=n.min,o=n.max;return{replace:function(e,t){return t},blend:function(n,o){var u=(o&e)>>>24,a=n&t,f=n&r,l=n&i,c=o&t,h=o&r,p=o&i;return s(((n&e)>>>24)+u,255)<<24|a+((c-a)*u>>8)&t|f+((h-f)*u>>8)&r|l+((p-l)*u>>8)&i},add:function(n,o){var u=(o&e)>>>24;return s(((n&e)>>>24)+u,255)<<24|s((n&t)+((o&t)>>8)*u,t)&t|s((n&r)+((o&r)>>8)*u,r)&r|s((n&i)+((o&i)*u>>8),i)},subtract:function(n,u){var a=(u&e)>>>24;return s(((n&e)>>>24)+a,255)<<24|o((n&t)-((u&t)>>8)*a,r)&t|o((n&r)-((u&r)>>8)*a,i)&r|o((n&i)-((u&i)*a>>8),0)},lightest:function(n,u){var a=(u&e)>>>24;return s(((n&e)>>>24)+a,255)<<24|o(n&t,((u&t)>>8)*a)&t|o(n&r,((u&r)>>8)*a)&r|o(n&i,(u&i)*a>>8)},darkest:function(n,o){var u=(o&e)>>>24,a=n&t,f=n&r,l=n&i,c=s(n&t,((o&t)>>8)*u),h=s(n&r,((o&r)>>8)*u),p=s(n&i,(o&i)*u>>8);return s(((n&e)>>>24)+u,255)<<24|a+((c-a)*u>>8)&t|f+((h-f)*u>>8)&r|l+((p-l)*u>>8)&i},difference:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=a>c?a-c:c-a,v=f>h?f-h:h-f,m=l>p?l-p:p-l;return u(n,o,a,f,l,c,h,p,d,v,m)},exclusion:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=a+c-(a*c>>7),v=f+h-(f*h>>7),m=l+p-(l*p>>7);return u(n,o,a,f,l,c,h,p,d,v,m)},multiply:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=a*c>>8,v=f*h>>8,m=l*p>>8;return u(n,o,a,f,l,c,h,p,d,v,m)},screen:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=255-((255-a)*(255-c)>>8),v=255-((255-f)*(255-h)>>8),m=255-((255-l)*(255-p)>>8);return u(n,o,a,f,l,c,h,p,d,v,m)},hard_light:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=c<128?a*c>>7:255-((255-a)*(255-c)>>7),v=h<128?f*h>>7:255-((255-f)*(255-h)>>7),m=p<128?l*p>>7:255-((255-l)*(255-p)>>7);return u(n,o,a,f,l,c,h,p,d,v,m)},soft_light:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=(a*c>>7)+(a*a>>8)-(a*a*c>>15),v=(f*h>>7)+(f*f>>8)-(f*f*h>>15),m=(l*p>>7)+(l*l>>8)-(l*l*p>>15);return u(n,o,a,f,l,c,h,p,d,v,m)},overlay:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=a<128?a*c>>7:255-((255-a)*(255-c)>>7),v=f<128?f*h>>7:255-((255-f)*(255-h)>>7),m=l<128?l*p>>7:255-((255-l)*(255-p)>>7);return u(n,o,a,f,l,c,h,p,d,v,m)},dodge:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=255;c!==255&&(d=(a<<8)/(255-c),d=d<0?0:d>255?255:d);var v=255;h!==255&&(v=(f<<8)/(255-h),v=v<0?0:v>255?255:v);var m=255;return p!==255&&(m=(l<<8)/(255-p),m=m<0?0:m>255?255:m),u(n,o,a,f,l,c,h,p,d,v,m)},burn:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=0;c!==0&&(d=(255-a<<8)/c,d=255-(d<0?0:d>255?255:d));var v=0;h!==0&&(v=(255-f<<8)/h,v=255-(v<0?0:v>255?255:v));var m=0;return p!==0&&(m=(255-l<<8)/p,m=255-(m<0?0:m>255?255:m)),u(n,o,a,f,l,c,h,p,d,v,m)}}}(),g.color=function(e,t,n,i){return e!==r&&t!==r&&n!==r&&i!==r?Fr(e,t,n,i):e!==r&&t!==r&&n!==r?Fr(e,t,n,ot):e!==r&&t!==r?Ir(e,t):typeof e=="number"?qr(e):Fr(ut,at,ft,ot)},g.color.toString=function(e){return"rgba("+(e>>16&255)+","+(e>>8&255)+","+(e&255)+","+(e>>24&255)/255+")"},g.color.toInt=function(e,t,n,r){return r<<24&4278190080|e<<16&16711680|t<<8&65280|n&255},g.color.toArray=function(e){return[e>>16&255,e>>8&255,e&255,e>>24&255]},g.color.toGLArray=function(e){return[((e&16711680)>>>16)/255,(e>>8&255)/255,(e&255)/255,(e>>24&255)/255]},g.color.toRGB=function(e,t,r){e=e>ut?ut:e,t=t>at?at:t,r=r>ft?ft:r,e=e/ut*360,t=t/at*100,r=r/ft*100;var i=n.round(r/100*255);if(t===0)return[i,i,i];var s=e%360,o=s%60,u=n.round(r*(100-t)/1e4*255),a=n.round(r*(6e3-t*o)/6e5*255),f=n.round(r*(6e3-t*(60-o))/6e5*255);switch(n.floor(s/60)){case 0:return[i,f,u];case 1:return[a,i,u];case 2:return[u,i,f];case 3:return[u,a,i];case 4:return[f,u,i];case 5:return[i,u,a]}},g.brightness=function(e){return Rr(e)[2]},g.saturation=function(e){return Rr(e)[1]},g.hue=function(e){return Rr(e)[0]},g.red=function(e){return(e>>16&255)/255*ut},g.green=function(e){return((e&65280)>>>8)/255*at},g.blue=function(e){return(e&255)/255*ft},g.alpha=function(e){return(e>>24&255)/255*ot},g.lerpColor=function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,y,b,w,E=g.color(e),S=g.color(t);return dt===3?(v=Rr(E),l=(E>>24&255)/ot,m=Rr(S),d=((S&4278190080)>>>24)/ot,b=g.lerp(v[0],m[0],n),w=g.lerp(v[1],m[1],n),s=g.lerp(v[2],m[2],n),y=g.color.toRGB(b,w,s),o=g.lerp(l,d,n)*ot,o<<24&4278190080|(y[0]&255)<<16|(y[1]&255)<<8|y[2]&255):(u=E>>16&255,a=E>>8&255,f=E&255,l=(E>>24&255)/ot,c=(S&16711680)>>>16,h=S>>8&255,p=S&255,d=(S>>24&255)/ot,r=g.lerp(u,c,n)|0,i=g.lerp(a,h,n)|0,s=g.lerp(f,p,n)|0,o=g.lerp(l,d,n)*ot,o<<24&4278190080|r<<16&16711680|i<<8&65280|s&255)},g.colorMode=function(){dt=arguments[0],arguments.length>1&&(ut=arguments[1],at=arguments[2]||arguments[1],ft=arguments[3]||arguments[1],ot=arguments[4]||arguments[1])},g.blendColor=function(e,t,n){if(n===0)return g.modes.replace(e,t);if(n===1)return g.modes.blend(e,t);if(n===2)return g.modes.add(e,t);if(n===4)return g.modes.subtract(e,t);if(n===8)return g.modes.lightest(e,t);if(n===16)return g.modes.darkest(e,t);if(n===32)return g.modes.difference(e,t);if(n===64)return g.modes.exclusion(e,t);if(n===128)return g.modes.multiply(e,t);if(n===256)return g.modes.screen(e,t);if(n===1024)return g.modes.hard_light(e,t);if(n===2048)return g.modes.soft_light(e,t);if(n===512)return g.modes.overlay(e,t);if(n===4096)return g.modes.dodge(e,t);if(n===8192)return g.modes.burn(e,t)},g.printMatrix=function(){_n.print()},Tr.prototype.translate=function(e,t){_n.translate(e,t),Dn.invTranslate(e,t),y.translate(e,t)},Nr.prototype.translate=function(e,t,n){_n.translate(e,t,n),Dn.invTranslate(e,t,n)},Tr.prototype.scale=function(e,t){_n.scale(e,t),Dn.invScale(e,t),y.scale(e,t||e)},Nr.prototype.scale=function(e,t,n){_n.scale(e,t,n),Dn.invScale(e,t,n)},Tr.prototype.transform=function(e){var t=e.array();y.transform(t[0],t[3],t[1],t[4],t[2],t[5])},Nr.prototype.transformm=function(e){throw"p.transform is currently not supported in 3D mode"},Tr.prototype.pushMatrix=function(){Pn.load(_n),Hn.load(Dn),Ur()},Nr.prototype.pushMatrix=function(){Pn.load(_n),Hn.load(Dn)},Tr.prototype.popMatrix=function(){_n.set(Pn.pop()),Dn.set(Hn.pop()),zr()},Nr.prototype.popMatrix=function(){_n.set(Pn.pop()),Dn.set(Hn.pop())},Tr.prototype.resetMatrix=function(){_n.reset(),Dn.reset(),y.setTransform(1,0,0,1,0,0)},Nr.prototype.resetMatrix=function(){_n.reset(),Dn.reset()},xr.prototype.applyMatrix=function(){var e=arguments;_n.apply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),Dn.invApply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},Tr.prototype.applyMatrix=function(){var e=arguments;for(var t=e.length;t<16;t++)e[t]=0;e[10]=e[15]=1,xr.prototype.applyMatrix.apply(this,e)},g.rotateX=function(e){_n.rotateX(e),Dn.invRotateX(e)},Tr.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."},Nr.prototype.rotateZ=function(e){_n.rotateZ(e),Dn.invRotateZ(e)},g.rotateY=function(e){_n.rotateY(e),Dn.invRotateY(e)},Tr.prototype.rotate=function(e){_n.rotateZ(e),Dn.invRotateZ(e),y.rotate(e)},Nr.prototype.rotate=function(e){g.rotateZ(e)},Tr.prototype.shearX=function(e){_n.shearX(e),y.transform(1,0,e,1,0,0)},Nr.prototype.shearX=function(e){_n.shearX(e)},Tr.prototype.shearY=function(e){_n.shearY(e),y.transform(1,e,0,1,0,0)},Nr.prototype.shearY=function(e){_n.shearY(e)},g.pushStyle=function(){Ur(),g.pushMatrix();var e={doFill:T,currentFillColor:k,doStroke:D,currentStrokeColor:H,curTint:vt,curRectMode:U,curColorMode:dt,colorModeX:ut,colorModeZ:ft,colorModeY:at,colorModeA:ot,curTextFont:un,horizontalTextAlignment:Yt,verticalTextAlignment:Zt,textMode:en,curFontName:tn,curTextSize:nn,curTextAscent:rn,curTextDescent:sn,curTextLeading:on};er.push(e)},g.popStyle=function(){var e=er.pop();if(!e)throw"Too many popStyle() without enough pushStyle()";zr(),g.popMatrix(),T=e.doFill,k=e.currentFillColor,D=e.doStroke,H=e.currentStrokeColor,vt=e.curTint,U=e.curRectMode,dt=e.curColorMode,ut=e.colorModeX,ft=e.colorModeZ,at=e.colorModeY,ot=e.colorModeA,un=e.curTextFont,tn=e.curFontName,nn=e.curTextSize,Yt=e.horizontalTextAlignment,Zt=e.verticalTextAlignment,en=e.textMode,rn=e.curTextAscent,sn=e.curTextDescent,on=e.curTextLeading},g.year=function(){return(new Date).getFullYear()},g.month=function(){return(new Date).getMonth()+1},g.day=function(){return(new Date).getDate()},g.hour=function(){return(new Date).getHours()},g.minute=function(){return(new Date).getMinutes()},g.second=function(){return(new Date).getSeconds()},g.millis=function(){return Date.now()-yt},Tr.prototype.redraw=function(){Wr(),y.lineWidth=j;var e=g.pmouseX,t=g.pmouseY;g.pmouseX=ht,g.pmouseY=pt,Ur(),g.draw(),zr(),ht=g.mouseX,pt=g.mouseY,g.pmouseX=e,g.pmouseY=t},Nr.prototype.redraw=function(){Wr();var e=g.pmouseX,t=g.pmouseY;g.pmouseX=ht,g.pmouseY=pt,y.clear(y.DEPTH_BUFFER_BIT),Lt={attributes:{},locations:{}},g.noLights(),g.lightFalloff(1,0,0),g.shininess(1),g.ambient(255,255,255),g.specular(0,0,0),g.emissive(0,0,0),g.camera(),g.draw(),ht=g.mouseX,pt=g.mouseY,g.pmouseX=e,g.pmouseY=t},g.noLoop=function(){q=!1,F=!1,clearInterval(R),w.onPause()},g.loop=function(){if(F)return;bt=Date.now(),wt=0,R=e.setInterval(function(){try{w.onFrameStart(),g.redraw(),w.onFrameEnd()}catch(t){throw e.clearInterval(R),t}},K),q=!0,F=!0,w.onLoop()},g.frameRate=function(e){J=e,K=1e3/J,q&&(g.noLoop(),g.loop())};var Xr=[];g.exit=function(){e.clearInterval(R),L(g.externals.canvas.id),delete a.onmousedown;for(var t in _.lib)_.lib.hasOwnProperty(t)&&_.lib[t].hasOwnProperty("detach")&&_.lib[t].detach(g);var n=Xr.length;while(n--)$r(Xr[n]);w.onExit()},g.cursor=function(){if(arguments.length>1||arguments.length===1&&arguments[0]instanceof g.PImage){var e=arguments[0],t,n;if(arguments.length>=3){t=arguments[1],n=arguments[2];if(t<0||n<0||n>=e.height||t>=e.width)throw"x and y must be non-negative and less than the dimensions of the image"}else t=e.width>>>1,n=e.height>>>1;var r=e.toDataURL(),i='url("'+r+'") '+t+" "+n+", default";Q=a.style.cursor=i}else if(arguments.length===1){var s=arguments[0];Q=a.style.cursor=s}else Q=a.style.cursor=G},g.noCursor=function(){Q=a.style.cursor=p.NOCURSOR},g.link=function(t,n){n!==r?e.open(t,n):e.location=t},g.beginDraw=i,g.endDraw=i,Tr.prototype.toImageData=function(e,t,n,i){return e=e!==r?e:0,t=t!==r?t:0,n=n!==r?n:g.width,i=i!==r?i:g.height,y.getImageData(e,t,n,i)},Nr.prototype.toImageData=function(e,i,s,o){e=e!==r?e:0,i=i!==r?i:0,s=s!==r?s:g.width,o=o!==r?o:g.height;var u=t.createElement("canvas"),a=u.getContext("2d"),f=a.createImageData(s,o),l=new h(s*o*4);y.readPixels(e,i,s,o,y.RGBA,y.UNSIGNED_BYTE,l);for(var c=0,p=l.length,d=f.data;c<p;c++)d[c]=l[(o-1-n.floor(c/4/s))*s*4+c%(s*4)];return f},g.status=function(t){e.status=t},g.binary=function(e,t){var n;if(t>0)n=t;else if(e instanceof Lr)n=16,e|=0;else{n=32;while(n>1&&!(e>>>n-1&1))n--}var r="";while(n>0)r+=e>>>--n&1?"1":"0";return r},g.unbinary=function(e){var t=e.length-1,n=1,r=0;while(t>=0){var i=e[t--];if(i!=="0"&&i!=="1")throw"the value passed into unbinary was not an 8 bit binary number";i==="1"&&(r+=n),n<<=1}return r},g.nf=function(e,t,n){return Kr(e,"","-",t,n)},g.nfs=function(e,t,n){return Kr(e," ","-",t,n)},g.nfp=function(e,t,n){return Kr(e,"+","-",t,n)},g.nfc=function(e,t,n){return Kr(e,"","-",t,n,",")};var Qr=function(e,t){t=t===r||t===null?t=8:t,e<0&&(e=4294967295+e+1);var n=Number(e).toString(16).toUpperCase();while(n.length<t)n="0"+n;return n.length>=t&&(n=n.substring(n.length-t,n.length)),n};g.hex=function(e,t){return arguments.length===1&&(e instanceof Lr?t=4:t=8),Qr(e,t)},g.unhex=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(Gr(e[n]));return t}return Gr(e)},g.loadStrings=function(e){if(localStorage[e])return localStorage[e].split("\n");var t=o(e);return typeof t!="string"||t===""?[]:(t=t.replace(/(\r\n?)/g,"\n").replace(/\n$/,""),t.split("\n"))},g.saveStrings=function(e,t){localStorage[e]=t.join("\n")},g.loadBytes=function(e){var t=o(e),n=[];for(var r=0;r<t.length;r++)n.push(t.charCodeAt(r));return n},g.matchAll=function(e,t){var n=[],r,i=new RegExp(t,"g");while((r=i.exec(e))!==null)n.push(r),r[0].length===0&&++i.lastIndex;return n.length>0?n:null},g.__contains=function(e,t){return typeof e!="string"?e.contains.apply(e,Yr(arguments)):e!==null&&t!==null&&typeof t=="string"&&e.indexOf(t)>-1},g.__replaceAll=function(e,t,n){return typeof e!="string"?e.replaceAll.apply(e,Yr(arguments)):e.replace(new RegExp(t,"g"),n)},g.__replaceFirst=function(e,t,n){return typeof e!="string"?e.replaceFirst.apply(e,Yr(arguments)):e.replace(new RegExp(t,""),n)},g.__replace=function(e,t,n){if(typeof e!="string")return e.replace.apply(e,Yr(arguments));if(t instanceof RegExp)return e.replace(t,n);typeof t!="string"&&(t=t.toString());if(t==="")return e;var r=e.indexOf(t);if(r<0)return e;var i=0,s="";do s+=e.substring(i,r)+n,i=r+t.length;while((r=e.indexOf(t,i))>=0);return s+e.substring(i)},g.__equals=function(e,t){return e.equals instanceof Function?e.equals.apply(e,Yr(arguments)):e.valueOf()===t.valueOf()},g.__equalsIgnoreCase=function(e,t){return typeof e!="string"?e.equalsIgnoreCase.apply(e,Yr(arguments)):e.toLowerCase()===t.toLowerCase()},g.__toCharArray=function(e){if(typeof e!="string")return e.toCharArray.apply(e,Yr(arguments));var t=[];for(var n=0,r=e.length;n<r;++n)t[n]=new Lr(e.charAt(n));return t},g.__split=function(e,t,n){if(typeof e!="string")return e.split.apply(e,Yr(arguments));var i=new RegExp(t);if(n===r||n<1)return e.split(i);var s=[],o=e,u;while((u=o.search(i))!==-1&&s.length<n-1){var a=i.exec(o).toString();s.push(o.substring(0,u)),o=o.substring(u+a.length)}return(u!==-1||o!=="")&&s.push(o),s},g.__codePointAt=function(e,t){var n=e.charCodeAt(t),r,i;return 55296<=n&&n<=56319?(r=n,i=e.charCodeAt(t+1),(r-55296)*1024+(i-56320)+65536):n},g.match=function(e,t){return e.match(t)},g.__matches=function(e,t){return(new RegExp(t)).test(e)},g.__startsWith=function(e,t,n){return typeof e!="string"?e.startsWith.apply(e,Yr(arguments)):(n=n||0,n<0||n>e.length?!1:t===""||t===e?!0:e.indexOf(t)===n)},g.__endsWith=function(e,t){if(typeof e!="string")return e.endsWith.apply(e,Yr(arguments));var n=t?t.length:0;return t===""||t===e?!0:e.indexOf(t)===e.length-n},g.__hashCode=function(e){return e.hashCode instanceof Function?e.hashCode.apply(e,Yr(arguments)):d(e)},g.__printStackTrace=function(e){g.println("Exception: "+e.toString())};var Zr=[];g.println=function(e){var t=Zr.length;t&&(_.logger.log(Zr.join("")),Zr.length=0),arguments.length===0&&t===0?_.logger.log(""):arguments.length!==0&&_.logger.log(e)},g.print=function(e){Zr.push(e)},g.str=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].toString()+"");return t}return e.toString()+""},g.trim=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return t}return e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},g.parseBoolean=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(ei(e[n]));return t}return ei(e)},g.parseByte=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(0-(e[n]&128)|e[n]&127);return t}return 0-(e&128)|e&127},g.parseChar=function(e){if(typeof e=="number")return new Lr(String.fromCharCode(e&65535));if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(new Lr(String.fromCharCode(e[n]&65535)));return t}throw"char() may receive only one argument of type int, byte, int[], or byte[]."},g.parseFloat=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(ti(e[n]));return t}return ti(e)},g.parseInt=function(e,t){if(e instanceof Array){var n=[];for(var r=0;r<e.length;r++)typeof e[r]=="string"&&!/^\s*[+\-]?\d+\s*$/.test(e[r])?n.push(0):n.push(ni(e[r],t));return n}return ni(e,t)},g.__int_cast=function(e){return 0|e},g.__instanceof=function(e,t){if(typeof t!="function")throw"Function is expected as type argument for instanceof operator";if(typeof e=="string")return t===Object||t===String;if(e instanceof t)return!0;if(typeof e!="object"||e===null)return!1;var n=e.constructor;if(t.$isInterface){var r=[];while(n)n.$interfaces&&(r=r.concat(n.$interfaces)),n=n.$base;while(r.length>0){var i=r.shift();if(i===t)return!0;i.$interfaces&&(r=r.concat(i.$interfaces))}return!1}while(n.hasOwnProperty("$base")){n=n.$base;if(n===t)return!0}return!1},g.abs=n.abs,g.ceil=n.ceil,g.constrain=function(e,t,n){return e>n?n:e<t?t:e},g.dist=function(){var e,t,r;if(arguments.length===4)return e=arguments[0]-arguments[2],t=arguments[1]-arguments[3],n.sqrt(e*e+t*t);if(arguments.length===6)return e=arguments[0]-arguments[3],t=arguments[1]-arguments[4],r=arguments[2]-arguments[5],n.sqrt(e*e+t*t+r*r)},g.exp=n.exp,g.floor=n.floor,g.lerp=function(e,t,n){return(t-e)*n+e},g.log=n.log,g.mag=function(e,t,r){return r?n.sqrt(e*e+t*t+r*r):n.sqrt(e*e+t*t)},g.map=function(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))},g.max=function(){if(arguments.length===2)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var e=arguments.length===1?arguments[0]:arguments;if("length"in e&&e.length>0){var t=e[0],n=e.length;for(var r=1;r<n;++r)t<e[r]&&(t=e[r]);return t}throw"Non-empty array is expected"},g.min=function(){if(arguments.length===2)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var e=arguments.length===1?arguments[0]:arguments;if("length"in e&&e.length>0){var t=e[0],n=e.length;for(var r=1;r<n;++r)t>e[r]&&(t=e[r]);return t}throw"Non-empty array is expected"},g.norm=function(e,t,n){return(e-t)/(n-t)},g.pow=n.pow,g.round=n.round,g.sq=function(e){return e*e},g.sqrt=n.sqrt,g.acos=n.acos,g.asin=n.asin,g.atan=n.atan,g.atan2=n.atan2,g.cos=n.cos,g.degrees=function(e){return e*180/n.PI},g.radians=function(e){return e/180*n.PI},g.sin=n.sin,g.tan=n.tan;var ri=n.random;g.random=function(){if(arguments.length===0)return ri();if(arguments.length===1)return ri()*arguments[0];var e=arguments[0],t=arguments[1];return ri()*(t-e)+e},ii.createRandomized=function(){var e=new Date;return new ii(e/6e4&4294967295,e&4294967295)},g.randomSeed=function(e){ri=(new ii(e)).nextDouble},g.Random=function(e){var t=!1,i,s;this.nextGaussian=function(){if(t)return t=!1,i;var e,r,o;do e=2*s()-1,r=2*s()-1,o=e*e+r*r;while(o>=1||o===0);var u=n.sqrt(-2*n.log(o)/o);return i=r*u,t=!0,e*u},s=e===r?n.random:(new ii(e)).nextDouble};var oi={generator:r,octaves:4,fallout:.5,seed:r};g.noise=function(e,t,n){oi.generator===r&&(oi.generator=new si(oi.seed));var i=oi.generator,s=1,o=1,u=0;for(var a=0;a<oi.octaves;++a){s*=oi.fallout;switch(arguments.length){case 1:u+=s*(1+i.noise1d(o*e))/2;break;case 2:u+=s*(1+i.noise2d(o*e,o*t))/2;break;case 3:u+=s*(1+i.noise3d(o*e,o*t,o*n))/2}o*=2}return u},g.noiseDetail=function(e,t){oi.octaves=e,t!==r&&(oi.fallout=t)},g.noiseSeed=function(e){oi.seed=e,oi.generator=r},xr.prototype.size=function(e,t,r){D&&g.stroke(0),T&&g.fill(255);var i={fillStyle:y.fillStyle,strokeStyle:y.strokeStyle,lineCap:y.lineCap,lineJoin:y.lineJoin};a.style.length>0&&(a.style.removeProperty("width"),a.style.removeProperty("height")),a.width=g.width=e||100,a.height=g.height=t||100;for(var s in i)i.hasOwnProperty(s)&&(y[s]=i[s]);g.textFont(un),g.background(),hn=n.max(1e3,e*t*.05),g.externals.context=y;for(var o=0;o<720;o++)Cn[o]=g.sin(o*(n.PI/180)*.5),kn[o]=g.cos(o*(n.PI/180)*.5)},Tr.prototype.size=function(e,t,n){y===r&&(y=a.getContext("2d"),Pn=new jr,Hn=new jr,_n=new Hr,Dn=new Hr),xr.prototype.size.apply(this,arguments)},Nr.prototype.size=function(){var e=!1;return function(n,r,i){function s(e){var t=["experimental-webgl","webgl","webkit-3d"],n;for(var r=0,i=t.length;r<i;r++){n=e.getContext(t[r],{antialias:!1,preserveDrawingBuffer:!0});if(n)break}return n}if(e)throw"Multiple calls to size() for 3D renders are not allowed.";e=!0;try{a.width=g.width=n||100,a.height=g.height=r||100,y=s(a),Wt=y.createTexture(),Xt=y.createTexture()}catch(o){_.debug(o)}if(!y)throw"WebGL context is not supported on this browser.";y.viewport(0,0,a.width,a.height),y.enable(y.DEPTH_TEST),y.enable(y.BLEND),y.blendFunc(y.SRC_ALPHA,y.ONE_MINUS_SRC_ALPHA),Ot=yr(y,ar,fr),Mt=yr(y,or,ur),g.strokeWeight(1),At=yr(y,cr,hr),y.useProgram(At),dr("usingTexture3d",At,"usingTexture",Jt),g.lightFalloff(1,0,0),g.shininess(1),g.ambient(255,255,255),g.specular(0,0,0),g.emissive(0,0,0),_t=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,_t),y.bufferData(y.ARRAY_BUFFER,tr,y.STATIC_DRAW),Dt=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Dt),y.bufferData(y.ARRAY_BUFFER,rr,y.STATIC_DRAW),Pt=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Pt),y.bufferData(y.ARRAY_BUFFER,nr,y.STATIC_DRAW),Ht=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Ht),y.bufferData(y.ARRAY_BUFFER,ir,y.STATIC_DRAW),Bt=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Bt),y.bufferData(y.ARRAY_BUFFER,sr,y.STATIC_DRAW),jt=y.createBuffer(),Ft=y.createBuffer(),It=y.createBuffer(),qt=y.createBuffer(),Rt=y.createBuffer(),zt=y.createBuffer(),Ut=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Ut),y.bufferData(y.ARRAY_BUFFER,new f([0,0,0]),y.STATIC_DRAW),Kt=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Kt),y.bufferData(y.ARRAY_BUFFER,new f([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),y.STATIC_DRAW),Qt=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Qt),y.bufferData(y.ARRAY_BUFFER,new f([0,0,1,0,1,1,0,1]),y.STATIC_DRAW),Gt=y.createBuffer(),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,Gt),y.bufferData(y.ELEMENT_ARRAY_BUFFER,new c([0,1,2,2,3,0]),y.STATIC_DRAW),On=new Br,Mn=new Br,_n=new Br,Dn=new Br,jn=new Br,g.camera(),g.perspective(),Pn=new jr,Hn=new jr,St=new Br,xt=new Br,Tt=new Br,Nt=new Br,Ct=new Br,kt=new Br,kt.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),xr.prototype.size.apply(this,arguments)}}(),Tr.prototype.ambientLight=xr.prototype.a3DOnlyFunction,Nr.prototype.ambientLight=function(e,t,n,r,i,s){if(wn===8)throw"can only create 8 lights";var o=new b(r,i,s),u=new Br;u.scale(1,-1,1),u.apply(_n.array()),u.mult(o,o);var a=Fr(e,t,n,0),f=[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255];y.useProgram(At),pr("uLights.color.3d."+wn,At,"uLights"+wn+".color",f),pr("uLights.position.3d."+wn,At,"uLights"+wn+".position",o.array()),dr("uLights.type.3d."+wn,At,"uLights"+wn+".type",0),dr("uLightCount3d",At,"uLightCount",++wn)},Tr.prototype.directionalLight=xr.prototype.a3DOnlyFunction,Nr.prototype.directionalLight=function(e,t,n,r,i,s){if(wn===8)throw"can only create 8 lights";y.useProgram(At);var o=new Br;o.scale(1,-1,1),o.apply(_n.array()),o=o.array();var u=[o[0]*r+o[4]*i+o[8]*s,o[1]*r+o[5]*i+o[9]*s,o[2]*r+o[6]*i+o[10]*s],a=Fr(e,t,n,0),f=[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255];pr("uLights.color.3d."+wn,At,"uLights"+wn+".color",f),pr("uLights.position.3d."+wn,At,"uLights"+wn+".position",u),dr("uLights.type.3d."+wn,At,"uLights"+wn+".type",1),dr("uLightCount3d",At,"uLightCount",++wn)},Tr.prototype.lightFalloff=xr.prototype.a3DOnlyFunction,Nr.prototype.lightFalloff=function(e,t,n){y.useProgram(At),pr("uFalloff3d",At,"uFalloff",[e,t,n])},Tr.prototype.lightSpecular=xr.prototype.a3DOnlyFunction,Nr.prototype.lightSpecular=function(e,t,n){var r=Fr(e,t,n,0),i=[(r>>16&255)/255,(r>>8&255)/255,(r&255)/255];y.useProgram(At),pr("uSpecular3d",At,"uSpecular",i)},g.lights=function(){g.ambientLight(128,128,128),g.directionalLight(128,128,128,0,0,-1),g.lightFalloff(1,0,0),g.lightSpecular(0,0,0)},Tr.prototype.pointLight=xr.prototype.a3DOnlyFunction,Nr.prototype.pointLight=function(e,t,n,r,i,s){if(wn===8)throw"can only create 8 lights";var o=new b(r,i,s),u=new Br;u.scale(1,-1,1),u.apply(_n.array()),u.mult(o,o);var a=Fr(e,t,n,0),f=[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255];y.useProgram(At),pr("uLights.color.3d."+wn,At,"uLights"+wn+".color",f),pr("uLights.position.3d."+wn,At,"uLights"+wn+".position",o.array()),dr("uLights.type.3d."+wn,At,"uLights"+wn+".type",2),dr("uLightCount3d",At,"uLightCount",++wn)},Tr.prototype.noLights=xr.prototype.a3DOnlyFunction,Nr.prototype.noLights=function(){wn=0,y.useProgram(At),dr("uLightCount3d",At,"uLightCount",wn)},Tr.prototype.spotLight=xr.prototype.a3DOnlyFunction,Nr.prototype.spotLight=function(e,t,n,r,i,s,o,u,a,f,l){if(wn===8)throw"can only create 8 lights";y.useProgram(At);var c=new b(r,i,s),h=new Br;h.scale(1,-1,1),h.apply(_n.array()),h.mult(c,c),h=h.array();var p=[h[0]*o+h[4]*u+h[8]*a,h[1]*o+h[5]*u+h[9]*a,h[2]*o+h[6]*u+h[10]*a],d=Fr(e,t,n,0),v=[(d>>16&255)/255,(d>>8&255)/255,(d&255)/255];pr("uLights.color.3d."+wn,At,"uLights"+wn+".color",v),pr("uLights.position.3d."+wn,At,"uLights"+wn+".position",c.array()),pr("uLights.direction.3d."+wn,At,"uLights"+wn+".direction",p),pr("uLights.concentration.3d."+wn,At,"uLights"+wn+".concentration",l),pr("uLights.angle.3d."+wn,At,"uLights"+wn+".angle",f),dr("uLights.type.3d."+wn,At,"uLights"+wn+".type",3),dr("uLightCount3d",At,"uLightCount",++wn)},Tr.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"},Nr.prototype.beginCamera=function(){if(Fn)throw"You cannot call beginCamera() again before calling endCamera()";Fn=!0,_n=Mn,Dn=On},Tr.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"},Nr.prototype.endCamera=function(){if(!Fn)throw"You cannot call endCamera() before calling beginCamera()";_n.set(On),Dn.set(Mn),Fn=!1},g.camera=function(e,t,i,s,o,u,a,f,l){e===r&&(Rn=g.width/2,Un=g.height/2,zn=Un/n.tan(qn/2),e=Rn,t=Un,i=zn,s=Rn,o=Un,u=0,a=0,f=1,l=0);var c=new b(e-s,t-o,i-u),h=new b(a,f,l);c.normalize();var p=b.cross(h,c);h=b.cross(c,p),p.normalize(),h.normalize();var d=p.x,v=p.y,m=p.z,y=h.x,w=h.y,E=h.z,S=c.x,x=c.y,T=c.z;On.set(d,v,m,0,y,w,E,0,S,x,T,0,0,0,0,1),On.translate(-e,-t,-i),Mn.reset(),Mn.invApply(d,v,m,0,y,w,E,0,S,x,T,0,0,0,0,1),Mn.translate(e,t,i),_n.set(On),Dn.set(Mn)},g.perspective=function(e,t,r,i){arguments.length===0&&(Un=a.height/2,zn=Un/n.tan(qn/2),Wn=zn/10,Xn=zn*10,Vn=g.width/g.height,e=qn,t=Vn,r=Wn,i=Xn);var s,o,u,f;s=r*n.tan(e/2),o=-s,u=s*t,f=o*t,g.frustum(f,u,o,s,r,i)},Tr.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"},Nr.prototype.frustum=function(e,t,n,r,i,s){In=!0,jn=new Br,jn.set(2*i/(t-e),0,(t+e)/(t-e),0,0,2*i/(r-n),(r+n)/(r-n),0,0,0,-(s+i)/(s-i),-(2*s*i)/(s-i),0,0,-1,0);var o=new Br;o.set(jn),o.transpose(),y.useProgram(Ot),vr("projection2d",Ot,"uProjection",!1,o.array()),y.useProgram(At),vr("projection3d",At,"uProjection",!1,o.array()),y.useProgram(Mt),vr("uProjectionUS",Mt,"uProjection",!1,o.array())},g.ortho=function(e,t,n,r,i,s){arguments.length===0&&(e=0,t=g.width,n=0,r=g.height,i=-10,s=10);var o=2/(t-e),u=2/(r-n),a=-2/(s-i),f=-(t+e)/(t-e),l=-(r+n)/(r-n),c=-(s+i)/(s-i);jn=new Br,jn.set(o,0,0,f,0,u,0,l,0,0,a,c,0,0,0,1);var h=new Br;h.set(jn),h.transpose(),y.useProgram(Ot),vr("projection2d",Ot,"uProjection",!1,h.array()),y.useProgram(At),vr("projection3d",At,"uProjection",!1,h.array()),y.useProgram(Mt),vr("uProjectionUS",Mt,"uProjection",!1,h.array()),In=!1},g.printProjection=function(){jn.print()},g.printCamera=function(){On.print()},Tr.prototype.box=xr.prototype.a3DOnlyFunction,Nr.prototype.box=function(e,t,n){if(!t||!n)t=n=e;var r=new Br;r.scale(e,t,n);var i=new Br;i.scale(1,-1,1),i.apply(_n.array()),i.transpose();if(T){y.useProgram(At),vr("model3d",At,"uModel",!1,r.array()),vr("view3d",At,"uView",!1,i.array()),y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(1,1),pr("color3d",At,"uColor",C);if(wn>0){var s=new Br;s.set(i);var o=new Br;o.set(r),s.mult(o);var u=new Br;u.set(s),u.invert(),u.transpose(),vr("uNormalTransform3d",At,"uNormalTransform",!1,u.array()),mr("aNormal3d",At,"aNormal",3,Dt)}else gr("aNormal3d",At,"aNormal");mr("aVertex3d",At,"aVertex",3,_t),gr("aColor3d",At,"aColor"),gr("aTexture3d",At,"aTexture"),y.drawArrays(y.TRIANGLES,0,tr.length/3),y.disable(y.POLYGON_OFFSET_FILL)}j>0&&D&&(y.useProgram(Ot),vr("uModel2d",Ot,"uModel",!1,r.array()),vr("uView2d",Ot,"uView",!1,i.array()),pr("uColor2d",Ot,"uColor",P),dr("uIsDrawingText2d",Ot,"uIsDrawingText",!1),mr("vertex2d",Ot,"aVertex",3,Pt),gr("aTextureCoord2d",Ot,"aTextureCoord"),y.drawArrays(y.LINES,0,nr.length/3))};var ui=function(){var e;Ln=[];for(e=0;e<Sn;e++)Ln.push(0),Ln.push(-1),Ln.push(0),Ln.push(xn[e]),Ln.push(Tn[e]),Ln.push(Nn[e]);Ln.push(0),Ln.push(-1),Ln.push(0),Ln.push(xn[0]),Ln.push(Tn[0]),Ln.push(Nn[0]);var t,n,r,i=0;for(e=2;e<En;e++){t=n=i,i+=Sn,r=i;for(var s=0;s<Sn;s++)Ln.push(xn[t]),Ln.push(Tn[t]),Ln.push(Nn[t++]),Ln.push(xn[r]),Ln.push(Tn[r]),Ln.push(Nn[r++]);t=n,r=i,Ln.push(xn[t]),Ln.push(Tn[t]),Ln.push(Nn[t]),Ln.push(xn[r]),Ln.push(Tn[r]),Ln.push(Nn[r])}for(e=0;e<Sn;e++)r=i+e,Ln.push(xn[r]),Ln.push(Tn[r]),Ln.push(Nn[r]),Ln.push(0),Ln.push(1),Ln.push(0);Ln.push(xn[i]),Ln.push(Tn[i]),Ln.push(Nn[i]),Ln.push(0),Ln.push(1),Ln.push(0),y.bindBuffer(y.ARRAY_BUFFER,jt),y.bufferData(y.ARRAY_BUFFER,new f(Ln),y.STATIC_DRAW)};g.sphereDetail=function(e,t){var n;arguments.length===1&&(e=t=arguments[0]),e<3&&(e=3),t<2&&(t=2);if(e===Sn&&t===En)return;var r=720/e,i=new f(e),s=new f(e);for(n=0;n<e;n++)i[n]=kn[n*r%720|0],s[n]=Cn[n*r%720|0];var o=e*(t-1)+2,u=0;xn=new f(o),Tn=new f(o),Nn=new f(o);var a=360/t,l=a;for(n=1;n<t;n++){var c=Cn[l%720|0],h=-kn[l%720|0];for(var p=0;p<e;p++)xn[u]=i[p]*c,Tn[u]=h,Nn[u++]=s[p]*c;l+=a}Sn=e,En=t,ui()},Tr.prototype.sphere=xr.prototype.a3DOnlyFunction,Nr.prototype.sphere=function(){var e=arguments[0];(Sn<3||En<2)&&g.sphereDetail(30);var t=new Br;t.scale(e,e,e);var n=new Br;n.scale(1,-1,1),n.apply(_n.array()),n.transpose();if(T){if(wn>0){var r=new Br;r.set(n);var i=new Br;i.set(t),r.mult(i);var s=new Br;s.set(r),s.invert(),s.transpose(),vr("uNormalTransform3d",At,"uNormalTransform",!1,s.array()),mr("aNormal3d",At,"aNormal",3,jt)}else gr("aNormal3d",At,"aNormal");y.useProgram(At),gr("aTexture3d",At,"aTexture"),vr("uModel3d",At,"uModel",!1,t.array()),vr("uView3d",At,"uView",!1,n.array()),mr("aVertex3d",At,"aVertex",3,jt),gr("aColor3d",At,"aColor"),y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(1,1),pr("uColor3d",At,"uColor",C),y.drawArrays(y.TRIANGLE_STRIP,0,Ln.length/3),y.disable(y.POLYGON_OFFSET_FILL)}j>0&&D&&(y.useProgram(Ot),vr("uModel2d",Ot,"uModel",!1,t.array()),vr("uView2d",Ot,"uView",!1,n.array()),mr("aVertex2d",Ot,"aVertex",3,jt),gr("aTextureCoord2d",Ot,"aTextureCoord"),pr("uColor2d",Ot,"uColor",P),dr("uIsDrawingText",Ot,"uIsDrawingText",!1),y.drawArrays(y.LINE_STRIP,0,Ln.length/3))},g.modelX=function(e,t,n){var r=_n.array(),i=Mn.array(),s=r[0]*e+r[1]*t+r[2]*n+r[3],o=r[4]*e+r[5]*t+r[6]*n+r[7],u=r[8]*e+r[9]*t+r[10]*n+r[11],a=r[12]*e+r[13]*t+r[14]*n+r[15],f=i[0]*s+i[1]*o+i[2]*u+i[3]*a,l=i[12]*s+i[13]*o+i[14]*u+i[15]*a;return l!==0?f/l:f},g.modelY=function(e,t,n){var r=_n.array(),i=Mn.array(),s=r[0]*e+r[1]*t+r[2]*n+r[3],o=r[4]*e+r[5]*t+r[6]*n+r[7],u=r[8]*e+r[9]*t+r[10]*n+r[11],a=r[12]*e+r[13]*t+r[14]*n+r[15],f=i[4]*s+i[5]*o+i[6]*u+i[7]*a,l=i[12]*s+i[13]*o+i[14]*u+i[15]*a;return l!==0?f/l:f},g.modelZ=function(e,t,n){var r=_n.array(),i=Mn.array(),s=r[0]*e+r[1]*t+r[2]*n+r[3],o=r[4]*e+r[5]*t+r[6]*n+r[7],u=r[8]*e+r[9]*t+r[10]*n+r[11],a=r[12]*e+r[13]*t+r[14]*n+r[15],f=i[8]*s+i[9]*o+i[10]*u+i[11]*a,l=i[12]*s+i[13]*o+i[14]*u+i[15]*a;return l!==0?f/l:f},Tr.prototype.ambient=xr.prototype.a3DOnlyFunction,Nr.prototype.ambient=function(e,t,n){y.useProgram(At),dr("uUsingMat3d",At,"uUsingMat",!0);var r=g.color(e,t,n);pr("uMaterialAmbient3d",At,"uMaterialAmbient",g.color.toGLArray(r).slice(0,3))},Tr.prototype.emissive=xr.prototype.a3DOnlyFunction,Nr.prototype.emissive=function(e,t,n){y.useProgram(At),dr("uUsingMat3d",At,"uUsingMat",!0);var r=g.color(e,t,n);pr("uMaterialEmissive3d",At,"uMaterialEmissive",g.color.toGLArray(r).slice(0,3))},Tr.prototype.shininess=xr.prototype.a3DOnlyFunction,Nr.prototype.shininess=function(e){y.useProgram(At),dr("uUsingMat3d",At,"uUsingMat",!0),pr("uShininess3d",At,"uShininess",e)},Tr.prototype.specular=xr.prototype.a3DOnlyFunction,Nr.prototype.specular=function(e,t,n){y.useProgram(At),dr("uUsingMat3d",At,"uUsingMat",!0);var r=g.color(e,t,n);pr("uMaterialSpecular3d",At,"uMaterialSpecular",g.color.toGLArray(r).slice(0,3))},g.screenX=function(e,t,n){var r=_n.array();if(r.length===16){var i=r[0]*e+r[1]*t+r[2]*n+r[3],s=r[4]*e+r[5]*t+r[6]*n+r[7],o=r[8]*e+r[9]*t+r[10]*n+r[11],u=r[12]*e+r[13]*t+r[14]*n+r[15],a=jn.array(),f=a[0]*i+a[1]*s+a[2]*o+a[3]*u,l=a[12]*i+a[13]*s+a[14]*o+a[15]*u;return l!==0&&(f/=l),g.width*(1+f)/2}return _n.multX(e,t)},g.screenY=function(t,n,r){var i=_n.array();if(i.length===16){var s=i[0]*t+i[1]*n+i[2]*r+i[3],o=i[4]*t+i[5]*n+i[6]*r+i[7],u=i[8]*t+i[9]*n+i[10]*r+i[11],a=i[12]*t+i[13]*n+i[14]*r+i[15],f=jn.array(),l=f[4]*s+f[5]*o+f[6]*u+f[7]*a,c=f[12]*s+f[13]*o+f[14]*u+f[15]*a;return c!==0&&(l/=c),g.height*(1+l)/2}return _n.multY(t,n)},g.screenZ=function(t,n,r){var i=_n.array();if(i.length!==16)return 0;var s=jn.array(),o=i[0]*t+i[1]*n+i[2]*r+i[3],u=i[4]*t+i[5]*n+i[6]*r+i[7],a=i[8]*t+i[9]*n+i[10]*r+i[11],f=i[12]*t+i[13]*n+i[14]*r+i[15],l=s[8]*o+s[9]*u+s[10]*a+s[11]*f,c=s[12]*o+s[13]*u+s[14]*a+s[15]*f;return c!==0&&(l/=c),(l+1)/2},xr.prototype.fill=function(){var e=g.color(arguments[0],arguments[1],arguments[2],arguments[3]);if(e===k&&T)return;T=!0,k=e},Tr.prototype.fill=function(){xr.prototype.fill.apply(this,arguments),O=!0},Nr.prototype.fill=function(){xr.prototype.fill.apply(this,arguments),C=g.color.toGLArray(k)},g.noFill=function(){T=!1},xr.prototype.stroke=function(){var e=g.color(arguments[0],arguments[1],arguments[2],arguments[3]);if(e===H&&D)return;D=!0,H=e},Tr.prototype.stroke=function(){xr.prototype.stroke.apply(this,arguments),B=!0},Nr.prototype.stroke=function(){xr.prototype.stroke.apply(this,arguments),P=g.color.toGLArray(H)},g.noStroke=function(){D=!1},xr.prototype.strokeWeight=function(e){j=e},Tr.prototype.strokeWeight=function(e){xr.prototype.strokeWeight.apply(this,arguments),y.lineWidth=e},Nr.prototype.strokeWeight=function(e){xr.prototype.strokeWeight.apply(this,arguments),y.useProgram(Ot),pr("pointSize2d",Ot,"uPointSize",e),y.useProgram(Mt),pr("pointSizeUnlitShape",Mt,"uPointSize",e),y.lineWidth(e)},g.strokeCap=function(e){S.$ensureContext().lineCap=e},g.strokeJoin=function(e){S.$ensureContext().lineJoin=e},Tr.prototype.smooth=function(){I=!0;var e=a.style;e.setProperty("image-rendering","optimizeQuality","important"),e.setProperty("-ms-interpolation-mode","bicubic","important"),y.hasOwnProperty("mozImageSmoothingEnabled")&&(y.mozImageSmoothingEnabled=!0)},Nr.prototype.smooth=function(){I=!0},Tr.prototype.noSmooth=function(){I=!1;var e=a.style;e.setProperty("image-rendering","optimizeSpeed","important"),e.setProperty("image-rendering","-moz-crisp-edges","important"),e.setProperty("image-rendering","-webkit-optimize-contrast","important"),e.setProperty("image-rendering","optimize-contrast","important"),e.setProperty("-ms-interpolation-mode","nearest-neighbor","important"),y.hasOwnProperty("mozImageSmoothingEnabled")&&(y.mozImageSmoothingEnabled=!1)},Nr.prototype.noSmooth=function(){I=!1},Tr.prototype.point=function(e,t){if(!D)return;e=n.round(e),t=n.round(t),y.fillStyle=g.color.toString(H),O=!0,j>1?(y.beginPath(),y.arc(e,t,j/2,0,6.283185307179586,!1),y.fill()):y.fillRect(e,t,1,1)},Nr.prototype.point=function(e,t,n){var r=new Br;r.translate(e,t,n||0),r.transpose();var i=new Br;i.scale(1,-1,1),i.apply(_n.array()),i.transpose(),y.useProgram(Ot),vr("uModel2d",Ot,"uModel",!1,r.array()),vr("uView2d",Ot,"uView",!1,i.array()),j>0&&D&&(pr("uColor2d",Ot,"uColor",P),dr("uIsDrawingText2d",Ot,"uIsDrawingText",!1),dr("uSmooth2d",Ot,"uSmooth",I),mr("aVertex2d",Ot,"aVertex",3,Ut),gr("aTextureCoord2d",Ot,"aTextureCoord"),y.drawArrays(y.POINTS,0,1))},g.beginShape=function(e){Y=e,et=[],$n=[]},Tr.prototype.vertex=function(e,t,n){var r=[];Yn&&(Yn=!1),r.isVert=!0,r[0]=e,r[1]=t,r[2]=0,r[3]=0,r[4]=0,r[5]=k,r[6]=H,$n.push(r),n&&($n[$n.length-1].moveTo=n)},Nr.prototype.vertex=function(e,t,n,i,s){var o=[];Yn&&(Yn=!1),o.isVert=!0,s===r&&Jt&&(s=i,i=n,n=0),i!==r&&s!==r&&($t===2&&(i/=Vt.width,s/=Vt.height),i=i>1?1:i,i=i<0?0:i,s=s>1?1:s,s=s<0?0:s),o[0]=e,o[1]=t,o[2]=n||0,o[3]=i||0,o[4]=s||0,o[5]=C[0],o[6]=C[1],o[7]=C[2],o[8]=C[3],o[9]=P[0],o[10]=P[1],o[11]=P[2],o[12]=P[3],o[13]=W,o[14]=X,o[15]=V,$n.push(o)};var li=function(e,t){var n=new Br;n.scale(1,-1,1),n.apply(_n.array()),n.transpose(),y.useProgram(Mt),vr("uViewUS",Mt,"uView",!1,n.array()),dr("uSmoothUS",Mt,"uSmooth",I),mr("aVertexUS",Mt,"aVertex",3,Ut),y.bufferData(y.ARRAY_BUFFER,new f(e),y.STREAM_DRAW),mr("aColorUS",Mt,"aColor",4,qt),y.bufferData(y.ARRAY_BUFFER,new f(t),y.STREAM_DRAW),y.drawArrays(y.POINTS,0,e.length/3)},ci=function(e,t,n){var r;t==="LINES"?r=y.LINES:t==="LINE_LOOP"?r=y.LINE_LOOP:r=y.LINE_STRIP;var i=new Br;i.scale(1,-1,1),i.apply(_n.array()),i.transpose(),y.useProgram(Mt),vr("uViewUS",Mt,"uView",!1,i.array()),mr("aVertexUS",Mt,"aVertex",3,Ft),y.bufferData(y.ARRAY_BUFFER,new f(e),y.STREAM_DRAW),mr("aColorUS",Mt,"aColor",4,Rt),y.bufferData(y.ARRAY_BUFFER,new f(n),y.STREAM_DRAW),y.drawArrays(r,0,e.length/3)},hi=function(e,t,n,r){var i;t==="TRIANGLES"?i=y.TRIANGLES:t==="TRIANGLE_FAN"?i=y.TRIANGLE_FAN:i=y.TRIANGLE_STRIP;var s=new Br;s.scale(1,-1,1),s.apply(_n.array()),s.transpose(),y.useProgram(At),vr("model3d",At,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),vr("view3d",At,"uView",!1,s.array()),y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(1,1),pr("color3d",At,"uColor",[-1,0,0,0]),mr("vertex3d",At,"aVertex",3,It),y.bufferData(y.ARRAY_BUFFER,new f(e),y.STREAM_DRAW),Jt&&vt!==null&&mt(n),mr("aColor3d",At,"aColor",4,qt),y.bufferData(y.ARRAY_BUFFER,new f(n),y.STREAM_DRAW),gr("aNormal3d",At,"aNormal"),Jt&&(dr("uUsingTexture3d",At,"uUsingTexture",Jt),mr("aTexture3d",At,"aTexture",2,zt),y.bufferData(y.ARRAY_BUFFER,new f(r),y.STREAM_DRAW)),y.drawArrays(i,0,e.length/3),y.disable(y.POLYGON_OFFSET_FILL)};Tr.prototype.endShape=function(e){if($n.length===0)return;var t=e===2;t&&$n.push($n[0]);var n=[],i=[],s=[],o=[],u=[],a;Yn=!0;var f,l,c,h=$n.length;for(f=0;f<h;f++){a=$n[f];for(l=0;l<3;l++)i.push(a[l])}for(f=0;f<h;f++){a=$n[f];for(l=5;l<9;l++)s.push(a[l])}for(f=0;f<h;f++){a=$n[f];for(l=9;l<13;l++)o.push(a[l])}for(f=0;f<h;f++)a=$n[f],u.push(a[3]),u.push(a[4]);if(!Qn||Y!==20&&Y!==r)if(!Gn||Y!==20&&Y!==r)if(Y===2)for(f=0;f<h;f++)a=$n[f],D&&g.stroke(a[6]),g.point(a[0],a[1]);else if(Y===4)for(f=0;f+1<h;f+=2)a=$n[f],D&&g.stroke($n[f+1][6]),g.line(a[0],a[1],$n[f+1][0],$n[f+1][1]);else if(Y===9)for(f=0;f+2<h;f+=3)a=$n[f],y.beginPath(),y.moveTo(a[0],a[1]),y.lineTo($n[f+1][0],$n[f+1][1]),y.lineTo($n[f+2][0],$n[f+2][1]),y.lineTo(a[0],a[1]),T&&(g.fill($n[f+2][5]),ai()),D&&(g.stroke($n[f+2][6]),fi()),y.closePath();else if(Y===10)for(f=0;f+1<h;f++)a=$n[f],y.beginPath(),y.moveTo($n[f+1][0],$n[f+1][1]),y.lineTo(a[0],a[1]),D&&g.stroke($n[f+1][6]),T&&g.fill($n[f+1][5]),f+2<h&&(y.lineTo($n[f+2][0],$n[f+2][1]),D&&g.stroke($n[f+2][6]),T&&g.fill($n[f+2][5])),pi();else if(Y===11){if(h>2){y.beginPath(),y.moveTo($n[0][0],$n[0][1]),y.lineTo($n[1][0],$n[1][1]),y.lineTo($n[2][0],$n[2][1]),T&&(g.fill($n[2][5]),ai()),D&&(g.stroke($n[2][6]),fi()),y.closePath();for(f=3;f<h;f++)a=$n[f],y.beginPath(),y.moveTo($n[0][0],$n[0][1]),y.lineTo($n[f-1][0],$n[f-1][1]),y.lineTo(a[0],a[1]),T&&(g.fill(a[5]),ai()),D&&(g.stroke(a[6]),fi()),y.closePath()}}else if(Y===16)for(f=0;f+3<h;f+=4){a=$n[f],y.beginPath(),y.moveTo(a[0],a[1]);for(l=1;l<4;l++)y.lineTo($n[f+l][0],$n[f+l][1]);y.lineTo(a[0],a[1]),T&&(g.fill($n[f+3][5]),ai()),D&&(g.stroke($n[f+3][6]),fi()),y.closePath()}else if(Y===17){if(h>3)for(f=0;f+1<h;f+=2)a=$n[f],y.beginPath(),f+3<h?(y.moveTo($n[f+2][0],$n[f+2][1]),y.lineTo(a[0],a[1]),y.lineTo($n[f+1][0],$n[f+1][1]),y.lineTo($n[f+3][0],$n[f+3][1]),T&&g.fill($n[f+3][5]),D&&g.stroke($n[f+3][6])):(y.moveTo(a[0],a[1]),y.lineTo($n[f+1][0],$n[f+1][1])),pi()}else{y.beginPath(),y.moveTo($n[0][0],$n[0][1]);for(f=1;f<h;f++)a=$n[f],a.isVert&&(a.moveTo?y.moveTo(a[0],a[1]):y.lineTo(a[0],a[1]));pi()}else{y.beginPath();for(f=0;f<h;f++)a=$n[f],$n[f].isVert?$n[f].moveTo?y.moveTo(a[0],a[1]):y.lineTo(a[0],a[1]):y.bezierCurveTo($n[f][0],$n[f][1],$n[f][2],$n[f][3],$n[f][4],$n[f][5]);pi()}else if(h>3){var p=[],d=1-tt;y.beginPath(),y.moveTo($n[1][0],$n[1][1]);for(f=1;f+2<h;f++)a=$n[f],p[0]=[a[0],a[1]],p[1]=[a[0]+(d*$n[f+1][0]-d*$n[f-1][0])/6,a[1]+(d*$n[f+1][1]-d*$n[f-1][1])/6],p[2]=[$n[f+1][0]+(d*$n[f][0]-d*$n[f+2][0])/6,$n[f+1][1]+(d*$n[f][1]-d*$n[f+2][1])/6],p[3]=[$n[f+1][0],$n[f+1][1]],y.bezierCurveTo(p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]);pi()}Qn=!1,Gn=!1,Jn=[],Kn=0,t&&$n.pop()},Nr.prototype.endShape=function(e){if($n.length===0)return;var t=e===2,n=[],i=[],s=[],o=[],u=[],a;Yn=!0;var f,l,c,h=$n.length;for(f=0;f<h;f++){a=$n[f];for(l=0;l<3;l++)i.push(a[l])}for(f=0;f<h;f++){a=$n[f];for(l=5;l<9;l++)s.push(a[l])}for(f=0;f<h;f++){a=$n[f];for(l=9;l<13;l++)o.push(a[l])}for(f=0;f<h;f++)a=$n[f],u.push(a[3]),u.push(a[4]);if(t){i.push($n[0][0]),i.push($n[0][1]),i.push($n[0][2]);for(f=5;f<9;f++)s.push($n[0][f]);for(f=9;f<13;f++)o.push($n[0][f]);u.push($n[0][3]),u.push($n[0][4])}if(!Qn||Y!==20&&Y!==r)if(!Gn||Y!==20&&Y!==r){if(Y===2){for(f=0;f<h;f++){a=$n[f];for(l=0;l<3;l++)n.push(a[l])}li(n,o)}else if(Y===4){for(f=0;f<h;f++){a=$n[f];for(l=0;l<3;l++)n.push(a[l])}for(f=0;f<h;f++){a=$n[f];for(l=5;l<9;l++)s.push(a[l])}ci(n,"LINES",o)}else if(Y===9){if(h>2)for(f=0;f+2<h;f+=3){i=[],u=[],n=[],s=[],o=[];for(l=0;l<3;l++)for(c=0;c<3;c++)n.push($n[f+l][c]),i.push($n[f+l][c]);for(l=0;l<3;l++)for(c=3;c<5;c++)u.push($n[f+l][c]);for(l=0;l<3;l++)for(c=5;c<9;c++)s.push($n[f+l][c]),o.push($n[f+l][c+4]);D&&ci(n,"LINE_LOOP",o),(T||Jt)&&hi(i,"TRIANGLES",s,u)}}else if(Y===10){if(h>2)for(f=0;f+2<h;f++){n=[],i=[],o=[],s=[],u=[];for(l=0;l<3;l++)for(c=0;c<3;c++)n.push($n[f+l][c]),i.push($n[f+l][c]);for(l=0;l<3;l++)for(c=3;c<5;c++)u.push($n[f+l][c]);for(l=0;l<3;l++)for(c=5;c<9;c++)o.push($n[f+l][c+4]),s.push($n[f+l][c]);(T||Jt)&&hi(i,"TRIANGLE_STRIP",s,u),D&&ci(n,"LINE_LOOP",o)}}else if(Y===11){if(h>2){for(f=0;f<3;f++){a=$n[f];for(l=0;l<3;l++)n.push(a[l])}for(f=0;f<3;f++){a=$n[f];for(l=9;l<13;l++)o.push(a[l])}D&&ci(n,"LINE_LOOP",o);for(f=2;f+1<h;f++){n=[],o=[],n.push($n[0][0]),n.push($n[0][1]),n.push($n[0][2]),o.push($n[0][9]),o.push($n[0][10]),o.push($n[0][11]),o.push($n[0][12]);for(l=0;l<2;l++)for(c=0;c<3;c++)n.push($n[f+l][c]);for(l=0;l<2;l++)for(c=9;c<13;c++)o.push($n[f+l][c]);D&&ci(n,"LINE_STRIP",o)}(T||Jt)&&hi(i,"TRIANGLE_FAN",s,u)}}else if(Y===16)for(f=0;f+3<h;f+=4){n=[];for(l=0;l<4;l++){a=$n[f+l];for(c=0;c<3;c++)n.push(a[c])}D&&ci(n,"LINE_LOOP",o);if(T){i=[],s=[],u=[];for(l=0;l<3;l++)i.push($n[f][l]);for(l=5;l<9;l++)s.push($n[f][l]);for(l=0;l<3;l++)i.push($n[f+1][l]);for(l=5;l<9;l++)s.push($n[f+1][l]);for(l=0;l<3;l++)i.push($n[f+3][l]);for(l=5;l<9;l++)s.push($n[f+3][l]);for(l=0;l<3;l++)i.push($n[f+2][l]);for(l=5;l<9;l++)s.push($n[f+2][l]);Jt&&(u.push($n[f+0][3]),u.push($n[f+0][4]),u.push($n[f+1][3]),u.push($n[f+1][4]),u.push($n[f+3][3]),u.push($n[f+3][4]),u.push($n[f+2][3]),u.push($n[f+2][4])),hi(i,"TRIANGLE_STRIP",s,u)}}else if(Y===17){var p=[];if(h>3){for(f=0;f<2;f++){a=$n[f];for(l=0;l<3;l++)n.push(a[l])}for(f=0;f<2;f++){a=$n[f];for(l=9;l<13;l++)o.push(a[l])}ci(n,"LINE_STRIP",o),h>4&&h%2>0&&(p=i.splice(i.length-3),$n.pop());for(f=0;f+3<h;f+=2){n=[],o=[];for(l=0;l<3;l++)n.push($n[f+1][l]);for(l=0;l<3;l++)n.push($n[f+3][l]);for(l=0;l<3;l++)n.push($n[f+2][l]);for(l=0;l<3;l++)n.push($n[f+0][l]);for(l=9;l<13;l++)o.push($n[f+1][l]);for(l=9;l<13;l++)o.push($n[f+3][l]);for(l=9;l<13;l++)o.push($n[f+2][l]);for(l=9;l<13;l++)o.push($n[f+0][l]);D&&ci(n,"LINE_STRIP",o)}(T||Jt)&&hi(i,"TRIANGLE_LIST",s,u)}}else if(h===1){for(l=0;l<3;l++)n.push($n[0][l]);for(l=9;l<13;l++)o.push($n[0][l]);li(n,o)}else{for(f=0;f<h;f++){a=$n[f];for(l=0;l<3;l++)n.push(a[l]);for(l=5;l<9;l++)o.push(a[l])}D&&t?ci(n,"LINE_LOOP",o):D&&!t&&ci(n,"LINE_STRIP",o),(T||Jt)&&hi(i,"TRIANGLE_FAN",s,u)}Jt=!1,y.useProgram(At),dr("usingTexture3d",At,"uUsingTexture",Jt)}else n=i,n.splice(n.length-3),o.splice(o.length-4),D&&ci(n,null,o),T&&hi(i,"TRIANGLES",s);else n=i,D&&ci(n,null,o),T&&hi(i,null,s);Qn=!1,Gn=!1,Jn=[],Kn=0};var di=function(e,t){var n=1/e,r=n*n,i=r*n;t.set(0,0,0,1,i,r,n,0,6*i,2*r,0,0,6*i,0,0,0)},vi=function(){Tt||(St=new Br,Tt=new Br,rt=!0);var e=tt;St.set((e-1)/2,(e+3)/2,(-3-e)/2,(1-e)/2,1-e,(-5-e)/2,e+2,(e-1)/2,(e-1)/2,0,(1-e)/2,0,0,1,0,0),di(nt,Tt),Ct||(xt=new Br),xt.set(St),xt.preApply(Ct),Tt.apply(St)};Tr.prototype.bezierVertex=function(){Gn=!0;var e=[];if(Yn)throw"vertex() must be used at least once before calling bezierVertex()";for(var t=0;t<arguments.length;t++)e[t]=arguments[t];$n.push(e),$n[$n.length-1].isVert=!1},Nr.prototype.bezierVertex=function(){Gn=!0;var e=[];if(Yn)throw"vertex() must be used at least once before calling bezierVertex()";if(arguments.length===9){Nt===r&&(Nt=new Br);var t=$n.length-1;di(st,Nt),Nt.apply(kt);var n=Nt.array(),i=$n[t][0],s=$n[t][1],o=$n[t][2],u=n[4]*i+n[5]*arguments[0]+n[6]*arguments[3]+n[7]*arguments[6],a=n[8]*i+n[9]*arguments[0]+n[10]*arguments[3]+n[11]*arguments[6],f=n[12]*i+n[13]*arguments[0]+n[14]*arguments[3]+n[15]*arguments[6],l=n[4]*s+n[5]*arguments[1]+n[6]*arguments[4]+n[7]*arguments[7],c=n[8]*s+n[9]*arguments[1]+n[10]*arguments[4]+n[11]*arguments[7],h=n[12]*s+n[13]*arguments[1]+n[14]*arguments[4]+n[15]*arguments[7],p=n[4]*o+n[5]*arguments[2]+n[6]*arguments[5]+n[7]*arguments[8],d=n[8]*o+n[9]*arguments[2]+n[10]*arguments[5]+n[11]*arguments[8],v=n[12]*o+n[13]*arguments[2]+n[14]*arguments[5]+n[15]*arguments[8];for(var m=0;m<st;m++)i+=u,u+=a,a+=f,s+=l,l+=c,c+=h,o+=p,p+=d,d+=v,g.vertex(i,s,o);g.vertex(arguments[6],arguments[7],arguments[8])}},g.texture=function(e){var n=S.$ensureContext();if(e.__texture)n.bindTexture(n.TEXTURE_2D,e.__texture);else if(e.localName==="canvas")n.bindTexture(n.TEXTURE_2D,Wt),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.generateMipmap(n.TEXTURE_2D),Vt.width=e.width,Vt.height=e.height;else{var r=n.createTexture(),i=t.createElement("canvas"),s=i.getContext("2d"),o;if(e.width&e.width-1===0)i.width=e.width;else{o=1;while(o<e.width)o*=2;i.width=o}if(e.height&e.height-1===0)i.height=e.height;else{o=1;while(o<e.height)o*=2;i.height=o}s.drawImage(e.sourceImg,0,0,e.width,e.height,0,0,i.width,i.height),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i),n.generateMipmap(n.TEXTURE_2D),e.__texture=r,Vt.width=e.width,Vt.height=e.height}Jt=!0,n.useProgram(At),dr("usingTexture3d",At,"uUsingTexture",Jt)},g.textureMode=function(e){$t=e};var mi=function(e,t,n,r,i,s,o,u,a,f,l,c){var h=r,p=i,d=s,v=Tt.array(),m=v[4]*e+v[5]*r+v[6]*o+v[7]*f,y=v[8]*e+v[9]*r+v[10]*o+v[11]*f,b=v[12]*e+v[13]*r+v[14]*o+v[15]*f,w=v[4]*t+v[5]*i+v[6]*u+v[7]*l,E=v[8]*t+v[9]*i+v[10]*u+v[11]*l,S=v[12]*t+v[13]*i+v[14]*u+v[15]*l,x=v[4]*n+v[5]*s+v[6]*a+v[7]*c,T=v[8]*n+v[9]*s+v[10]*a+v[11]*c,N=v[12]*n+v[13]*s+v[14]*a+v[15]*c;g.vertex(h,p,d);for(var C=0;C<nt;C++)h+=m,m+=y,y+=b,p+=w,w+=E,E+=S,d+=x,x+=T,T+=N,g.vertex(h,p,d)};Tr.prototype.curveVertex=function(e,t){Qn=!0,g.vertex(e,t)},Nr.prototype.curveVertex=function(e,t,n){Qn=!0,rt||vi();var r=[];r[0]=e,r[1]=t,r[2]=n,Jn.push(r),Kn++,Kn>3&&mi(Jn[Kn-4][0],Jn[Kn-4][1],Jn[Kn-4][2],Jn[Kn-3][0],Jn[Kn-3][1],Jn[Kn-3][2],Jn[Kn-2][0],Jn[Kn-2][1],Jn[Kn-2][2],Jn[Kn-1][0],Jn[Kn-1][1],Jn[Kn-1][2])},Tr.prototype.curve=function(e,t,n,r,i,s,o,u){g.beginShape(),g.curveVertex(e,t),g.curveVertex(n,r),g.curveVertex(i,s),g.curveVertex(o,u),g.endShape()},Nr.prototype.curve=function(e,t,n,i,s,o,u,a,f,l,c,h){if(h!==r){g.beginShape(),g.curveVertex(e,t,n),g.curveVertex(i,s,o),g.curveVertex(u,a,f),g.curveVertex(l,c,h),g.endShape();return}g.beginShape(),g.curveVertex(e,t),g.curveVertex(n,i),g.curveVertex(s,o),g.curveVertex(u,a),g.endShape()},g.curveTightness=function(e){tt=e},g.curveDetail=function(e){nt=e,vi()},g.rectMode=function(e){U=e},g.imageMode=function(e){switch(e){case 0:wr=br;break;case 1:wr=Er;break;case 3:wr=Sr;break;default:throw"Invalid imageMode"}},g.ellipseMode=function(e){z=e},g.arc=function(e,t,n,r,i,s){if(n<=0||s<i)return;z===1?(n-=e,r-=t):z===2?(e-=n,t-=r,n*=2,r*=2):z===3&&(e-=n/2,t-=r/2);while(i<0)i+=6.283185307179586,s+=6.283185307179586;s-i>6.283185307179586&&(i=0,s=6.283185307179586);var o=n/2,u=r/2,a=e+o,f=t+u,l=0|.5+i*g.RAD_TO_DEG*2,c=0|.5+s*g.RAD_TO_DEG*2,h,p;if(T){var d=D;D=!1,g.beginShape(),g.vertex(a,f);for(h=l;h<=c;h++)p=h%720,g.vertex(a+kn[p]*o,f+Cn[p]*u);g.endShape(2),D=d}if(D){var v=T;T=!1,g.beginShape();for(h=l;h<=c;h++)p=h%720,g.vertex(a+kn[p]*o,f+Cn[p]*u);g.endShape(),T=v}},Tr.prototype.line=function(e,t,i,s){if(!D)return;e=n.round(e),i=n.round(i),t=n.round(t),s=n.round(s);if(e===i&&t===s){g.point(e,t);return}var o=r,u=r,a=!0,f=_n.array(),l=[1,0,0,0,1,0];for(var c=0;c<6&&a;c++)a=f[c]===l[c];a&&(e===i?(t>s&&(o=t,t=s,s=o),s++,j%2===1&&y.translate(.5,0)):t===s&&(e>i&&(o=e,e=i,i=o),i++,j%2===1&&y.translate(0,.5)),j===1&&(u=y.lineCap,y.lineCap="butt")),y.beginPath(),y.moveTo(e||0,t||0),y.lineTo(i||0,s||0),fi(),a&&(e===i&&j%2===1?y.translate(-0.5,0):t===s&&j%2===1&&y.translate(0,-0.5),j===1&&(y.lineCap=u))},Nr.prototype.line=function(e,t,n,i,s,o){if(s===r||o===r)o=0,s=i,i=n,n=0;if(e===i&&t===s&&n===o){g.point(e,t,n);return}var u=[e,t,n,i,s,o],a=new Br;a.scale(1,-1,1),a.apply(_n.array()),a.transpose(),j>0&&D&&(y.useProgram(Ot),vr("uModel2d",Ot,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),vr("uView2d",Ot,"uView",!1,a.array()),pr("uColor2d",Ot,"uColor",P),dr("uIsDrawingText",Ot,"uIsDrawingText",!1),mr("aVertex2d",Ot,"aVertex",3,Ft),gr("aTextureCoord2d",Ot,"aTextureCoord"),y.bufferData(y.ARRAY_BUFFER,new f(u),y.STREAM_DRAW),y.drawArrays(y.LINES,0,2))},Tr.prototype.bezier=function(){if(arguments.length!==8)throw"You must use 8 parameters for bezier() in 2D mode";g.beginShape(),g.vertex(arguments[0],arguments[1]),g.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]),g.endShape()},Nr.prototype.bezier=function(){if(arguments.length!==12)throw"You must use 12 parameters for bezier() in 3D mode";g.beginShape(),g.vertex(arguments[0],arguments[1],arguments[2]),g.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]),g.endShape()},g.bezierDetail=function(e){st=e},g.bezierPoint=function(e,t,n,r,i){return(1-i)*(1-i)*(1-i)*e+3*(1-i)*(1-i)*i*t+3*(1-i)*i*i*n+i*i*i*r},g.bezierTangent=function(e,t,n,r,i){return 3*i*i*(-e+3*t-3*n+r)+6*i*(e-2*t+n)+3*(-e+t)},g.curvePoint=function(e,t,n,r,i){return.5*(2*t+(-e+n)*i+(2*e-5*t+4*n-r)*i*i+(-e+3*t-3*n+r)*i*i*i)},g.curveTangent=function(e,t,n,r,i){return.5*(-e+n+2*(2*e-5*t+4*n-r)*i+3*(-e+3*t-3*n+r)*i*i)},g.triangle=function(e,t,n,r,i,s){g.beginShape(9),g.vertex(e,t,0),g.vertex(n,r,0),g.vertex(i,s,0),g.endShape()},g.quad=function(e,t,n,r,i,s,o,u){g.beginShape(16),g.vertex(e,t,0),g.vertex(n,r,0),g.vertex(i,s,0),g.vertex(o,u,0),g.endShape()};var gi=function(e,t,i,s,o,u,a,f){f===r&&(u=o,a=o,f=o);var l=i/2,c=s/2;if(o>l||o>c)o=n.min(l,c);if(u>l||u>c)u=n.min(l,c);if(a>l||a>c)a=n.min(l,c);if(f>l||f>c)f=n.min(l,c);(!T||D)&&y.translate(.5,.5),y.beginPath(),y.moveTo(e+o,t),y.lineTo(e+i-u,t),y.quadraticCurveTo(e+i,t,e+i,t+u),y.lineTo(e+i,t+s-a),y.quadraticCurveTo(e+i,t+s,e+i-a,t+s),y.lineTo(e+f,t+s),y.quadraticCurveTo(e,t+s,e,t+s-f),y.lineTo(e,t+o),y.quadraticCurveTo(e,t,e+o,t),(!T||D)&&y.translate(-0.5,-0.5),ai(),fi()};Tr.prototype.rect=function(e,t,i,s,o,u,a,f){if(!i&&!s)return;U===1?(i-=e,s-=t):U===2?(i*=2,s*=2,e-=i/2,t-=s/2):U===3&&(e-=i/2,t-=s/2),e=n.round(e),t=n.round(t),i=n.round(i),s=n.round(s);if(o!==r){gi(e,t,i,s,o,u,a,f);return}D&&j%2===1&&y.translate(.5,.5),y.beginPath(),y.rect(e,t,i,s),ai(),fi(),D&&j%2===1&&y.translate(-0.5,-0.5)},Nr.prototype.rect=function(e,t,n,i,s,o,u,a){if(s!==r)throw"rect() with rounded corners is not supported in 3D mode";U===1?(n-=e,i-=t):U===2?(n*=2,i*=2,e-=n/2,t-=i/2):U===3&&(e-=n/2,t-=i/2);var f=new Br;f.translate(e,t,0),f.scale(n,i,1),f.transpose();var l=new Br;l.scale(1,-1,1),l.apply(_n.array()),l.transpose(),j>0&&D&&(y.useProgram(Ot),vr("uModel2d",Ot,"uModel",!1,f.array()),vr("uView2d",Ot,"uView",!1,l.array()),pr("uColor2d",Ot,"uColor",P),dr("uIsDrawingText2d",Ot,"uIsDrawingText",!1),mr("aVertex2d",Ot,"aVertex",3,Ht),gr("aTextureCoord2d",Ot,"aTextureCoord"),y.drawArrays(y.LINE_LOOP,0,ir.length/3));if(T){y.useProgram(At),vr("uModel3d",At,"uModel",!1,f.array()),vr("uView3d",At,"uView",!1,l.array()),y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(1,1),pr("color3d",At,"uColor",C);if(wn>0){var c=new Br;c.set(l);var h=new Br;h.set(f),c.mult(h);var p=new Br;p.set(c),p.invert(),p.transpose(),vr("uNormalTransform3d",At,"uNormalTransform",!1,p.array()),mr("aNormal3d",At,"aNormal",3,Bt)}else gr("normal3d",At,"aNormal");mr("vertex3d",At,"aVertex",3,Ht),y.drawArrays(y.TRIANGLE_FAN,0,ir.length/3),y.disable(y.POLYGON_OFFSET_FILL)}},Tr.prototype.ellipse=function(e,t,n,r){e=e||0,t=t||0;if(n<=0&&r<=0)return;z===2?(n*=2,r*=2):z===1?(n-=e,r-=t,e+=n/2,t+=r/2):z===0&&(e+=n/2,t+=r/2);if(n===r)y.beginPath(),y.arc(e,t,n/2,0,6.283185307179586,!1),ai(),fi();else{var i=n/2,s=r/2,o=.5522847498307933,u=o*i,a=o*s;g.beginShape(),g.vertex(e+i,t),g.bezierVertex(e+i,t-a,e+u,t-s,e,t-s),g.bezierVertex(e-u,t-s,e-i,t-a,e-i,t),g.bezierVertex(e-i,t+a,e-u,t+s,e,t+s),g.bezierVertex(e+u,t+s,e+i,t+a,e+i,t),g.endShape()}},Nr.prototype.ellipse=function(e,t,n,r){e=e||0,t=t||0;if(n<=0&&r<=0)return;z===2?(n*=2,r*=2):z===1?(n-=e,r-=t,e+=n/2,t+=r/2):z===0&&(e+=n/2,t+=r/2);var i=n/2,s=r/2,o=.5522847498307933,u=o*i,a=o*s;g.beginShape(),g.vertex(e+i,t),g.bezierVertex(e+i,t-a,0,e+u,t-s,0,e,t-s,0),g.bezierVertex(e-u,t-s,0,e-i,t-a,0,e-i,t,0),g.bezierVertex(e-i,t+a,0,e-u,t+s,0,e,t+s,0),g.bezierVertex(e+u,t+s,0,e+i,t+a,0,e+i,t,0),g.endShape();if(T){var f=0,l=0,c,h;for(c=0;c<$n.length;c++)f+=$n[c][0],l+=$n[c][1];f/=$n.length,l/=$n.length;var p=[],d=[],v=[];p[0]=f,p[1]=l,p[2]=0,p[3]=0,p[4]=0,p[5]=C[0],p[6]=C[1],p[7]=C[2],p[8]=C[3],p[9]=P[0],p[10]=P[1],p[11]=P[2],p[12]=P[3],p[13]=W,p[14]=X,p[15]=V,$n.unshift(p);for(c=0;c<$n.length;c++){for(h=0;h<3;h++)d.push($n[c][h]);for(h=5;h<9;h++)v.push($n[c][h])}hi(d,"TRIANGLE_FAN",v)}},g.normal=function(e,t,n){if(arguments.length!==3||typeof e!="number"||typeof t!="number"||typeof n!="number")throw"normal() requires three numeric arguments.";W=e,X=t,V=n,Y!==0&&($===0?$=1:$===1&&($=2))},g.save=function(t,n){return n!==r?e.open(n.toDataURL(),"_blank"):e.open(g.externals.canvas.toDataURL(),"_blank")};var yi=0;g.saveFrame=function(e){e===r&&(e="screen-####.png");var t=e.replace(/#+/,function(e){var t=""+yi++;while(t.length<e.length)t="0"+t;return t});g.save(t)};var bi=t.createElement("canvas").getContext("2d"),wi=[r,r,r],xi=function(e,n,r){this.__isDirty=!1;if(e instanceof HTMLImageElement)this.fromHTMLImageData(e);else if(n||r){this.width=e||1,this.height=n||1;var i=this.sourceImg=t.createElement("canvas");i.width=this.width,i.height=this.height;var s=this.imageData=i.getContext("2d").createImageData(this.width,this.height);this.format=r===2||r===4?r:1;if(this.format===1)for(var o=3,u=this.imageData.data,a=u.length;o<a;o+=4)u[o]=255;this.__isDirty=!0,this.updatePixels()}else this.width=0,this.height=0,this.imageData=bi.createImageData(1,1),this.format=2;this.pixels=Si(this)};xi.prototype={__isPImage:!0,updatePixels:function(){var e=this.sourceImg;e&&e instanceof HTMLCanvasElement&&this.__isDirty&&e.getContext("2d").putImageData(this.imageData,0,0),this.__isDirty=!1},fromHTMLImageData:function(e){var t=Ei(e);try{var n=t.context.getImageData(0,0,e.width,e.height);this.fromImageData(n)}catch(r){e.width&&e.height&&(this.isRemote=!0,this.width=e.width,this.height=e.height)}this.sourceImg=e},get:function(e,t,n,r){if(!arguments.length)return g.get(this);if(arguments.length===2)return g.get(e,t,this);if(arguments.length===4)return g.get(e,t,n,r,this)},set:function(e,t,n){g.set(e,t,n,this),this.__isDirty=!0},blend:function(e,t,n,r,i,s,o,u,a,f){arguments.length===9?g.blend(this,e,t,n,r,i,s,o,u,a,this):arguments.length===10&&g.blend(e,t,n,r,i,s,o,u,a,f,this),delete this.sourceImg},copy:function(e,t,n,r,i,s,o,u,a){arguments.length===8?g.blend(this,e,t,n,r,i,s,o,u,0,this):arguments.length===9&&g.blend(e,t,n,r,i,s,o,u,a,0,this),delete this.sourceImg},filter:function(e,t){arguments.length===2?g.filter(e,t,this):arguments.length===1&&g.filter(e,null,this),delete this.sourceImg},save:function(e){g.save(e,this)},resize:function(e,t){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(this.width!==0||this.height!==0){e===0&&t!==0?e=n.floor(this.width/this.height*t):t===0&&e!==0&&(t=n.floor(this.height/this.width*e));var r=Ei(this.imageData).canvas,i=Ei(r,e,t).context.getImageData(0,0,e,t);this.fromImageData(i)}},mask:function(e){var t=this.toImageData(),n,r;if(e instanceof xi||e.__isPImage){if(e.width!==this.width||e.height!==this.height)throw"mask must have the same dimensions as PImage.";e=e.toImageData();for(n=2,r=this.width*this.height*4;n<r;n+=4)t.data[n+1]=e.data[n]}else if(e instanceof Array){if(this.width*this.height!==e.length)throw"mask array must be the same length as PImage pixels array.";for(n=0,r=e.length;n<r;++n)t.data[n*4+3]=e[n]}this.fromImageData(t)},loadPixels:i,toImageData:function(){if(this.isRemote)return this.sourceImg;if(!this.__isDirty)return this.imageData;var e=Ei(this.sourceImg);return e.context.getImageData(0,0,this.width,this.height)},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";var e=Ei(this.imageData);return e.canvas.toDataURL()},fromImageData:function(e){var n=e.width,r=e.height,i=t.createElement("canvas"),s=i.getContext("2d");this.width=i.width=n,this.height=i.height=r,s.putImageData(e,0,0),this.format=2,this.imageData=e,this.sourceImg=i}},g.PImage=xi,g.createImage=function(e,t,n){return new xi(e,t,n)},g.loadImage=function(e,n,r){n&&(e=e+"."+n);var i;if(w.imageCache.images[e])return i=new xi(w.imageCache.images[e]),i.loaded=!0,i;i=new xi;var s=t.createElement("img");return i.sourceImg=s,s.onload=function(e,t,n){var r=e,i=t,s=n;return function(){i.fromHTMLImageData(r),i.loaded=!0,s&&s()}}(s,i,r),s.src=e,i},g.requestImage=g.loadImage,g.get=function(e,t,n,r,i){return i!==undefined?ki(e,t,n,r,i):r!==undefined?Ci(e,t,n,r):n!==undefined?Ni(e,t,n):t!==undefined?Ti(e,t):e!==undefined?ki(0,0,e.width,e.height,e):Ci(0,0,g.width,g.height)},g.createGraphics=function(e,t,n){var r=new _;return r.size(e,t,n),r.background(0,0),r},g.set=function(e,t,n,r){var i,s;arguments.length===3?typeof n=="number"?Mi(e,t,n):(n instanceof xi||n.__isPImage)&&g.image(n,e,t):arguments.length===4&&_i(e,t,n,r)},g.imageData={},g.pixels={getLength:function(){return g.imageData.data.length?g.imageData.data.length/4:0},getPixel:function(e){var t=e*4,n=g.imageData.data;return n[t+3]<<24&4278190080|n[t+0]<<16&16711680|n[t+1]<<8&65280|n[t+2]&255},setPixel:function(e,t){var n=e*4,r=g.imageData.data;r[n+0]=(t&16711680)>>>16,r[n+1]=(t&65280)>>>8,r[n+2]=t&255,r[n+3]=(t&4278190080)>>>24},toArray:function(){var e=[],t=g.imageData.width*g.imageData.height,n=g.imageData.data;for(var r=0,i=0;r<t;r++,i+=4)e.push(n[i+3]<<24&4278190080|n[i+0]<<16&16711680|n[i+1]<<8&65280|n[i+2]&255);return e},set:function(e){for(var t=0,n=e.length;t<n;t++)this.setPixel(t,e[t])}},g.loadPixels=function(){g.imageData=S.$ensureContext().getImageData(0,0,g.width,g.height)},g.updatePixels=function(){g.imageData&&S.$ensureContext().putImageData(g.imageData,0,0)},g.hint=function(e){var t=S.$ensureContext();e===4?(t.disable(t.DEPTH_TEST),t.depthMask(!1),t.clear(t.DEPTH_BUFFER_BIT)):e===-4?(t.enable(t.DEPTH_TEST),t.depthMask(!0)):e===-1||e===2?I=!0:e===1&&(I=!1)};var Di=function(e,t,n,r){var i;if(e instanceof xi||e.__isPImage){i=e;if(!i.loaded)throw"Error using image in background(): PImage not loaded.";if(i.width!==g.width||i.height!==g.height)throw"Background image must be the same dimensions as the canvas."}else i=g.color(e,t,n,r);it=i};Tr.prototype.background=function(e,t,n,i){e!==r&&Di(e,t,n,i),it instanceof xi||it.__isPImage?(Ur(),y.setTransform(1,0,0,1,0,0),g.image(it,0,0),zr()):(Ur(),y.setTransform(1,0,0,1,0,0),g.alpha(it)!==ot&&y.clearRect(0,0,g.width,g.height),y.fillStyle=g.color.toString(it),y.fillRect(0,0,g.width,g.height),O=!0,zr())},Nr.prototype.background=function(e,t,n,r){arguments.length>0&&Di(e,t,n,r);var i=g.color.toGLArray(it);y.clearColor(i[0],i[1],i[2],i[3]),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT)},Tr.prototype.image=function(e,t,r,i,s){t=n.round(t),r=n.round(r);if(e.width>0){var o=i||e.width,u=s||e.height,a=wr(t||0,r||0,i||e.width,s||e.height,arguments.length<4),f=!!e.sourceImg&&vt===null;if(f){var l=e.sourceImg;e.__isDirty&&e.updatePixels(),y.drawImage(l,0,0,l.width,l.height,a.x,a.y,a.w,a.h)}else{var c=e.toImageData();vt!==null&&(vt(c),e.__isDirty=!0),y.drawImage(Ei(c).canvas,0,0,e.width,e.height,a.x,a.y,a.w,a.h)}}},Nr.prototype.image=function(e,t,r,i,s){e.width>0&&(t=n.round(t),r=n.round(r),i=i||e.width,s=s||e.height,g.beginShape(g.QUADS),g.texture(e),g.vertex(t,r,0,0,0),g.vertex(t,r+s,0,0,s),g.vertex(t+i,r+s,0,i,s),g.vertex(t+i,r,0,i,0),g.endShape())},g.tint=function(e,t,n,r){var i=g.color(e,t,n,r),s=g.red(i)/ut,o=g.green(i)/at,u=g.blue(i)/ft,a=g.alpha(i)/ot;vt=function(e){var t=e.data,n=4*e.width*e.height;for(var r=0;r<n;)t[r++]*=s,t[r++]*=o,t[r++]*=u,t[r++]*=a},mt=function(e){for(var t=0;t<e.length;)e[t++]=s,e[t++]=o,e[t++]=u,e[t++]=a}},g.noTint=function(){vt=null,mt=null},g.copy=function(e,t,n,i,s,o,u,a,f){f===r&&(f=a,a=u,u=o,o=s,s=i,i=n,n=t,t=e,e=g),g.blend(e,t,n,i,s,o,u,a,f,0)},g.blend=function(e,t,n,i,s,o,u,a,f,l,c){if(e.isRemote)throw"Image is loaded remotely. Cannot blend image.";l===r&&(l=f,f=a,a=u,u=o,o=s,s=i,i=n,n=t,t=e,e=g);var h=t+i,p=n+s,d=o+a,v=u+f,m=c||g;(c===r||l===r)&&g.loadPixels(),e.loadPixels(),e===g&&g.intersect(t,n,h,p,o,u,d,v)?g.blit_resize(g.get(t,n,h-t,p-n),0,0,h-t-1,p-n-1,m.imageData.data,m.width,m.height,o,u,d,v,l):g.blit_resize(e,t,n,h,p,m.imageData.data,m.width,m.height,o,u,d,v,l),c===r&&g.updatePixels()};var Pi=function(e){var t=g.floor(e*3.5),n,r;t=t<1?1:t<248?t:248;if(g.shared.blurRadius!==t){g.shared.blurRadius=t,g.shared.blurKernelSize=1+(g.shared.blurRadius<<1),g.shared.blurKernel=new f(g.shared.blurKernelSize);var i=g.shared.blurKernel,s=g.shared.blurKernelSize,o=g.shared.blurRadius;for(n=0;n<s;n++)i[n]=0;var u=(t-1)*(t-1);for(n=1;n<t;n++)i[t+n]=i[r]=u;i[t]=t*t}},Hi=function(e,t){var n,r,i,s,o,u,a,l,c,h,p,d,v=t.pixels.getLength(),m=new f(v),y=new f(v),b=new f(v),w=new f(v),E=0,S,x,T,N;Pi(e);var C=t.height,k=t.width,L=g.shared.blurKernelSize,A=g.shared.blurRadius,O=g.shared.blurKernel,M=t.imageData.data;for(x=0;x<C;x++){for(S=0;S<k;S++){s=i=r=o=n=0,l=S-A;if(l<0)d=-l,l=0;else{if(l>=k)break;d=0}for(T=d;T<L;T++){if(l>=k)break;N=(l+E)*4,a=O[T],o+=a*M[N+3],r+=a*M[N],i+=a*M[N+1],s+=a*M[N+2],n+=a,l++}c=E+S,w[c]=o/n,m[c]=r/n,y[c]=i/n,b[c]=s/n}E+=k}E=0,h=-A,p=h*k;for(x=0;x<C;x++){for(S=0;S<k;S++){s=i=r=o=n=0;if(h<0)d=c=-h,l=S;else{if(h>=C)break;d=0,c=h,l=S+p}for(T=d;T<L;T++){if(c>=C)break;a=O[T],o+=a*w[l],r+=a*m[l],i+=a*y[l],s+=a*b[l],n+=a,c++,l+=k}N=(S+E)*4,M[N]=r/n,M[N+1]=i/n,M[N+2]=s/n,M[N+3]=o/n}E+=k,p+=k,h++}},Bi=function(e,t){var n=0,r=t.pixels.getLength(),i=new l(r),s,o,u,a,f,c,h,p,d,v,m,g,y,b,w,E,S;if(!e)while(n<r){s=n,o=n+t.width;while(n<o)u=a=t.pixels.getPixel(n),h=n-1,c=n+1,p=n-t.width,d=n+t.width,h<s&&(h=n),c>=o&&(c=n),p<0&&(p=0),d>=r&&(d=n),g=t.pixels.getPixel(p),m=t.pixels.getPixel(h),y=t.pixels.getPixel(d),v=t.pixels.getPixel(c),f=77*(u>>16&255)+151*(u>>8&255)+28*(u&255),w=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),b=77*(v>>16&255)+151*(v>>8&255)+28*(v&255),E=77*(g>>16&255)+151*(g>>8&255)+28*(g&255),S=77*(y>>16&255)+151*(y>>8&255)+28*(y&255),w>f&&(a=m,f=w),b>f&&(a=v,f=b),E>f&&(a=g,f=E),S>f&&(a=y,f=S),i[n++]=a}else while(n<r){s=n,o=n+t.width;while(n<o)u=a=t.pixels.getPixel(n),h=n-1,c=n+1,p=n-t.width,d=n+t.width,h<s&&(h=n),c>=o&&(c=n),p<0&&(p=0),d>=r&&(d=n),g=t.pixels.getPixel(p),m=t.pixels.getPixel(h),y=t.pixels.getPixel(d),v=t.pixels.getPixel(c),f=77*(u>>16&255)+151*(u>>8&255)+28*(u&255),w=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),b=77*(v>>16&255)+151*(v>>8&255)+28*(v&255),E=77*(g>>16&255)+151*(g>>8&255)+28*(g&255),S=77*(y>>16&255)+151*(y>>8&255)+28*(y&255),w<f&&(a=m,f=w),b<f&&(a=v,f=b),E<f&&(a=g,f=E),S<f&&(a=y,f=S),i[n++]=a}t.pixels.set(i)};g.filter=function(e,t,n){var i,s,o,u;arguments.length===3?(n.loadPixels(),i=n):(g.loadPixels(),i=g),t===r&&(t=null);if(i.isRemote)throw"Image is loaded remotely. Cannot filter image.";var a=i.pixels.getLength();switch(e){case 11:var f=t||1;Hi(f,i);break;case 12:if(i.format===4){for(u=0;u<a;u++)s=255-i.pixels.getPixel(u),i.pixels.setPixel(u,4278190080|s<<16|s<<8|s);i.format=1}else for(u=0;u<a;u++)s=i.pixels.getPixel(u),o=77*(s>>16&255)+151*(s>>8&255)+28*(s&255)>>8,i.pixels.setPixel(u,s&4278190080|o<<16|o<<8|o);break;case 13:for(u=0;u<a;u++)i.pixels.setPixel(u,i.pixels.getPixel(u)^16777215);break;case 15:if(t===null)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";var l=g.floor(t);if(l<2||l>255)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";var c=l-1;for(u=0;u<a;u++){var h=i.pixels.getPixel(u)>>16&255,p=i.pixels.getPixel(u)>>8&255,d=i.pixels.getPixel(u)&255;h=(h*l>>8)*255/c,p=(p*l>>8)*255/c,d=(d*l>>8)*255/c,i.pixels.setPixel(u,4278190080&i.pixels.getPixel(u)|h<<16|p<<8|d)}break;case 14:for(u=0;u<a;u++)i.pixels.setPixel(u,i.pixels.getPixel(u)|4278190080);i.format=1;break;case 16:t===null&&(t=.5);if(t<0||t>1)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";var v=g.floor(t*255);for(u=0;u<a;u++){var m=g.max((i.pixels.getPixel(u)&16711680)>>16,g.max((i.pixels.getPixel(u)&65280)>>8,i.pixels.getPixel(u)&255));i.pixels.setPixel(u,i.pixels.getPixel(u)&4278190080|(m<v?0:16777215))}break;case 17:Bi(!0,i);break;case 18:Bi(!1,i)}i.updatePixels()},g.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null},g.intersect=function(e,t,n,r,i,s,o,u){var a=n-e+1,f=r-t+1,l=o-i+1,c=u-s+1;if(i<e)l+=i-e,l>a&&(l=a);else{var h=a+e-i;l>h&&(l=h)}if(s<t)c+=s-t,c>f&&(c=f);else{var p=f+t-s;c>p&&(c=p)}return!(l<=0||c<=0)};var ji={};ji[1]=g.modes.blend,ji[2]=g.modes.add,ji[4]=g.modes.subtract,ji[8]=g.modes.lightest,ji[16]=g.modes.darkest,ji[0]=g.modes.replace,ji[32]=g.modes.difference,ji[64]=g.modes.exclusion,ji[128]=g.modes.multiply,ji[256]=g.modes.screen,ji[512]=g.modes.overlay,ji[1024]=g.modes.hard_light,ji[2048]=g.modes.soft_light,ji[4096]=g.modes.dodge,ji[8192]=g.modes.burn,g.blit_resize=function(e,t,r,i,s,o,u,a,f,l,c,h,p){var d,v;t<0&&(t=0),r<0&&(r=0),i>=e.width&&(i=e.width-1),s>=e.height&&(s=e.height-1);var m=i-t,y=s-r,b=c-f,w=h-l;if(b<=0||w<=0||m<=0||y<=0||f>=u||l>=a||t>=e.width||r>=e.height)return;var E=n.floor(m/b*32768),S=n.floor(y/w*32768),x=g.shared;x.srcXOffset=n.floor(f<0?-f*E:t*32768),x.srcYOffset=n.floor(l<0?-l*S:r*32768),f<0&&(b+=f,f=0),l<0&&(w+=l,l=0),b=n.min(b,u-f),w=n.min(w,a-l);var T=l*u+f,N;x.srcBuffer=e.imageData.data,x.iw=e.width,x.iw1=e.width-1,x.ih1=e.height-1;var C=g.filter_bilinear,k=g.filter_new_scanline,L=ji[p],A,O,M,_,D,P,H=4278190080,B=16711680,j=65280,F=255,I=32767,q=15,R=1,U=9,z=x.srcBuffer,W=n.min;for(v=0;v<w;v++){x.sX=x.srcXOffset,x.fracV=x.srcYOffset&I,x.ifV=I-x.fracV,x.v1=(x.srcYOffset>>q)*x.iw,x.v2=W((x.srcYOffset>>q)+1,x.ih1)*x.iw;for(d=0;d<b;d++)O=(T+d)*4,N=o[O+3]<<24&H|o[O]<<16&B|o[O+1]<<8&j|o[O+2]&F,x.fracU=x.sX&I,x.ifU=I-x.fracU,x.ul=x.ifU*x.ifV>>q,x.ll=x.ifU*x.fracV>>q,x.ur=x.fracU*x.ifV>>q,x.lr=x.fracU*x.fracV>>q,x.u1=x.sX>>q,x.u2=W(x.u1+1,x.iw1),M=(x.v1+x.u1)*4,_=(x.v1+x.u2)*4,D=(x.v2+x.u1)*4,P=(x.v2+x.u2)*4,x.cUL=z[M+3]<<24&H|z[M]<<16&B|z[M+1]<<8&j|z[M+2]&F,x.cUR=z[_+3]<<24&H|z[_]<<16&B|z[_+1]<<8&j|z[_+2]&F,x.cLL=z[D+3]<<24&H|z[D]<<16&B|z[D+1]<<8&j|z[D+2]&F,x.cLR=z[P+3]<<24&H|z[P]<<16&B|z[P+1]<<8&j|z[P+2]&F,x.r=x.ul*((x.cUL&B)>>16)+x.ll*((x.cLL&B)>>16)+x.ur*((x.cUR&B)>>16)+x.lr*((x.cLR&B)>>16)<<R&B,x.g=x.ul*(x.cUL&j)+x.ll*(x.cLL&j)+x.ur*(x.cUR&j)+x.lr*(x.cLR&j)>>>q&j,x.b=x.ul*(x.cUL&F)+x.ll*(x.cLL&F)+x.ur*(x.cUR&F)+x.lr*(x.cLR&F)>>>q,x.a=x.ul*((x.cUL&H)>>>24)+x.ll*((x.cLL&H)>>>24)+x.ur*((x.cUR&H)>>>24)+x.lr*((x.cLR&H)>>>24)<<U&H,A=L(N,x.a|x.r|x.g|x.b),o[O]=(A&B)>>>16,o[O+1]=(A&j)>>>8,o[O+2]=A&F,o[O+3]=(A&H)>>>24,x.sX+=E;T+=u,x.srcYOffset+=S}},g.loadFont=function(e,t){if(e===r)throw"font name required in loadFont.";if(e.indexOf(".svg")===-1)return t===r&&(t=un.size),M.get(e,t);var n=g.loadGlyphs(e);return{name:e,css:"12px sans-serif",glyph:!0,units_per_em:n.units_per_em,horiz_adv_x:1/n.units_per_em*n.horiz_adv_x,ascent:n.ascent,descent:n.descent,width:function(t){var n=0,r=t.length;for(var i=0;i<r;i++)try{n+=parseFloat(g.glyphLook(g.glyphTable[e],t[i]).horiz_adv_x)}catch(s){_.debug(s)}return n/g.glyphTable[e].units_per_em}}},g.createFont=function(e,t){return g.loadFont(e,t)},g.textFont=function(e,t){t!==r&&(e.glyph||(e=M.get(e.name,t)),nn=t),un=e,tn=un.name,rn=un.ascent,sn=un.descent,on=un.leading;var n=S.$ensureContext();n.font=un.css},g.textSize=function(e){un=M.get(tn,e),nn=e,rn=un.ascent,sn=un.descent,on=un.leading;var t=S.$ensureContext();t.font=un.css},g.textAscent=function(){return rn},g.textDescent=function(){return sn},g.textLeading=function(e){on=e},g.textAlign=function(e,t){Yt=e,Zt=t||0},Tr.prototype.textWidth=function(e){var t=Fi(e).split(/\r?\n/g),r=0,i,s=t.length;y.font=un.css;for(i=0;i<s;++i)r=n.max(r,un.measureTextWidth(t[i]));return r|0},Nr.prototype.textWidth=function(e){var i=Fi(e).split(/\r?\n/g),s=0,o,u=i.length;Et===r&&(Et=t.createElement("canvas"));var a=Et.getContext("2d");a.font=un.css;for(o=0;o<u;++o)s=n.max(s,a.measureText(i[o]).width);return s|0},g.glyphLook=function(e,t){try{switch(t){case"1":return e.one;case"2":return e.two;case"3":return e.three;case"4":return e.four;case"5":return e.five;case"6":return e.six;case"7":return e.seven;case"8":return e.eight;case"9":return e.nine;case"0":return e.zero;case" ":return e.space;case"$":return e.dollar;case"!":return e.exclam;case'"':return e.quotedbl;case"#":return e.numbersign;case"%":return e.percent;case"&":return e.ampersand;case"'":return e.quotesingle;case"(":return e.parenleft;case")":return e.parenright;case"*":return e.asterisk;case"+":return e.plus;case",":return e.comma;case"-":return e.hyphen;case".":return e.period;case"/":return e.slash;case"_":return e.underscore;case":":return e.colon;case";":return e.semicolon;case"<":return e.less;case"=":return e.equal;case">":return e.greater;case"?":return e.question;case"@":return e.at;case"[":return e.bracketleft;case"\\":return e.backslash;case"]":return e.bracketright;case"^":return e.asciicircum;case"`":return e.grave;case"{":return e.braceleft;case"|":return e.bar;case"}":return e.braceright;case"~":return e.asciitilde;default:return e[t]}}catch(n){_.debug(n)}},Tr.prototype.text$line=function(e,t,n,r,i){var s=0,o=0;if(!un.glyph){if(e&&"fillText"in y){O&&(y.fillStyle=g.color.toString(k),O=!1);if(i===39||i===3)s=un.measureTextWidth(e),i===39?o=-s:o=-s/2;y.fillText(e,t+o,n)}}else{var u=g.glyphTable[tn];Ur(),y.translate(t,n+nn);if(i===39||i===3)s=u.width(e),i===39?o=-s:o=-s/2;var a=u.units_per_em,f=1/a*nn;y.scale(f,f);for(var l=0,c=e.length;l<c;l++)try{g.glyphLook(u,e[l]).draw()}catch(h){_.debug(h)}zr()}},Nr.prototype.text$line=function(e,n,i,s,o){Et===r&&(Et=t.createElement("canvas"));var u=y;y=Et.getContext("2d"),y.font=un.css;var a=un.measureTextWidth(e);Et.width=a,Et.height=nn,y=Et.getContext("2d"),y.font=un.css,y.textBaseline="top",Tr.prototype.text$line(e,0,0,0,37);var f=Et.width/Et.height;y=u,y.bindTexture(y.TEXTURE_2D,Xt),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,Et),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);var l=0;o===39?l=-a:o===3&&(l=-a/2);var c=new Br,h=nn*.5;c.translate(n+l-h/2,i-h,s),c.scale(-f*h,-h,h),c.translate(-1,-1,-1),c.transpose();var p=new Br;p.scale(1,-1,1),p.apply(_n.array()),p.transpose(),y.useProgram(Ot),mr("aVertex2d",Ot,"aVertex",3,Kt),mr("aTextureCoord2d",Ot,"aTextureCoord",2,Qt),dr("uSampler2d",Ot,"uSampler",[0]),dr("uIsDrawingText2d",Ot,"uIsDrawingText",!0),vr("uModel2d",Ot,"uModel",!1,c.array()),vr("uView2d",Ot,"uView",!1,p.array()),pr("uColor2d",Ot,"uColor",C),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,Gt),y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0)},g.text=function(){if(en===5)return;arguments.length===3?Ii(Fi(arguments[0]),arguments[1],arguments[2],0):arguments.length===4?Ii(Fi(arguments[0]),arguments[1],arguments[2],arguments[3]):arguments.length===5?qi(Fi(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):arguments.length===6&&qi(Fi(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},g.textMode=function(e){en=e},g.loadGlyphs=function(i){var s,o,u,a,f,l,c,h,p,d,v,m="[0-9\\-]+",y,b=function(e,t){var n=0,r=[],i,s=new RegExp(e,"g");i=r[n]=s.exec(t);while(i)n++,i=r[n]=s.exec(t);return r},w=function(e){var t=b("[A-Za-z][0-9\\- ]+|Z",e),r=function(){return Ur(),S.$ensureContext()},i=function(){ai(),fi(),zr()};y="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();",s=0,o=0,u=0,a=0,f=0,l=0,e=0,h=0,p="",d=t.length-1;for(var c=0;c<d;c++){var g=t[c][0],w=b(m,g);switch(g[0]){case"M":s=parseFloat(w[0][0]),o=parseFloat(w[1][0]),y+="curContext.moveTo("+s+","+ -o+");";break;case"L":s=parseFloat(w[0][0]),o=parseFloat(w[1][0]),y+="curContext.lineTo("+s+","+ -o+");";break;case"H":s=parseFloat(w[0][0]),y+="curContext.lineTo("+s+","+ -o+");";break;case"V":o=parseFloat(w[0][0]),y+="curContext.lineTo("+s+","+ -o+");";break;case"T":f=parseFloat(w[0][0]),l=parseFloat(w[1][0]),p==="Q"||p==="T"?(e=n.sqrt(n.pow(s-u,2)+n.pow(a-o,2)),h=n.PI+n.atan2(u-s,a-o),u=s+n.sin(h)*e,a=o+n.cos(h)*e):(u=s,a=o),y+="curContext.quadraticCurveTo("+u+","+ -a+","+f+","+ -l+");",s=f,o=l;break;case"Q":u=parseFloat(w[0][0]),a=parseFloat(w[1][0]),f=parseFloat(w[2][0]),l=parseFloat(w[3][0]),y+="curContext.quadraticCurveTo("+u+","+ -a+","+f+","+ -l+");",s=f,o=l;break;case"Z":y+="curContext.closePath();"}p=g[0]}return y+="afterPathDraw();",y+="curContext.translate("+v+",0);",y+="}}",(new Function("beforePathDraw","afterPathDraw",y))(r,i)},E=function(e){var t=e.getElementsByTagName("font");g.glyphTable[i].horiz_adv_x=t[0].getAttribute("horiz-adv-x");var n=e.getElementsByTagName("font-face")[0];g.glyphTable[i].units_per_em=parseFloat(n.getAttribute("units-per-em")),g.glyphTable[i].ascent=parseFloat(n.getAttribute("ascent")),g.glyphTable[i].descent=parseFloat(n.getAttribute("descent"));var s=e.getElementsByTagName("glyph"),o=s.length;for(var u=0;u<o;u++){var a=s[u].getAttribute("unicode"),f=s[u].getAttribute("glyph-name");v=s[u].getAttribute("horiz-adv-x"),v===null&&(v=g.glyphTable[i].horiz_adv_x),c=s[u].getAttribute("d"),c!==r&&(y=w(c),g.glyphTable[i][f]={name:f,unicode:a,horiz_adv_x:v,draw:y.draw})}},x=function(){var n;try{n=t.implementation.createDocument("","",null)}catch(r){_.debug(r.message);return}try{n.async=!1,n.load(i),E(n.getElementsByTagName("svg")[0])}catch(s){_.debug(s);try{var o=new e.XMLHttpRequest;o.open("GET",i,!1),o.send(null),E(o.responseXML.documentElement)}catch(u){_.debug(s)}}};return g.glyphTable[i]={},x(i),g.glyphTable[i]},g.param=function(e){var t="data-processing-"+e;if(a.hasAttribute(t))return a.getAttribute(t);for(var n=0,r=a.childNodes.length;n<r;++n){var i=a.childNodes.item(n);if(i.nodeType!==1||i.tagName.toLowerCase()!=="param")continue;if(i.getAttribute("name")===e)return i.getAttribute("value")}return w.params.hasOwnProperty(e)?w.params[e]:null},Cr.prototype.translate=Ui("translate"),Cr.prototype.transform=Ui("transform"),Cr.prototype.scale=Ui("scale"),Cr.prototype.pushMatrix=Ui("pushMatrix"),Cr.prototype.popMatrix=Ui("popMatrix"),Cr.prototype.resetMatrix=Ui("resetMatrix"),Cr.prototype.applyMatrix=Ui("applyMatrix"),Cr.prototype.rotate=Ui("rotate"),Cr.prototype.rotateZ=Ui("rotateZ"),Cr.prototype.shearX=Ui("shearX"),Cr.prototype.shearY=Ui("shearY"),Cr.prototype.redraw=Ui("redraw"),Cr.prototype.toImageData=Ui("toImageData"),Cr.prototype.ambientLight=Ui("ambientLight"),Cr.prototype.directionalLight=Ui("directionalLight"),Cr.prototype.lightFalloff=Ui("lightFalloff"),Cr.prototype.lightSpecular=Ui("lightSpecular"),Cr.prototype.pointLight=Ui("pointLight"),Cr.prototype.noLights=Ui("noLights"),Cr.prototype.spotLight=Ui("spotLight"),Cr.prototype.beginCamera=Ui("beginCamera"),Cr.prototype.endCamera=Ui("endCamera"),Cr.prototype.frustum=Ui("frustum"),Cr.prototype.box=Ui("box"),Cr.prototype.sphere=Ui("sphere"),Cr.prototype.ambient=Ui("ambient"),Cr.prototype.emissive=Ui("emissive"),Cr.prototype.shininess=Ui("shininess"),Cr.prototype.specular=Ui("specular"),Cr.prototype.fill=Ui("fill"),Cr.prototype.stroke=Ui("stroke"),Cr.prototype.strokeWeight=Ui("strokeWeight"),Cr.prototype.smooth=Ui("smooth"),Cr.prototype.noSmooth=Ui("noSmooth"),Cr.prototype.point=Ui("point"),Cr.prototype.vertex=Ui("vertex"),Cr.prototype.endShape=Ui("endShape"),Cr.prototype.bezierVertex=Ui("bezierVertex"),Cr.prototype.curveVertex=Ui("curveVertex"),Cr.prototype.curve=Ui("curve"),Cr.prototype.line=Ui("line"),Cr.prototype.bezier=Ui("bezier"),Cr.prototype.rect=Ui("rect"),Cr.prototype.ellipse=Ui("ellipse"),Cr.prototype.background=Ui("background"),Cr.prototype.image=Ui("image"),Cr.prototype.textWidth=Ui("textWidth"),Cr.prototype.text$line=Ui("text$line"),Cr.prototype.$ensureContext=Ui("$ensureContext"),Cr.prototype.$newPMatrix=Ui("$newPMatrix"),Cr.prototype.size=function(e,t,n){Ri(n===2?"3D":"2D"),g.size(e,t,n)},Cr.prototype.$init=i,Tr.prototype.$init=function(){g.size(g.width,g.height),y.lineCap="round",g.noSmooth(),g.disableContextMenu()},Nr.prototype.$init=function(){g.use3DContext=!0,g.disableContextMenu()},xr.prototype.$ensureContext=function(){return y},Vr(a,"touchstart",function(e){a.setAttribute("style","-webkit-user-select: none"),a.setAttribute("onclick","void(0)"),a.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var t=0,n=Xr.length;t<n;t++){var i=Xr[t].type;(i==="mouseout"||i==="mousemove"||i==="mousedown"||i==="mouseup"||i==="DOMMouseScroll"||i==="mousewheel"||i==="touchstart")&&$r(Xr[t])}g.touchStart!==r||g.touchMove!==r||g.touchEnd!==r||g.touchCancel!==r?(Vr(a,"touchstart",function(e){g.touchStart!==r&&(e=Xi(e),g.touchStart(e))}),Vr(a,"touchmove",function(e){g.touchMove!==r&&(e.preventDefault(),e=Xi(e),g.touchMove(e))}),Vr(a,"touchend",function(e){g.touchEnd!==r&&(e=Xi(e),g.touchEnd(e))}),Vr(a,"touchcancel",function(e){g.touchCancel!==r&&(e=Xi(e),g.touchCancel(e))})):(Vr(a,"touchstart",function(e){Wi(a,e.touches[0]),g.__mousePressed=!0,g.mouseDragging=!1,g.mouseButton=37,typeof g.mousePressed=="function"&&g.mousePressed()}),Vr(a,"touchmove",function(e){e.preventDefault(),Wi(a,e.touches[0]),typeof g.mouseMoved=="function"&&!g.__mousePressed&&g.mouseMoved(),typeof g.mouseDragged=="function"&&g.__mousePressed&&(g.mouseDragged(),g.mouseDragging=!0)}),Vr(a,"touchend",function(e){g.__mousePressed=!1,typeof g.mouseClicked=="function"&&!g.mouseDragging&&g.mouseClicked(),typeof g.mouseReleased=="function"&&g.mouseReleased()})),a.dispatchEvent(e)}),function(){var e=!0,t=function(e){e.preventDefault(),e.stopPropagation()};g.disableContextMenu=function(){if(!e)return;Vr(a,"contextmenu",t),e=!1},g.enableContextMenu=function(){if(e)return;$r({elem:a,type:"contextmenu",fn:t}),e=!0}}(),Vr(a,"mousemove",function(e){Wi(a,e),typeof g.mouseMoved=="function"&&!g.__mousePressed&&g.mouseMoved(),typeof g.mouseDragged=="function"&&g.__mousePressed&&(g.mouseDragged(),g.mouseDragging=!0)}),Vr(a,"mouseout",function(e){typeof g.mouseOut=="function"&&g.mouseOut()}),Vr(a,"mouseover",function(e){Wi(a,e),typeof g.mouseOver=="function"&&g.mouseOver()}),a.onmousedown=function(){return a.focus(),!1},Vr(a,"mousedown",function(e){g.__mousePressed=!0,g.mouseDragging=!1;switch(e.which){case 1:g.mouseButton=37;break;case 2:g.mouseButton=3;break;case 3:g.mouseButton=39}typeof g.mousePressed=="function"&&g.mousePressed()}),Vr(a,"mouseup",function(e){g.__mousePressed=!1,typeof g.mouseClicked=="function"&&!g.mouseDragging&&g.mouseClicked(),typeof g.mouseReleased=="function"&&g.mouseReleased()});var Vi=function(t){var n=0;t.wheelDelta?(n=t.wheelDelta/120,e.opera&&(n=-n)):t.detail&&(n=-t.detail/3),g.mouseScroll=n,n&&typeof g.mouseScrolled=="function"&&g.mouseScrolled()};Vr(t,"DOMMouseScroll",Vi),Vr(t,"mousewheel",Vi),a.getAttribute("tabindex")||a.setAttribute("tabindex",0);if(!v){u instanceof _.Sketch?w=u:typeof u=="function"?w=new _.Sketch(u):u?w=_.compile(u):w=new _.Sketch(function(){}),g.externals.sketch=w,Ri(),a.onfocus=function(){g.focused=!0},a.onblur=function(){g.focused=!1,w.options.globalKeyEvents||Gi()},w.options.pauseOnBlur&&(Vr(e,"focus",function(){q&&g.loop()}),Vr(e,"blur",function(){q&&F&&(g.noLoop(),q=!0),Gi()}));var ns=w.options.globalKeyEvents?e:a;Vr(ns,"keydown",Zi),Vr(ns,"keypress",es),Vr(ns,"keyup",ts);for(var rs in _.lib)_.lib.hasOwnProperty(rs)&&(_.lib[rs].hasOwnProperty("attach")?_.lib[rs].attach(g):_.lib[rs]instanceof Function&&_.lib[rs].call(this));var is=100,ss=function(n){if(!w.imageCache.pending&&!M.preloading.pending(is)){if(e.opera){var r,i,s=w.imageCache.operaCache;for(r in s)s.hasOwnProperty(r)&&(i=s[r],i!==null&&t.body.removeChild(i),delete s[r])}w.attach(n,E),w.onLoad(n),n.setup&&(n.setup(),n.resetMatrix(),w.onSetup()),Li(),n.draw&&(q?n.loop():n.redraw())}else e.setTimeout(function(){ss(n)},is)};A(this),ss(g)}else w=new _.Sketch,Ri(),g.size=function(e,t,n){n&&n===2?Ri("3D"):Ri("2D"),g.size(e,t,n)}};_.debug=s,_.prototype=E,_.compile=function(e){var t=new _.Sketch,n=H(e,t),r=P(n);return t.sourceCode=r,t};var B=function(){var e={},n="undefined",r="function",i=!1,s=!0,o=512,u="log";return typeof tinylog!==n&&typeof tinylog[u]===r?e[u]=tinylog[u]:typeof t!==n&&!t.fake?function(){var n=t,r="div",a="style",f="title",l={zIndex:1e4,position:"fixed",bottom:"0px",width:"100%",height:"15%",fontFamily:"sans-serif",color:"#ccc",backgroundColor:"black"},c={position:"relative",fontFamily:"monospace",overflow:"auto",height:"100%",paddingTop:"5px"},h={height:"5px",marginTop:"-5px",cursor:"n-resize",backgroundColor:"darkgrey"},p={position:"absolute",top:"5px",right:"20px",color:"#111",MozBorderRadius:"4px",webkitBorderRadius:"4px",borderRadius:"4px",cursor:"pointer",fontWeight:"normal",textAlign:"center",padding:"3px 5px",backgroundColor:"#333",fontSize:"12px"},d={minHeight:"16px"},v={fontSize:"12px",margin:"0 8px 0 8px",maxWidth:"100%",whiteSpace:"pre-wrap",overflow:"auto"},m=n.defaultView,g=n.documentElement,y=g[a],b=function(){var e=arguments.length,t,n,r;while(e--){n=arguments[e--],t=arguments[e][a];for(r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}},w=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),[e,t,n]},E=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n)},S=function(e){var t=e.childNodes,n=t.length;while(n--)e.removeChild(t.item(0))},x=function(e,t){return e.appendChild(t)},T=function(e){return n.createElement(e)},N=function(e){return n.createTextNode(e)},C=e[u]=function(t){var k,L=y.paddingBottom,A=T(r),O=A[a],M=x(A,T(r)),_=x(A,T(r)),D=x(A,T(r)),P=i,H=i,B=i,j=0,F=function(){y.paddingBottom=A.clientHeight+"px"},I=function(e){var t=m.innerHeight,n=M.clientHeight;e<0?e=0:e+n>t&&(e=t-n),O.height=e/t*100+"%",F()},q=[w(n,"mousemove",function(e){P&&(I(m.innerHeight-e.clientY),_.scrollTop=B)}),w(n,"mouseup",function(){P&&(P=B=i)}),w(M,"dblclick",function(e){e.preventDefault(),H?(I(H),H=i):(H=A.clientHeight,O.height="0px")}),w(M,"mousedown",function(e){e.preventDefault(),P=s,B=_.scrollTop}),w(M,"contextmenu",function(){P=i}),w(D,"click",function(){k()})];k=function(){var t=q.length;while(t--)E.apply(e,q[t]);g.removeChild(A),y.paddingBottom=L,S(_),S(A),e[u]=C},b(A,l,_,c,M,h,D,p),D[f]="Close Log",x(D,N("✖")),M[f]="Double-click to toggle log minimization",g.insertBefore(A,g.firstChild),e[u]=function(e){j===o?_.removeChild(_.firstChild):j++;var t=x(_,T(r)),n=x(t,T(r));t[f]=(new Date).toLocaleTimeString(),b(t,d,n,v),x(n,N(e)),_.scrollTop=_.scrollHeight},e[u](t),F()}}():typeof print===r&&(e[u]=print),e}();_.logger=B,_.version="1.4.1",_.lib={},_.registerLibrary=function(e,t){_.lib[e]=t,t.hasOwnProperty("init")&&t.init(E)},_.instances=C,_.getInstanceById=function(e){return C[k[e]]},_.Sketch=function(n){this.attachFunction=n,this.options={pauseOnBlur:!1,globalKeyEvents:!1},this.onLoad=i,this.onSetup=i,this.onPause=i,this.onLoop=i,this.onFrameStart=i,this.onFrameEnd=i,this.onExit=i,this.params={},this.imageCache={pending:0,images:{},operaCache:{},add:function(n,r){if(this.images[n])return;u||(this.images[n]=null),r||(r=new Image,r.onload=function(e){return function(){e.pending--}}(this),this.pending++,r.src=n),this.images[n]=r;if(e.opera){var i=t.createElement("div");i.appendChild(r),i.style.position="absolute",i.style.opacity=0,i.style.width="1px",i.style.height="1px",this.operaCache[n]||(t.body.appendChild(i),this.operaCache[n]=i)}}},this.sourceCode=undefined,this.attach=function(e){if(typeof this.attachFunction=="function")this.attachFunction(e);else{if(!this.sourceCode)throw"Unable to attach sketch to the processing instance";var t=(new Function("return ("+this.sourceCode+");"))();t(e),this.attachFunction=t}},this.toString=function(){var e,t="((function(Sketch) {\n";t+="var sketch = new Sketch(\n"+this.sourceCode+");\n";for(e in this.options)if(this.options.hasOwnProperty(e)){var n=this.options[e];t+="sketch.options."+e+" = "+(typeof n=="string"?'"'+n+'"':""+n)+";\n"}for(e in this.imageCache)this.options.hasOwnProperty(e)&&(t+='sketch.imageCache.add("'+e+'");\n');return t+="return sketch;\n})(Processing.Sketch))",t}};var j=function(n,r){function a(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState===4){var t;r.status!==200&&r.status!==0?t="Invalid XHR status "+r.status:r.responseText===""&&("withCredentials"in new XMLHttpRequest&&(new XMLHttpRequest).withCredentials===!1&&e.location.protocol==="file:"?t="XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":t="File is empty."),n(r.responseText,t)}},r.open("GET",t,!0),r.overrideMimeType&&r.overrideMimeType("application/json"),r.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),r.send(null)}function f(e,r){function f(t,a){i[e]=t,++u,a&&s.push(r+" ==> "+a);if(u===o){if(s.length!==0)throw"Processing.js: Unable to load pjs sketch files: "+s.join("\n");try{return new _(n,i.join("\n"))}catch(f){throw"Processing.js: Unable to execute pjs sketch: "+f}}}if(r.charAt(0)==="#"){var l=t.getElementById(r.substring(1));l?f(l.text||l.textContent):f("","Unable to load pjs sketch: element with id '"+r.substring(1)+"' was not found");return}a(r,f)}var i=[],s=[],o=r.length,u=0;for(var l=0;l<o;++l)f(l,r[l])},F=function(){t.removeEventListener("DOMContentLoaded",F,!1),C=[];var e=t.getElementsByTagName("canvas"),n;for(var i=0,s=e.length;i<s;i++){var o=e[i].getAttribute("data-processing-sources");o===null&&(o=e[i].getAttribute("data-src"),o===null&&(o=e[i].getAttribute("datasrc")));if(o){n=o.split(/\s+/g);for(var u=0;u<n.length;)n[u]?u++:n.splice(u,1);j(e[i],n)}}var a,f,l,c,h=t.getElementsByTagName("script"),p=[];for(a=h.length-1;a>=0;a--)p.push(h[a]);for(a=0,f=p.length;a<f;a++){var d=p[a];if(!d.getAttribute)continue;var v=d.getAttribute("type");if(v&&(v.toLowerCase()==="text/processing"||v.toLowerCase()==="application/processing")){var m=d.getAttribute("data-processing-target");e=r;if(m)e=t.getElementById(m);else{var g=d.nextSibling;while(g&&g.nodeType!==1)g=g.nextSibling;g&&g.nodeName.toLowerCase()==="canvas"&&(e=g)}if(e){if(d.getAttribute("src")){n=d.getAttribute("src").split(/\s+/),j(e,n);continue}l=d.textContent||d.text,c=new _(e,l)}}}};_.reload=function(){if(C.length>0)for(var e=C.length-1;e>=0;e--)C[e]&&C[e].exit();F()},_.loadSketchFromSources=j,_.disableInit=function(){u&&t.removeEventListener("DOMContentLoaded",F,!1)},u?(e.Processing=_,t.addEventListener("DOMContentLoaded",F,!1)):this.Processing=_}(window,window.document,Math),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide",{relatedTarget:i[0]});if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){"use strict";function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||s.toggleClass("open"),n.focus(),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider):visible a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",r).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+t.$scrollElement.scrollTop(),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.offset(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})}(window.jQuery),function(){var e=window.WebSocket||window.MozWebSocket,t=window.brunch||{},n=t["auto-reload"]||{};if(!e||!n.enabled)return;var r=function(e){var t=Math.round(Date.now()/1e3).toString();return e=e.replace(/(\&|\\?)cacheBuster=\d*/,""),e+(e.indexOf("?")>=0?"&":"?")+"cacheBuster="+t},i={page:function(){window.location.reload(!0)},stylesheet:function(){[].slice.call(document.querySelectorAll('link[rel="stylesheet"]')).filter(function(e){return e!=null&&e.href!=null}).forEach(function(e){e.href=r(e.href)})}},s=n.port||9485,o=t.server?t.server:window.location.hostname,u=new e("ws://"+o+":"+s);u.onmessage=function(e){var t=e.data,n=window.brunch;if(!n||!n["auto-reload"]||!n["auto-reload"].enabled)return;i[t]!=null?i[t]():i.page()}}(),jade=function(e){function t(e){return e!=null}return Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),e.merge=function(n,r){var i=n["class"],s=r["class"];if(i||s)i=i||[],s=s||[],Array.isArray(i)||(i=[i]),Array.isArray(s)||(s=[s]),i=i.filter(t),s=s.filter(t),n["class"]=i.concat(s).join(" ");for(var o in r)o!="class"&&(n[o]=r[o]);return n},e.attrs=function(n,r){var i=[],s=n.terse;delete n.terse;var o=Object.keys(n),u=o.length;if(u){i.push("");for(var a=0;a<u;++a){var f=o[a],l=n[f];"boolean"==typeof l||null==l?l&&(s?i.push(f):i.push(f+'="'+f+'"')):0==f.indexOf("data")&&"string"!=typeof l?i.push(f+"='"+JSON.stringify(l)+"'"):"class"==f&&Array.isArray(l)?i.push(f+'="'+e.escape(l.join(" "))+'"'):r&&r[f]?i.push(f+'="'+e.escape(l)+'"'):i.push(f+'="'+l+'"')}}return i.join(" ")},e.escape=function(t){return String(t).replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.rethrow=function(t,n,r){if(!n)throw t;var i=3,s=require("fs").readFileSync(n,"utf8"),o=s.split("\n"),u=Math.max(r-i,0),a=Math.min(o.length,r+i),i=o.slice(u,a).map(function(e,t){var n=t+u+1;return(n==r?"  > ":"    ")+n+"| "+e}).join("\n");throw t.path=n,t.message=(n||"Jade")+":"+r+"\n"+i+"\n\n"+t.message,t},e}({}),jQuery.fn.hammer=function(e){return this.each(function(){var t=new Hammer(this,e),n=jQuery(this);n.data("hammer",t);var r=["hold","tap","doubletap","transformstart","transform","transformend","dragstart","drag","dragend","swipe","release"];for(var i=0;i<r.length;i++)t["on"+r[i]]=function(e,t){return function(n){e.trigger(jQuery.Event(t,n))}}(n,r[i])})},function(e){function r(e){if(e in t.style)return e;var n=["Moz","Webkit","O","ms"],r=e.charAt(0).toUpperCase()+e.substr(1);if(e in t.style)return e;for(var i=0;i<n.length;++i){var s=n[i]+r;if(s in t.style)return s}}function i(){return t.style[n.transform]="",t.style[n.transform]="rotateY(90deg)",t.style[n.transform]!==""}function f(e){return typeof e=="string"&&this.parse(e),this}function l(e,t,n){t===!0?e.queue(n):t?e.queue(t,n):n()}function c(t){var n=[];return e.each(t,function(t){t=e.camelCase(t),t=e.transit.propertyMap[t]||e.cssProps[t]||t,t=d(t),e.inArray(t,n)===-1&&n.push(t)}),n}function h(t,n,r,i){var s=c(t);e.cssEase[r]&&(r=e.cssEase[r]);var o=""+m(n)+" "+r;parseInt(i,10)>0&&(o+=" "+m(i));var u=[];return e.each(s,function(e,t){u.push(t+" "+o)}),u.join(", ")}function p(t,r){r||(e.cssNumber[t]=!0),e.transit.propertyMap[t]=n.transform,e.cssHooks[t]={get:function(n){var r=e(n).css("transit:transform");return r.get(t)},set:function(n,r){var i=e(n).css("transit:transform");i.setFromString(t,r),e(n).css({"transit:transform":i})}}}function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function v(e,t){return typeof e=="string"&&!e.match(/^[\-0-9\.]+$/)?e:""+e+t}function m(t){var n=t;return e.fx.speeds[n]&&(n=e.fx.speeds[n]),v(n,"ms")}e.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var t=document.createElement("div"),n={},s=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;n.transition=r("transition"),n.transitionDelay=r("transitionDelay"),n.transform=r("transform"),n.transformOrigin=r("transformOrigin"),n.transform3d=i();var o={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},u=n.transitionEnd=o[n.transition]||null;for(var a in n)n.hasOwnProperty(a)&&typeof e.support[a]=="undefined"&&(e.support[a]=n[a]);t=null,e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},e.cssHooks["transit:transform"]={get:function(t){return e(t).data("transform")||new f},set:function(t,r){var i=r;i instanceof f||(i=new f(i)),n.transform==="WebkitTransform"&&!s?t.style[n.transform]=i.toString(!0):t.style[n.transform]=i.toString(),e(t).data("transform",i)}},e.cssHooks.transform={set:e.cssHooks["transit:transform"].set},e.fn.jquery<"1.8"&&(e.cssHooks.transformOrigin={get:function(e){return e.style[n.transformOrigin]},set:function(e,t){e.style[n.transformOrigin]=t}},e.cssHooks.transition={get:function(e){return e.style[n.transition]},set:function(e,t){e.style[n.transition]=t}}),p("scale"),p("translate"),p("rotate"),p("rotateX"),p("rotateY"),p("rotate3d"),p("perspective"),p("skewX"),p("skewY"),p("x",!0),p("y",!0),f.prototype={setFromString:function(e,t){var n=typeof t=="string"?t.split(","):t.constructor===Array?t:[t];n.unshift(e),f.prototype.set.apply(this,n)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=v(e,"deg")},rotateX:function(e){this.rotateX=v(e,"deg")},rotateY:function(e){this.rotateY=v(e,"deg")},scale:function(e,t){t===undefined&&(t=e),this.scale=e+","+t},skewX:function(e){this.skewX=v(e,"deg")},skewY:function(e){this.skewY=v(e,"deg")},perspective:function(e){this.perspective=v(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){this._translateX===undefined&&(this._translateX=0),this._translateY===undefined&&(this._translateY=0),e!==null&&e!==undefined&&(this._translateX=v(e,"px")),t!==null&&t!==undefined&&(this._translateY=v(t,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");return e[0]&&(e[0]=parseFloat(e[0])),e[1]&&(e[1]=parseFloat(e[1])),e[0]===e[1]?e[0]:e},rotate3d:function(){var e=(this.rotate3d||"0,0,0,0deg").split(",");for(var t=0;t<=3;++t)e[t]&&(e[t]=parseFloat(e[t]));return e[3]&&(e[3]=v(e[3],"deg")),e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,n,r){t.setFromString(n,r)})},toString:function(e){var t=[];for(var r in this)if(this.hasOwnProperty(r)){if(!n.transform3d&&(r==="rotateX"||r==="rotateY"||r==="perspective"||r==="transformOrigin"))continue;r[0]!=="_"&&(e&&r==="scale"?t.push(r+"3d("+this[r]+",1)"):e&&r==="translate"?t.push(r+"3d("+this[r]+",0)"):t.push(r+"("+this[r]+")"))}return t.join(" ")}},e.fn.transition=e.fn.transit=function(t,r,i,s){var o=this,a=0,f=!0;typeof r=="function"&&(s=r,r=undefined),typeof i=="function"&&(s=i,i=undefined),typeof t.easing!="undefined"&&(i=t.easing,delete t.easing),typeof t.duration!="undefined"&&(r=t.duration,delete t.duration),typeof t.complete!="undefined"&&(s=t.complete,delete t.complete),typeof t.queue!="undefined"&&(f=t.queue,delete t.queue),typeof t.delay!="undefined"&&(a=t.delay,delete t.delay),typeof r=="undefined"&&(r=e.fx.speeds._default),typeof i=="undefined"&&(i=e.cssEase._default),r=m(r);var c=h(t,r,i,a),p=e.transit.enabled&&n.transition,d=p?parseInt(r,10)+parseInt(a,10):0;if(d===0){var v=function(e){o.css(t),s&&s.apply(o),e&&e()};return l(o,f,v),o}var g={},y=function(r){var i=!1,a=function(){i&&o.unbind(u,a),d>0&&o.each(function(){this.style[n.transition]=g[this]||null}),typeof s=="function"&&s.apply(o),typeof r=="function"&&r()};d>0&&u&&e.transit.useTransitionEnd?(i=!0,o.bind(u,a)):window.setTimeout(a,d),o.each(function(){d>0&&(this.style[n.transition]=c),e(this).css(t)})},b=function(e){this.offsetWidth,y(e)};return l(o,f,b),this},e.transit.getTransitionValue=h}(jQuery)